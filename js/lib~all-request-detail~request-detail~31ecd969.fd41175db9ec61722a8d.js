(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{753:function(e,t,a){"use strict";var n=(0,a(253).defineMessages)({createApprovalTitle:{id:"formMessages.createApprovalTitle",defaultMessage:"Create approval process"},generalInformation:{id:"formMessages.generalInformation",defaultMessage:"General information"},setGroups:{id:"formMessages.setGroups",defaultMessage:"Add groups"},enterInfo:{id:"formMessages.enterInfo",defaultMessage:"Enter your information"},approvalProcessName:{id:"formMessages.approvalProcessName",defaultMessage:"Name"},enterApprovalName:{id:"formMessages.enterApprovalName",defaultMessage:"Enter a name for the approval process"},description:{id:"formMessages.description",defaultMessage:"Description"},nameTaken:{id:"formMessages.nameTaken",defaultMessage:"Name has already been taken"},selectPlaceholder:{id:"formMessages.selectPlaceholder",defaultMessage:"Select..."},summary:{id:"formMessages.summary",defaultMessage:"Summary"},groups:{id:"formMessages.groups",defaultMessage:"Groups"},create:{id:"formMessages.create",defaultMessage:"Create"},existingGroupsMessage:{id:"formMessages.existingGroups",defaultMessage:"Current groups"}});t.a=n},814:function(e,t,a){"use strict";var n=a(107),r=a.n(n),s=a(106),c=a.n(s),l=a(11),o=a.n(l),i=a(0),m=a.n(i),u=a(24),p=a(133),d=a(269),f=a(227),g=a(270),E=a(817),y=a(7),b=a.n(y),h=a(333),x=a(334),q=a(727),T=a(257),v=a(265),k=a(104),j=a(203),O=a(697),M=a(310),N=a(105),C=a(751),_=a(753),P=function(e){var t=e.request,a=e.requestContent,n=Object(M.a)();return m.a.createElement(T.Stack,{hasGutter:!0},m.a.createElement(v.StackItem,{key:"request-detail-panel"},m.a.createElement(h.Card,null,m.a.createElement(x.CardBody,null,m.a.createElement(T.Stack,{hasGutter:!0},m.a.createElement(v.StackItem,{key:"request-summary"},m.a.createElement(O.Title,{headingLevel:"h5",size:"lg"},n.formatMessage(_.a.summary))),m.a.createElement(v.StackItem,{key:"request-product"},m.a.createElement(j.TextContent,null,m.a.createElement(k.Text,{className:"font-14"},n.formatMessage(C.a.product)),m.a.createElement(k.Text,{id:"portfolio-item-name",component:k.TextVariants.p},a?a.product:""))),m.a.createElement(v.StackItem,{key:"request-portfolio"},m.a.createElement(j.TextContent,null,m.a.createElement(k.Text,{className:"font-14"},n.formatMessage(C.a.portfolio)),m.a.createElement(k.Text,{id:"portfolio-name",component:k.TextVariants.p},a?a.portfolio:""))),m.a.createElement(v.StackItem,{key:"request-platform"},m.a.createElement(j.TextContent,null,m.a.createElement(k.Text,{className:"font-14"},n.formatMessage(C.a.platform)),m.a.createElement(k.Text,{id:"source-name",component:k.TextVariants.p},a?a.platform:" "))),m.a.createElement(v.StackItem,{key:"request-requester"},m.a.createElement(j.TextContent,null,m.a.createElement(k.Text,{className:"font-14"},n.formatMessage(N.a.requesterColumn)),m.a.createElement(k.Text,{id:"requester_name",component:k.TextVariants.p},t.requester_name))),m.a.createElement(v.StackItem,{key:"request-order"},m.a.createElement(j.TextContent,null,m.a.createElement(k.Text,{className:"font-14"},n.formatMessage(N.a.orderNumber)),m.a.createElement(k.Text,{id:"order_id",component:k.TextVariants.p},a?a.order_id:""))))))),m.a.createElement(v.StackItem,{key:"request-parameters"},m.a.createElement(h.Card,null,m.a.createElement(q.CardTitle,null,m.a.createElement(O.Title,{headingLevel:"h5",size:"lg"},n.formatMessage(N.a.parameters))),m.a.createElement(x.CardBody,null,m.a.createElement(T.Stack,{hasGutter:!0},a.params&&Object.keys(a.params).map((function(e){return a.params[e]&&m.a.createElement(v.StackItem,{key:"request-".concat(a.params[e])},m.a.createElement(j.TextContent,null,m.a.createElement(k.Text,{key:e,className:"font-14"},"".concat(e)),m.a.createElement(k.Text,{id:e,component:k.TextVariants.p},"".concat(a.params[e]))))})))))))};P.propTypes={request:b.a.shape({requester_name:b.a.string,order_id:b.a.string}).isRequired,requestContent:b.a.object};var I=P,L=a(65),S=a.n(L),D=a(879),w=a(159),R=a(57),F=a(217),G=a.n(F),B=a(730),A=a.n(B),V=a(732),H=a.n(V),z=a(731),U=a.n(z),J=a(423),W=a.n(J),K=a(733),Q=a.n(K),X=a(314),Y=a.n(X),Z=a(165),$=a.n(Z),ee=a(813),te=a(135),ae={memo:{displayName:N.a.commentFrom,icon:m.a.createElement(A.a,null)},approve:{displayName:N.a.approvedBy,icon:m.a.createElement(G.a,{className:"pf-u-mr-0 icon-success-fill"})},deny:{displayName:N.a.deniedBy,icon:m.a.createElement(U.a,{className:"pf-u-mr-sm icon-danger-fill"})},notify:{displayName:N.a.notifiedBy,icon:m.a.createElement(H.a,null)},skip:{displayName:N.a.skippedBy,icon:m.a.createElement(W.a,null)},start:{displayName:N.a.startedBy,icon:m.a.createElement(Q.a,null)},cancel:{displayName:N.a.canceledBy,icon:m.a.createElement(Y.a,{className:"pf-u-mr-sm icon-danger-fill"})},error:{displayName:N.a.errorBy,icon:m.a.createElement($.a,{className:"pf-u-mr-0 icon-danger-fill"})}},ne=function(e){var t=e.actionList,a=Object(M.a)();return t?m.a.createElement(T.Stack,null,t.map((function(e){return m.a.createElement("div",{key:"".concat(e.id,"-action")},m.a.createElement(j.TextContent,null,m.a.createElement(k.Text,{key:"".concat(e.id,"-action-created_at"),className:"pf-u-mb-0",component:k.TextVariants.small},Object(R.h)(e.created_at)),m.a.createElement(k.Text,{key:"".concat(e.id,"-action-operation"),className:"pf-u-mb-md"},(t=e.operation,ae[t]?ae[t].icon:""),"Â ",a.formatMessage(function(e){return ae[e]?ae[e].displayName:Object(te.e)()}(e.operation),{by:e.processed_by})),e.comments&&m.a.createElement(k.Text,{key:"".concat(e.id,"-action-comments"),className:"pf-u-pt-0",component:k.TextVariants.p},e.comments)));var t}))):m.a.createElement(ee.EmptyTable,{centered:!0,"aria-label":a.formatMessage(C.a.noRecords)})};ne.propTypes={actionList:b.a.array};var re=a(324),se=a(327),ce=a(329),le=a(728),oe=a(328),ie=a(729),me=a(75),ue=a(74),pe=a(790),de=function(e){var t=e.item,a=e.isExpanded,n=e.toggleExpand,r=e.indexpath,s=Object(i.useContext)(me.a).userRoles,c=Object(R.i)(s),l=Object(M.a)(),o=function(e,t){return!!c||e.metadata&&e.metadata.user_capabilities&&e.metadata.user_capabilities[t]};return m.a.createElement(re.DataListItem,{key:"request-".concat(t.id),"aria-labelledby":"check-request-".concat(t.id),isExpanded:a},m.a.createElement(se.DataListItemRow,null,m.a.createElement(le.DataListToggle,{onClick:function(){return n("request-".concat(t.id))},isExpanded:a,id:"request-".concat(t.id),"aria-labelledby":"request-".concat(t.id," request-").concat(t.id),"aria-label":l.formatMessage(N.a.toggleDetailsFor)}),m.a.createElement(oe.DataListItemCells,{dataListCells:[m.a.createElement(ce.DataListCell,{key:t.id},m.a.createElement("span",{id:"".concat(t.id,"-name")},t.group_name?t.group_name:t.name)),m.a.createElement(ce.DataListCell,{key:"".concat(t.id,"-state")},m.a.createElement("span",{style:{textTransform:"capitalize"},id:"".concat(t.id,"-state")},l.formatMessage(N.a[t.state]||Object(te.e)(t.state)))),m.a.createElement(ce.DataListCell,{key:"".concat(t.id,"-action")},m.a.createElement(pe.a,{approveLink:r.approve,denyLink:r.deny,commentLink:r.comment,request:t,canApproveDeny:o(t,"approve"),canComment:o(t,"memo")}))]})),m.a.createElement(ie.DataListContent,{"aria-label":l.formatMessage(N.a.requestContentDetails),isHidden:!a},m.a.createElement(T.Stack,{hasGutter:!0},m.a.createElement(v.StackItem,null,m.a.createElement(j.TextContent,{component:k.TextVariants.h6},m.a.createElement(ne,{actionList:t.actions}))))))};de.propTypes={item:b.a.shape({id:b.a.string,name:b.a.string,state:b.a.string,actions:b.a.array,group_name:b.a.string.isRequired,requestActions:b.a.shape({data:b.a.array}),metadata:b.a.shape({user_capabilities:b.a.object})}).isRequired,isExpanded:b.a.bool.isRequired,toggleExpand:b.a.func.isRequired,indexpath:b.a.object},de.defaultProps={indexpath:ue.a.request};var fe=a(136),ge=function(e){var t=e.isLoading,a=e.items,n=e.noItems,r=e.indexpath,s=Object(i.useState)([]),l=c()(s,2),o=l[0],u=l[1],p=Object(M.a)(),d=function(e){var t=o.indexOf(e),a=t>=0?[].concat(S()(o.slice(0,t)),S()(o.slice(t+1,o.length))):[].concat(S()(o),[e]);u(a)};return m.a.createElement(i.Fragment,null,m.a.createElement("div",null,t&&m.a.createElement(i.Fragment,null,m.a.createElement(D.PageHeader,null,m.a.createElement(D.PageHeaderTitle,{title:n})),m.a.createElement(fe.b,null))),a.length>0&&m.a.createElement(w.DataList,{"aria-label":p.formatMessage(N.a.expandableDataList)},a.map((function(e,t){return m.a.createElement(de,{key:e.id,item:e,idx:t,isActive:0===t,isExpanded:(a="request-".concat(e.id),o.includes(a)),toggleExpand:d,indexpath:r});var a}))))};ge.propTypes={isLoading:b.a.bool,items:b.a.array,noItems:b.a.string,active_request:b.a.number,indexpath:b.a.object},ge.defaultProps={items:[]};var Ee=ge,ye=function(e){var t=e.request,a=e.indexpath,n=Object(M.a)();return m.a.createElement(i.Fragment,null,m.a.createElement(O.Title,{headingLevel:"h5",size:"lg",className:"pf-u-pl-lg pf-u-pb-lg"},n.formatMessage(N.a.requestTranscript)),m.a.createElement(Ee,{items:t.requests&&t.requests.length>0?t.requests:[t],indexpath:a}))};ye.propTypes={request:b.a.shape({content:b.a.object,requests:b.a.array}).isRequired,indexpath:b.a.object};var be=ye,he=a(789),xe=a(209),qe=a(756);function Te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ke={isFetching:!0},je=function(e,t){switch(t.type){case"setFetching":return ve(ve({},e),{},{isFetching:t.payload});default:return e}},Oe=function(e){var t=e.requestBreadcrumbs,a=e.indexpath,n=Object(i.useReducer)(je,ke),s=c()(n,2),l=s[0].isFetching,o=s[1],y=Object(p.useSelector)((function(e){var t=e.requestReducer,a=t.requestContent;return{selectedRequest:t.selectedRequest,requestContent:a}})),b=y.selectedRequest,h=y.requestContent,x=Object(qe.a)(["request"]),q=c()(x,1)[0].request,T=Object(u.h)(),v=Object(p.useDispatch)(),k=Object(i.useContext)(me.a).userRoles,j=Object(M.a)();Object(i.useEffect)((function(){Promise.all([v(Object(he.c)(q,Object(R.d)(k))),v(Object(he.d)(q,Object(R.d)(k)))]).then((function(){return o({type:"setFetching",payload:!1})}))}),[]);var O=function(e){return o({type:"setFetching",payload:!0}),v(Object(he.c)(e,Object(R.d)(k))),v(Object(he.d)(e,Object(R.d)(k))).then((function(){return o({type:"setFetching",payload:!1})})).catch((function(){return o({type:"setFetching",payload:!1})}))};return m.a.createElement(i.Fragment,null,m.a.createElement(u.d,null,m.a.createElement(u.b,{exact:!0,path:a.comment},m.a.createElement(E.a,{actionType:"Comment",postMethod:function(){return O(b.id)},closeUrl:{pathname:a.index,search:"?request=".concat(b.id)}})),m.a.createElement(u.b,{exact:!0,path:a.approve,render:function(e){return m.a.createElement(E.a,r()({},e,{actionType:"Approve",postMethod:function(){return O(b.id)},closeUrl:{pathname:a.index,search:"?request=".concat(b.id)}}))}}),m.a.createElement(u.b,{exact:!0,path:a.deny,render:function(e){return m.a.createElement(E.a,r()({},e,{actionType:"Deny",postMethod:function(){return O(b.id)},closeUrl:{pathname:a.index,search:"?request=".concat(b.id)}}))}})),m.a.createElement(xe.a,{breadcrumbs:t,paddingBottom:!0},m.a.createElement(xe.b,{title:j.formatMessage(N.a.requestTitle,{id:q})})),m.a.createElement(g.Section,{type:"content"},m.a.createElement(d.Grid,{hasGutter:!0},l||!b||0===Object.keys(b).length?m.a.createElement(g.Section,{style:{backgroundColor:"white",minHeight:"100%"}},m.a.createElement(fe.d,null)):m.a.createElement(i.Fragment,null,m.a.createElement(f.GridItem,{md:4,lg:3,className:"info-bar pf-u-p-0"},m.a.createElement(I,{request:b,requestContent:h})),m.a.createElement(f.GridItem,{md:8,lg:9,className:"detail-pane pf-u-p-lg"},m.a.createElement(be,{request:b,url:T.url,indexpath:a}))))))};Oe.propTypes={requestBreadcrumbs:b.a.array,indexpath:b.a.object};t.a=Oe},879:function(e,t,a){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),a(134);var r=a(205),s=a(204),c=a(254),l=n(a(0)),o=n(a(7)),i=n(a(256)),m=a(422),u=a(697),p=function(e){var t=e.className,a=e.children,n=c._objectWithoutProperties(e,["className","children"]),o=i(t,"pf-l-page-header","pf-c-page-header","pf-l-page__main-section","pf-c-page__main-section");return l.createElement(m.ThemeContext.Consumer,null,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",t=i(s._defineProperty({},"pf-m-".concat(e,"-200"),"dark"===e),s._defineProperty({},"pf-m-light","light"===e));return l.createElement("section",r._extends({},n,{className:"".concat(o," ").concat(t),"widget-type":"InsightsPageHeader"}),a)}))};p.propTypes={children:o.any.isRequired,className:o.string};var d=function(e){var t=e.className,a=e.title,n=i(t);return l.createElement(u.Title,{headingLevel:"h1",size:"2xl",className:n,"widget-type":"InsightsPageHeaderTitle"}," ",a," ")};d.propTypes={title:o.node.isRequired,className:o.string},t.PageHeader=p,t.PageHeaderTitle=d,t.default=p}}]);
//# sourceMappingURL=../sourcemaps/lib~all-request-detail~request-detail~31ecd969.js.map