(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{716:function(e,t,a){"use strict";var r=(0,a(193).defineMessages)({createApprovalTitle:{id:"formMessages.createApprovalTitle",defaultMessage:"Create approval process"},generalInformation:{id:"formMessages.generalInformation",defaultMessage:"General information"},setGroups:{id:"formMessages.setGroups",defaultMessage:"Set groups"},enterInfo:{id:"formMessages.enterInfo",defaultMessage:"Enter your information"},approvalProcessName:{id:"formMessages.approvalProcessName",defaultMessage:"Name"},enterApprovalName:{id:"formMessages.enterApprovalName",defaultMessage:"Enter a name for the approval process"},description:{id:"formMessages.description",defaultMessage:"Description"},nameTaken:{id:"formMessages.nameTaken",defaultMessage:"Name has already been taken"},selectPlaceholder:{id:"formMessages.selectPlaceholder",defaultMessage:"Select..."},summary:{id:"formMessages.summary",defaultMessage:"Summary"},groups:{id:"formMessages.groups",defaultMessage:"Groups"}});t.a=r},789:function(e,t,a){"use strict";a.r(t);var r=a(195),n=a.n(r),s=a(88),o=a.n(s),c=a(10),i=a.n(c),l=a(0),u=a.n(l),f=a(108),p=a(16),d=a(65),m=a(203),g=a(202),w=a(194),v=a(667),b=a.n(v),h=a(81),M=a(283),y=a(14),k=a(100),O=a.n(k),E=a(166),P=a.n(E),j=a(199),T=a(197),S=a(90),D=Object(j.f)(),q=Object(j.e)();function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.a,a=arguments.length>2?arguments[2]:void 0,r="&limit=".concat(Math.max(t.limit,10),"&offset=").concat(t.offset),n="&filter[name][contains_i]=".concat(e),s=a?"&sort_by=".concat(a.property,":").concat(a.direction):"";return Object(j.b)().get("".concat(S.a,"/workflows/?").concat(n).concat(r).concat(s))}function F(e){return R.apply(this,arguments)}function R(){return(R=P()(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.destroyWorkflow(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return A.apply(this,arguments)}function A(){return(A=P()(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=P()(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.destroyWorkflow(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=(0,a(193).defineMessages)({editInfo:{id:"worfklowMessages.editInfo",defaultMessage:"Edit info"},editInformation:{id:"worfklowMessages.editInformation",defaultMessage:"Edit information"},editGroups:{id:"worfklowMessages.editGroups",defaultMessage:"Edit groups"},editSequence:{id:"worfklowMessages.editSequence",defaultMessage:"Edit sequence"},deleteApprovalTitle:{id:"worfklowMessages.deleteApprovalTitle",defaultMessage:"Delete approval process"},approvalProcess:{id:"worfklowMessages.approvalProcess",defaultMessage:"approval process"},approvalProcesses:{id:"worfklowMessages.approvalProcesses",defaultMessage:"approval processes"},noApprovalProcesses:{id:"worfklowMessages.noApprovalProcesses",defaultMessage:"No approval processes"},sequence:{id:"workflowMessages.sequence",defaultMessage:"Sequence"},enterSequence:{id:"workflowMessages.enterSequence",defaultMessage:"Enter sequence"},removeProcessTitle:{id:"workflowMessages.removeProcessTitle",defaultMessage:"Delete {count, plural, one {approval process} other {approval processes}}?"},removeProcessAriaLabel:{id:"workflowMessages.removeProcessTitle",defaultMessage:"Delete {count, plural, one {approval process} other {approval processes}} modal"},removeProcessDescription:{id:"workflowMessages.removeProcessDescription",defaultMessage:"{name} will be removed."},removeProcessDescriptionWithDeps:{id:"workflowMessages.removeProcessDescriptionWithDeps",defaultMessage:"{name} will be removed from the following applications: {dependenciesList}"},editProcessTitle:{id:"workflowMessages.editProcessTitle",defaultMessage:"Make any changes to approval process {name}"},editSequenceTitle:{id:"workflowMessages.editSequenceTitle",defaultMessage:"Set the sequence for the approval process {name}"},editGroupsTitle:{id:"workflowMessages.editGroupsTitle",defaultMessage:"Edit approval process's groups"},editGroupsLabel:{id:"workflowMessages.editGroupsLabel",defaultMessage:"Add or remove {name}'s groups"},addProcessSuccessTitle:{id:"workflowMessages.addProcessSuccessTitle",defaultMessage:"Success adding approval process"},addProcessSuccessDescription:{id:"workflowMessages.addProcessSuccessDescription",defaultMessage:"The approval process was added successfully."},updateProcessSuccessTitle:{id:"workflowMessages.updateProcessSuccessTitle",defaultMessage:"Success updating approval process"},updateProcessSuccessDescription:{id:"workflowMessages.updateProcessSuccessDescription",defaultMessage:"The approval process was updated successfully."},removeProcessSuccessTitle:{id:"workflowMessages.removeProcessSuccessTitle",defaultMessage:"Success removing approval process"},removeProcessSuccessDescription:{id:"workflowMessages.removeProcessSuccessDescription",defaultMessage:"The approval process was removed successfully."},removeProcessesSuccessTitle:{id:"workflowMessages.removeProcessesSuccessTitle",defaultMessage:"Success removing approval processes"},removeProcessesSuccessDescription:{id:"workflowMessages.removeProcessesSuccessDescription",defaultMessage:"The selected approval processes were removed successfully."}}),W=function(e){return function(t,a){var r=a().workflowReducer,n=r.sortBy,s=r.workflows,o=r.filterValue,c=e;if(!e&&s){var i=s.meta;c={limit:i.limit,offset:i.offset}}return t({type:y.k,payload:x(o,c,n)})}},N=function(e){return{type:y.j,payload:(t=e,D.showWorkflow(t))};var t},G=function(e,t){return{type:y.a,payload:(a=e,q.listTemplates().then((function(e){var t=e.data;if(!t[0])throw new Error("No template exists");return t[0].id})).then((function(e){return D.addWorkflowToTemplate(e,a,{})}))),meta:{notifications:{fulfilled:{variant:"success",title:t.formatMessage(C.addProcessSuccessTitle),description:t.formatMessage(C.addProcessSuccessDescription)}}}};var a},I=function(e,t){return{type:y.s,payload:(a=e,D.updateWorkflow(a.id,a)),meta:{notifications:{fulfilled:{variant:"success",title:t.formatMessage(C.updateProcessSuccessTitle),description:t.formatMessage(C.updateProcessSuccessDescription)}}}};var a},L=function(e){return{type:y.p,payload:e}},_=a(204),B=a.n(_),U=a(264),z=a(665),X=a(51),J=a(721),Q=a(72),H=a.n(Q),K=a(715),Y=a.n(K),Z=a(720),$=a.n(Z),ee=a(728),te=a(716),ae=Object(ee.a)((function(e,t,a){return function(e){return x(e)}(e).then((function(r){var n=r.data;if(t?n.find((function(a){return e===a.name&&t!==a.id})):n.find((function(t){return e===t.name})))throw a.formatMessage(te.a.nameTaken)}))})),re=function(e,t){return[{component:Y.a.TEXT_FIELD,name:"name",isRequired:!0,id:"workflow-name",label:e.formatMessage(te.a.approvalProcessName),validate:[function(a){return ae(a,t,e)},{type:$.a.REQUIRED,message:e.formatMessage(te.a.enterApprovalName)}]},{component:Y.a.TEXTAREA,name:"description",id:"workflow-description",label:e.formatMessage(te.a.description)}]},ne=Object(ee.a)((function(e){var t="&name=".concat(e);return Object(j.b)().get("".concat(S.c,'/groups/?role_names=",Approval Administrator,Approval Approver,"\n  ').concat(e&&e.length>0?t:"")).then((function(e){var t=e.data;return t&&t.length>0?t.map((function(e){var t=e.uuid;return{label:e.name,value:t}})):void 0}))})),se=function(e){return{component:Y.a.SELECT,name:"wfGroups",label:e.formatMessage(te.a.setGroups),loadOptions:ne,noValueUpdates:!0,isMulti:!0,isSearchable:!0,simpleValue:!1,menuIsPortal:!0,isClearable:!0,placeholder:e.formatMessage(te.a.selectPlaceholder)}},oe=function(e){return{fields:[].concat(H()(re(e)),[se(e)])}};function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var le=function(){var e=Object(f.useDispatch)(),t=Object(p.g)().push,a=Object(U.a)(),r=function(){return t(X.a.workflows.index)};return u.a.createElement(z.Modal,{isOpen:!0,onClose:r,title:a.formatMessage(te.a.createApprovalTitle),variant:"small"},u.a.createElement(J.a,{showFormControls:!1,onSubmit:function(r){var n=r.wfGroups,s=void 0===n?[]:n,o=B()(r,["wfGroups"]);return t(X.a.workflows.index),e(G(ie(ie({},o),{},{group_refs:s.length>0?s.map((function(e){return{name:e.label,uuid:e.value}})):[]}),a)).then((function(){return e(W())}))},onCancel:r,schema:oe(a),disableSubmit:["validating"]}))},ue=a(8),fe=a.n(ue),pe=a(198),de=a(734),me=a.n(de),ge=a(91),we=a(717),ve=function(e){var t=Object(f.useSelector)((function(e){return{workflows:e.workflowReducer.workflows}}),f.shallowEqual).workflows;return t&&t.data&&t.data.find((function(t){return t.id===e}))},be=a(712);function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ye=function(e,t,a,r){return"info"===e?{fields:[{component:Y.a.SUB_FORM,title:u.a.createElement("span",{className:"pf-c-title pf-m-md"},a.formatMessage(C.editProcessTitle,{name:t})),name:"info-sub",fields:re(a,r)}]}:{fields:[{component:Y.a.SUB_FORM,title:u.a.createElement("span",{className:"pf-c-title pf-m-md"},a.formatMessage(C.editSequenceTitle,{name:t})),name:"info-sub",fields:[{component:Y.a.TEXT_FIELD,name:"sequence",label:a.formatMessage(C.enterSequence),isRequired:!0,validate:[{type:$.a.REQUIRED}]}]}]}},ke=function(e,t){var a=t.type,r=t.initialValues,n=t.schema;switch(a){case"loaded":return Me(Me({},e),{},{initialValues:r,schema:n,isLoading:!1});default:return e}},Oe=function(e){var t=e.fetchWorkflow,a=e.updateWorkflow,r=e.postMethod,s=e.editType,c=Object(l.useReducer)(ke,{isLoading:!0}),i=o()(c,2),f=i[0],d=i[1],m=Object(p.g)().push,g=Object(we.a)(["workflow"]),w=o()(g,1)[0].workflow,v=ve(w),b=Object(U.a)();Object(l.useEffect)((function(){v?d({type:"loaded",initialValues:v,schema:ye(s,v.name,b,v.id)}):t(w).then((function(e){return d({type:"loaded",initialValues:e.value,schema:ye(s,e.value.name,b,e.value.id)})}))}),[]);var h=function(){return m(X.a.workflows.index)};return u.a.createElement(z.Modal,{title:"sequence"===s?b.formatMessage(C.editSequence):b.formatMessage(C.editInformation),variant:"small",isOpen:!0,onClose:h},f.isLoading&&u.a.createElement(ge.f,null),!f.isLoading&&u.a.createElement(J.a,{FormTemplate:function(e){return u.a.createElement(me.a,n()({},e,{submitLabel:b.formatMessage(be.a.save),buttonClassName:"pf-u-mt-0",disableSubmit:["submitting"]}))},onCancel:h,onSubmit:function(e){var t=e.name,n=e.description,s=e.sequence;return a({id:w,name:t,description:n,sequence:s},b).then((function(){return r()})).then((function(){return m(X.a.workflows.index)}))},initialValues:f.initialValues,schema:f.schema}))};Oe.defaultProps={editType:"info"},Oe.propTypes={fetchWorkflow:fe.a.func.isRequired,postMethod:fe.a.func.isRequired,updateWorkflow:fe.a.func.isRequired,editType:fe.a.string};var Ee=Object(f.connect)(null,(function(e){return Object(pe.a)({addWorkflow:G,updateWorkflow:I,fetchWorkflow:N},e)}))(Oe);function Pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Te=function(e,t){return{fields:[je(je({},se(t)),{},{label:t.formatMessage(C.editGroupsLabel,{name:e})})]}},Se=function(e){var t=e.group_refs.map((function(e){return{label:e.name,value:e.uuid}}));return je(je({},e),{},{wfGroups:t})},De=function(e,t){var a=t.type,r=t.initialValues,n=t.intl;switch(a){case"loaded":return je(je({},e),{},{schema:Te(r.name,n),initialValues:Se(r),isLoading:!1});default:return e}},qe=function(e){var t=e.fetchWorkflow,a=e.updateWorkflow,r=e.postMethod,s=Object(l.useReducer)(De,{isLoading:!0}),c=o()(s,2),i=c[0],f=c[1],d=Object(U.a)(),m=Object(p.g)().push,g=Object(we.a)(["workflow"]),w=o()(g,1)[0].workflow,v=ve(w);Object(l.useEffect)((function(){v?f({type:"loaded",initialValues:Se(v),intl:d}):t(w).then((function(e){return f({type:"loaded",initialValues:Se(e.value),intl:d})}))}),[]);var b=function(){return m("/workflows")};return u.a.createElement(z.Modal,{title:d.formatMessage(C.editGroupsTitle),variant:"small",isOpen:!0,onClose:b},i.isLoading?u.a.createElement(ge.f,null):u.a.createElement(J.a,{FormTemplate:function(e){return u.a.createElement(me.a,n()({},e,{submitLabel:d.formatMessage(be.a.save),buttonClassName:"pf-u-mt-0",disableSubmit:["submitting"]}))},onCancel:b,onSubmit:function(e){var t=e.wfGroups,n={group_refs:t?t.map((function(e){return{name:e.label,uuid:e.value}})):[]};return a(je({id:w},n),d).then((function(){return r()})).then((function(){return m("/workflows")}))},initialValues:i.initialValues,schema:i.schema}))};qe.propTypes={fetchWorkflow:fe.a.func.isRequired,postMethod:fe.a.func.isRequired,updateWorkflow:fe.a.func.isRequired};var xe=Object(f.connect)(null,(function(e){return Object(pe.a)({addWorkflow:G,updateWorkflow:I,fetchWorkflow:N},e)}))(qe),Fe=a(64),Re=a(107),Ve=a(703),Ae=a(664),Ce=a(702),We=a.n(Ce),Ne=a(747),Ge=a.n(Ne),Ie=function(e){var t=e.ids,a=void 0===t?[]:t,r=e.fetchData,n=e.setSelectedWorkflows,s=Object(f.useDispatch)(),c=Object(l.useState)(),i=o()(c,2),d=i[0],m=i[1],g=Object(l.useState)(!1),v=o()(g,2),b=v[0],h=v[1],M=Object(p.g)().push,k=Object(we.a)(["workflow"]),O=o()(k,1)[0].workflow||1===a.length&&a[0],E=Object(U.a)(),P=ve(O);if(Object(l.useEffect)((function(){O&&!P&&s(N(O)).then((function(e){var t=e.value;return m(t)})).catch((function(){return M(X.a.workflows.index)}))}),[]),!O&&0===a.length)return null;var j=function(){return s(O?function(e,t){return{type:y.l,payload:F(e),meta:{notifications:{fulfilled:{variant:"success",title:t.formatMessage(C.removeProcessSuccessTitle),description:t.formatMessage(C.removeProcessSuccessDescription)}}}}}(O,E):function(e,t){return{type:y.m,payload:V(e),meta:{notifications:{fulfilled:{variant:"success",title:t.formatMessage(C.removeProcessesSuccessTitle),description:t.formatMessage(C.removeProcessesSuccessDescription)}}}}}(a,E)).catch((function(){return h(!1)})).then((function(){return M(X.a.workflows.index)})).then((function(){return n([])})).then((function(){return r()}))},T=function(){return M(X.a.workflows.index)},D=function(){var e=P||d;return e&&!Ge()(e)&&e.metadata&&e.metadata.object_dependencies&&!Ge()(e.metadata.object_dependencies)?Object.keys(e.metadata.object_dependencies).reduce((function(e,t){return[].concat(H()(e),["".concat(S.b[t]||t)])}),[]):[]},q=u.a.createElement("b",{key:"remove-key"},O?d&&d.name||P&&P.name:u.a.createElement(u.a.Fragment,null,a.length," ",E.formatMessage(C.approvalProcesses))),x=O&&!P&&!d;return u.a.createElement(z.Modal,{isOpen:!0,variant:"small","aria-label":E.formatMessage(C.removeProcessAriaLabel,{count:O?1:a.length}),header:u.a.createElement(Ae.Title,{size:"2xl",headingLevel:"h1"},u.a.createElement(We.a,{size:"sm",fill:"#f0ab00",className:"pf-u-mr-sm"}),E.formatMessage(C.removeProcessTitle,{count:O?1:a.length})),onClose:T,actions:[u.a.createElement(w.Button,{id:"submit-remove-workflow",key:"submit",variant:"danger",type:"button",isDisabled:b,onClick:function(){return h(!0),j()}},b?u.a.createElement(u.a.Fragment,null,u.a.createElement(Ve.Spinner,{size:"sm",className:"pf-u-mr-md"}),E.formatMessage(be.a.deleting)):E.formatMessage(be.a.delete)),u.a.createElement(w.Button,{id:"cancel-remove-workflow",key:"cancel",variant:"link",type:"button",isDisabled:b,onClick:T},E.formatMessage(be.a.cancel))]},u.a.createElement(Re.TextContent,null,u.a.createElement(Fe.Text,{component:Fe.TextVariants.p},x?u.a.createElement(ge.c,null):Ge()(D())?E.formatMessage(C.removeProcessDescription,{name:q}):E.formatMessage(C.removeProcessDescriptionWithDeps,{name:q,dependenciesList:u.a.createElement("span",{key:"span",className:"pf-u-mt-lg span-block"},D().map((function(e){return u.a.createElement("li",{key:e},e)})))}))))};Ie.propTypes={fetchData:fe.a.func.isRequired,setSelectedWorkflows:fe.a.func.isRequired,ids:fe.a.array};var Le=Ie,_e=function(e){var t=e.description,a=e.groupRefs,r=Object(U.a)();return u.a.createElement(l.Fragment,null,u.a.createElement(Re.TextContent,null,u.a.createElement(Fe.Text,{className:"pf-u-mb-0",component:Fe.TextVariants.small},r.formatMessage(te.a.description)),u.a.createElement(Fe.Text,{className:"pf-u-mb-md",component:Fe.TextVariants.p},t)),u.a.createElement(Re.TextContent,null,u.a.createElement(l.Fragment,null,u.a.createElement(Fe.Text,{className:"pf-u-mb-0",component:Fe.TextVariants.small},r.formatMessage(te.a.groups)),u.a.createElement(Fe.Text,{className:"pf-u-mb-md",component:Fe.TextVariants.p},function(e){return e.map((function(e){return e.name}))}(a).join(",")))))};_e.propTypes={description:fe.a.string,groupRefs:fe.a.array.isRequired,id:fe.a.string.isRequired};var Be=_e,Ue=function(e){return e.reduce((function(e,t,a){var r=t.id,n=t.name,s=t.description,o=t.sequence,c=t.group_refs;return[].concat(H()(e),[{id:r,isOpen:!1,selected:!1,cells:[n,s,o]},{parent:2*a,cells:[{title:u.a.createElement(Be,{description:s,groupRefs:c,id:r})}]}])}),[])},ze=a(748),Xe=a(149),Je=a(736),Qe=a(38),He=a(752),Ke=a(727);function Ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ye(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $e=function(e){return[{title:e.formatMessage(Ke.a.name),cellFormatters:[h.b],transforms:[M.a]},{title:e.formatMessage(te.a.description),transforms:[M.a]},{title:e.formatMessage(C.sequence),transforms:[M.a]}]},et=Object(ee.a)((function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T.a;return a(!0),t(L(e)),t(W(r)).then((function(){return a(!1)}))}),1e3),tt=function(e,t){return e?[{category:t.formatMessage(Ke.a.name),key:"name",chips:[{name:e,value:e}]}]:[]},at=function(e,t){switch(t.type){case"setFetching":return Ze(Ze({},e),{},{isFetching:t.payload});case"setFilterValue":return Ze(Ze({},e),{},{filterValue:t.payload});case"setFilteringFlag":return Ze(Ze({},e),{},{isFiltering:t.payload});default:return e}};t.default=function(){var e=Object(l.useState)([]),t=o()(e,2),a=t[0],r=t[1],s=Object(f.useSelector)((function(e){var t=e.workflowReducer;return{workflows:t.workflows,sortBy:t.sortBy,filterValueRedux:t.filterValue}}),f.shallowEqual),c=s.workflows,i=c.data,v=c.meta,h=s.sortBy,M=s.filterValueRedux,k=Object(l.useReducer)(at,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{filterValue:e,isOpen:!1,isFetching:!0,isFiltering:!1}}(M)),O=o()(k,2),E=O[0],P=E.filterValue,j=E.isFetching,S=E.isFiltering,D=O[1],q=Object(f.useDispatch)(),x=Object(p.g)(),F=Object(U.a)(),R=function(e){return D({type:"setFetching",payload:!0}),q(W(e)).then((function(){return D({type:"setFetching",payload:!1})})).catch((function(){return D({type:"setFetching",payload:!1})}))};Object(l.useEffect)((function(){R(T.a),Object(Qe.g)()}),[]);var V=function(e){D({type:"setFilterValue",payload:e}),et(e,q,(function(e){return D({type:"setFilteringFlag",payload:e})}),Ze(Ze({},v),{},{offset:0}))},A=a.length>0;return u.a.createElement(l.Fragment,null,u.a.createElement(Xe.a,null,u.a.createElement(Xe.b,{title:F.formatMessage(be.a.approvalTitle)}),u.a.createElement(Je.a,null)),u.a.createElement(ze.a,{sortBy:h,onSort:function(e,t,a,r){var n=r.property;return q(function(e){return{type:y.r,payload:e}}({index:t,direction:a,property:n})),R()},data:i,isSelectable:!0,createRows:Ue,columns:$e(F),fetchData:R,routes:function(){return u.a.createElement(l.Fragment,null,u.a.createElement(p.b,{exact:!0,path:X.a.workflows.add,render:function(e){return u.a.createElement(le,n()({},e,{postMethod:R}))}}),u.a.createElement(p.b,{exact:!0,path:X.a.workflows.editInfo,render:function(e){return u.a.createElement(Ee,n()({editType:"info"},e,{postMethod:R}))}}),u.a.createElement(p.b,{exact:!0,path:X.a.workflows.editGroups,render:function(e){return u.a.createElement(xe,n()({editType:"groups"},e,{postMethod:R}))}}),u.a.createElement(p.b,{exact:!0,path:X.a.workflows.editSequence,render:function(e){return u.a.createElement(Ee,n()({editType:"sequence"},e,{postMethod:R}))}}),u.a.createElement(p.b,{exact:!0,path:X.a.workflows.remove,render:function(e){return u.a.createElement(Le,n()({},e,{ids:a,fetchData:R,setSelectedWorkflows:r}))}}))},actionResolver:function(e,t){return t.rowIndex%2==1?null:[{title:F.formatMessage(C.editInfo),component:"button",onClick:function(e,t,a){return x.push({pathname:X.a.workflows.editInfo,search:"?workflow=".concat(a.id)})}},{title:F.formatMessage(C.editGroups),component:"button",onClick:function(e,t,a){return x.push({pathname:X.a.workflows.editGroups,search:"?workflow=".concat(a.id)})}},{title:F.formatMessage(C.editSequence),component:"button",onClick:function(e,t,a){return x.push({pathname:X.a.workflows.editSequence,search:"?workflow=".concat(a.id)})}},{title:F.formatMessage(be.a.delete),component:"button",onClick:function(e,t,a){return x.push({pathname:X.a.workflows.remove,search:"?workflow=".concat(a.id)})}}]},titlePlural:F.formatMessage(C.approvalProcesses),titleSingular:F.formatMessage(C.approvalProcess),pagination:v,setCheckedItems:function(e){return r(e.map((function(e){return e.id})))},toolbarButtons:function(){return u.a.createElement(m.ToolbarGroup,{className:"pf-u-pl-lg top-toolbar"},u.a.createElement(g.ToolbarItem,null,u.a.createElement(d.b,{id:"add-workflow-link",to:{pathname:X.a.workflows.add}},u.a.createElement(w.Button,{variant:"primary","aria-label":F.formatMessage(te.a.createApprovalTitle)},F.formatMessage(te.a.createApprovalTitle)))),u.a.createElement(g.ToolbarItem,null,u.a.createElement(d.b,{id:"remove-multiple-workflows",className:A?"":"disabled-link",to:{pathname:X.a.workflows.remove}},u.a.createElement(w.Button,{variant:"link",isDisabled:!A,style:{color:A?"var(--pf-global--danger-color--100)":"var(--pf-global--disabled-color--100)"},"aria-label":F.formatMessage(C.deleteApprovalTitle)},F.formatMessage(be.a.delete)))))},filterValue:P,onFilterChange:V,isLoading:j||S,onCollapse:function(e,t,a){q(function(e){return{type:y.d,payload:e}}(e)),t((function(t){return a(t,e)}))},renderEmptyState:function(){return u.a.createElement(He.a,{title:""===P?F.formatMessage(C.noApprovalProcesses):F.formatMessage(Ke.a.noResultsFound),Icon:b.a,PrimaryAction:function(){return""!==P?u.a.createElement(w.Button,{onClick:function(){return V("")},variant:"link"},F.formatMessage(Ke.a.clearAllFilters)):null},description:""===P?F.formatMessage(C.noApprovalProcesses):F.formatMessage(Ke.a.clearAllFiltersDescription)})},activeFiltersConfig:{filters:tt(P,F),onDelete:function(){return V("")}}}))}}}]);
//# sourceMappingURL=../sourcemaps/workflows~5a4d8549.js.map