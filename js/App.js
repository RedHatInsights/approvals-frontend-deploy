!function(e){function t(t){for(var a,c,i=t[0],s=t[1],l=t[2],d=0,p=[];d<i.length;d++)c=i[d],r[c]&&p.push(r[c][0]),r[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={0:0},o=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/apps/approval/";var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;o.push([512,1]),n()}({115:function(e,t,n){"use strict";var a=n(35),r=n.n(a),o=n(12),c=n.n(o),i=n(9),s=n.n(i),l=n(43),u=n.n(l),d=n(2),p=n.n(d),m=n(1),f=n.n(m),h=n(41),b=n.n(h),g=n(90),E=n(32),y=n.n(E),v=n(141),w=n(150),j=n(149),k=n(152),q=n(119),R=function(e){var t=e.input,n=e.options,a=e.isReadOnly,o=e.isDisabled,c=(e.FieldProvider,e.isRequired),i=u()(e,["input","options","isReadOnly","isDisabled","FieldProvider","isRequired"]);return p.a.createElement(v.a,r()({},t,i,{isDisabled:o||a}),function(e,t,n){if(t&&n)return e;var a=y()(e);return a.find(function(e){return void 0===e.value})?y()(a):[{label:n?"Please choose":"None"}].concat(y()(a))}(n,t.value,c).map(function(e){return p.a.createElement(w.a,r()({key:e.value||e.label},e,{label:e.label.toString()}))}))};R.propTypes={input:f.a.object.isRequired,options:f.a.arrayOf(f.a.shape({value:f.a.any,label:f.a.string.isRequired})).isRequired,isReadOnly:f.a.bool,isDisabled:f.a.bool,isRequired:f.a.bool,FieldProvider:f.a.any};var O=function(e){e.componentType;var t=e.label,n=e.isRequired,a=e.helperText,o=e.meta,c=e.description,i=e.hideLabel,s=u()(e,["componentType","label","isRequired","helperText","meta","description","hideLabel"]),l=o.error,d=o.touched&&l;return p.a.createElement(j.a,{isRequired:n,label:!i&&t,fieldId:s.id,isValid:!d,helperText:a,helperTextInvalid:o.error},c&&p.a.createElement(k.a,null,p.a.createElement(q.b,{component:q.a.small},c)),p.a.createElement(R,r()({label:t,isValid:!d,isRequired:n},s)))};O.propTypes={componentType:f.a.string,label:f.a.string,isRequired:f.a.bool,helperText:f.a.string,meta:f.a.object,description:f.a.string,hideLabel:f.a.bool};var x=O,T={default:{},modal:{buttonOrder:["cancel","reset","save"],buttonClassName:"modal-form-right-align"}},_=function(e){var t=e.componentMapper,n=e.formContainer,a=u()(e,["componentMapper","formContainer"]);return p.a.createElement("div",{className:T[n].buttonClassName},p.a.createElement(b.a,r()({formFieldsMapper:s()({},g.formFieldsMapper,c()({componentMapper:t},h.componentTypes.SELECT,x)),layoutMapper:g.layoutMapper},T[n],a)))};_.propTypes={componentMapper:f.a.object,formContainer:f.a.oneOf(["default","modal"])},_.defaultProps={componentMapper:{},formContainer:"default"};t.a=_},116:function(e,t,n){"use strict";var a=n(9),r=n.n(a),o=n(136),c=n.n(o),i=n(2),s=n.n(i),l=n(1),u=n.n(l),d=n(335),p=n(321),m=n(153),f=n(156),h=n(158),b=n(157),g=n(114),E=n(521),y=n(522),v=n(332),w=n(38),j=n(142),k=n(64),q=function(e){var t=e.searchValue,n=e.onFilterChange,a=e.placeholder;return s.a.createElement(h.a,null,s.a.createElement(b.a,null,s.a.createElement("div",{className:"pf-c-input-group"},s.a.createElement(j.a,{placeholder:a,value:t,type:"text",onChange:n,"aria-label":"Find product button"}),s.a.createElement(k.c,{variant:"tertiary",id:"searchProductButton",onClick:function(){return n(t)}},s.a.createElement("i",{className:"fas fa-search","aria-hidden":"true"})))))};q.propTypes={onFilterChange:u.a.func.isRequired,placeholder:u.a.string,searchValue:u.a.string},q.defaultProps={searchValue:""};var R=q,O=n(333);n.d(t,"a",function(){return x});var x=function(e){var t=e.request,n=e.createInitialRows,a=e.columns,o=e.toolbarButtons,l=e.fetchData,u=e.data,j=e.actionResolver,k=e.routes,q=e.titlePlural,x=e.titleSingular,T=e.pagination,_=Object(i.useState)(""),C=c()(_,2),S=C[0],F=C[1],A=Object(i.useState)([]),L=c()(A,2),N=L[0],P=L[1];Object(i.useEffect)(function(){l(P),Object(w.d)()},[]);var D=function(e){return t({offset:T.offset,limit:e}).then(function(){return P(n(u))})},W=function(e,a){var r={offset:Object(w.b)(e,T.limit),limit:T.limit};return a?Object(d.a)(t,250)():t(r).then(function(e){var t=e.value.data;return P(n(t))})};return s.a.createElement(i.Fragment,null,k(),s.a.createElement(O.TableToolbar,null,s.a.createElement(p.a,{style:{flex:1}},s.a.createElement(m.a,null,s.a.createElement(f.a,null,s.a.createElement(R,{onFilterChange:function(e){return F(e)},searchValue:S,placeholder:"Find a ".concat(x)}),o())),s.a.createElement(m.a,null,s.a.createElement(f.a,null,s.a.createElement(h.a,null,s.a.createElement(b.a,null,s.a.createElement(v.Pagination,{itemsPerPage:T.limit||50,numberOfItems:T.count||50,onPerPageSelect:D,page:Object(w.a)(T.limit,T.offset),onSetPage:W,direction:"down"}))))))),s.a.createElement(g.b,{"aria-label":"Approval ".concat(q," table"),onCollapse:function(e,t,n,a){var o=a.id;return P(function(e){return function(e,t){return e.map(function(e){return e.id===t?r()({},e,{isOpen:!e.isOpen}):r()({},e)})}(e,o)})},rows:N,cells:a,onSelect:function(e,t,n){var a=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).id;return P(-1===n?N.map(function(e){return r()({},e,{selected:t})}):function(e){return function(e,t){return e.map(function(e){return e.id===t?r()({},e,{selected:!e.selected}):r()({},e)})}(e,a)})},actionResolver:j,className:"table-fix"},s.a.createElement(E.a,null),s.a.createElement(y.a,null)))};x.propTypes={createInitialRows:u.a.func.isRequired,request:u.a.func.isRequired,columns:u.a.array.isRequired,toolbarButtons:u.a.func,fetchData:u.a.func.isRequired,data:u.a.array,pagination:u.a.shape({limit:u.a.number.isRequired,offset:u.a.number.isRequired,count:u.a.number.isRequired}),titlePlural:u.a.string,titleSingular:u.a.string,routes:u.a.func,actionResolver:u.a.func},x.defaultProps={requests:[],pagination:"",toolbarButtons:function(){return null},routes:function(){return null}}},160:function(e,t,n){},20:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"f",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"h",function(){return i}),n.d(t,"i",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"k",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"d",function(){return p});var a="FETCH_REQUEST",r="FETCH_REQUESTS",o="FETCH_STAGES_FOR_REQUEST",c="CREATE_STAGE_ACTION",i="FETCH_WORKFLOW",s="FETCH_WORKFLOWS",l="ADD_WORKFLOW",u="UPDATE_WORKFLOW",d="REMOVE_WORKFLOW",p="FETCH_RBAC_GROUPS"},38:function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"c",function(){return u});var a=n(4),r=n.n(a),o=["notified","pending"],c=function(){return document.getElementById("root").scrollTo({behavior:"smooth",top:0,left:0})},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(t/e)+1},s=function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)-1)*(arguments.length>1?arguments[1]:void 0)},l=function(e){return r()(e).fromNow()},u=function(e){return o.includes(e)}},422:function(e,t,n){var a={"./af":161,"./af.js":161,"./ar":162,"./ar-dz":163,"./ar-dz.js":163,"./ar-kw":164,"./ar-kw.js":164,"./ar-ly":165,"./ar-ly.js":165,"./ar-ma":166,"./ar-ma.js":166,"./ar-sa":167,"./ar-sa.js":167,"./ar-tn":168,"./ar-tn.js":168,"./ar.js":162,"./az":169,"./az.js":169,"./be":170,"./be.js":170,"./bg":171,"./bg.js":171,"./bm":172,"./bm.js":172,"./bn":173,"./bn.js":173,"./bo":174,"./bo.js":174,"./br":175,"./br.js":175,"./bs":176,"./bs.js":176,"./ca":177,"./ca.js":177,"./cs":178,"./cs.js":178,"./cv":179,"./cv.js":179,"./cy":180,"./cy.js":180,"./da":181,"./da.js":181,"./de":182,"./de-at":183,"./de-at.js":183,"./de-ch":184,"./de-ch.js":184,"./de.js":182,"./dv":185,"./dv.js":185,"./el":186,"./el.js":186,"./en-SG":187,"./en-SG.js":187,"./en-au":188,"./en-au.js":188,"./en-ca":189,"./en-ca.js":189,"./en-gb":190,"./en-gb.js":190,"./en-ie":191,"./en-ie.js":191,"./en-il":192,"./en-il.js":192,"./en-nz":193,"./en-nz.js":193,"./eo":194,"./eo.js":194,"./es":195,"./es-do":196,"./es-do.js":196,"./es-us":197,"./es-us.js":197,"./es.js":195,"./et":198,"./et.js":198,"./eu":199,"./eu.js":199,"./fa":200,"./fa.js":200,"./fi":201,"./fi.js":201,"./fo":202,"./fo.js":202,"./fr":203,"./fr-ca":204,"./fr-ca.js":204,"./fr-ch":205,"./fr-ch.js":205,"./fr.js":203,"./fy":206,"./fy.js":206,"./ga":207,"./ga.js":207,"./gd":208,"./gd.js":208,"./gl":209,"./gl.js":209,"./gom-latn":210,"./gom-latn.js":210,"./gu":211,"./gu.js":211,"./he":212,"./he.js":212,"./hi":213,"./hi.js":213,"./hr":214,"./hr.js":214,"./hu":215,"./hu.js":215,"./hy-am":216,"./hy-am.js":216,"./id":217,"./id.js":217,"./is":218,"./is.js":218,"./it":219,"./it-ch":220,"./it-ch.js":220,"./it.js":219,"./ja":221,"./ja.js":221,"./jv":222,"./jv.js":222,"./ka":223,"./ka.js":223,"./kk":224,"./kk.js":224,"./km":225,"./km.js":225,"./kn":226,"./kn.js":226,"./ko":227,"./ko.js":227,"./ku":228,"./ku.js":228,"./ky":229,"./ky.js":229,"./lb":230,"./lb.js":230,"./lo":231,"./lo.js":231,"./lt":232,"./lt.js":232,"./lv":233,"./lv.js":233,"./me":234,"./me.js":234,"./mi":235,"./mi.js":235,"./mk":236,"./mk.js":236,"./ml":237,"./ml.js":237,"./mn":238,"./mn.js":238,"./mr":239,"./mr.js":239,"./ms":240,"./ms-my":241,"./ms-my.js":241,"./ms.js":240,"./mt":242,"./mt.js":242,"./my":243,"./my.js":243,"./nb":244,"./nb.js":244,"./ne":245,"./ne.js":245,"./nl":246,"./nl-be":247,"./nl-be.js":247,"./nl.js":246,"./nn":248,"./nn.js":248,"./pa-in":249,"./pa-in.js":249,"./pl":250,"./pl.js":250,"./pt":251,"./pt-br":252,"./pt-br.js":252,"./pt.js":251,"./ro":253,"./ro.js":253,"./ru":254,"./ru.js":254,"./sd":255,"./sd.js":255,"./se":256,"./se.js":256,"./si":257,"./si.js":257,"./sk":258,"./sk.js":258,"./sl":259,"./sl.js":259,"./sq":260,"./sq.js":260,"./sr":261,"./sr-cyrl":262,"./sr-cyrl.js":262,"./sr.js":261,"./ss":263,"./ss.js":263,"./sv":264,"./sv.js":264,"./sw":265,"./sw.js":265,"./ta":266,"./ta.js":266,"./te":267,"./te.js":267,"./tet":268,"./tet.js":268,"./tg":269,"./tg.js":269,"./th":270,"./th.js":270,"./tl-ph":271,"./tl-ph.js":271,"./tlh":272,"./tlh.js":272,"./tr":273,"./tr.js":273,"./tzl":274,"./tzl.js":274,"./tzm":275,"./tzm-latn":276,"./tzm-latn.js":276,"./tzm.js":275,"./ug-cn":277,"./ug-cn.js":277,"./uk":278,"./uk.js":278,"./ur":279,"./ur.js":279,"./uz":280,"./uz-latn":281,"./uz-latn.js":281,"./uz.js":280,"./vi":282,"./vi.js":282,"./x-pseudo":283,"./x-pseudo.js":283,"./yo":284,"./yo.js":284,"./zh-cn":285,"./zh-cn.js":285,"./zh-hk":286,"./zh-hk.js":286,"./zh-tw":287,"./zh-tw.js":287};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=422},510:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n.n(a),o=n(2),c=n.n(o),i=n(31),s=n(1),l=n.n(s),u=n(66),d=n(96),p=n(20),m=n(9),f=n.n(m),h=n(7),b=n.n(h),g=n(26),E=n.n(g),y=n(58),v=Object(y.c)(),w=Object(y.d)(),j=Object(y.a)();function k(e){return q.apply(this,arguments)}function q(){return(q=E()(b.a.mark(function e(t){var n,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.showRequest(t);case 2:return n=e.sent,e.next=5,R(t);case 5:return a=e.sent,e.abrupt("return",f()({},n,{stages:a.data}));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(e){return O.apply(this,arguments)}function O(){return(O=E()(b.a.mark(function e(t){var n,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.listStagesByRequest(t);case 2:return n=e.sent,a=n.data,e.abrupt("return",Promise.all(a.map(function(){var e=E()(b.a.mark(function e(t){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.listActionsByStage(t.id);case 2:return n=e.sent,e.abrupt("return",f()({},t,{stageActions:n}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(e){return f()({},n,{data:e})}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e,t){return T.apply(this,arguments)}function T(){return(T=E()(b.a.mark(function e(t,n){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.createAction(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var _=function(e){return{type:p.e,payload:k(e)}},C=function(e,t,n){return{type:p.b,payload:x(t,n),meta:{notifications:{fulfilled:{variant:"success",title:"Success",description:"The ".concat(e," was successful.")},rejected:{variant:"danger",title:"".concat(e," error"),description:"The ".concat(e," action failed.")}}}}},S=n(115),F=n(47),A=n(151),L=n(56),N=n(41),P=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=function(e){return{component:N.componentTypes.TEXTAREA_FIELD,name:"comments",type:"text",isRequired:e,label:e?"Reason":"Comment"}}(e);return e&&(t.validate=[{type:N.validatorTypes.REQUIRED}]),{fields:[t]}},D=function(e){var t=e.history.push,n=e.actionType,a=e.addNotification,r=e.createStageAction,i=e.selectedRequest,s=e.closeUrl,l=e.preMethod,u=e.postMethod,d=e.requestId;Object(o.useEffect)(function(){l&&l(d)},[]);var p=function(){var e=E()(b.a.mark(function e(a){var o,c,l;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o={"Add Comment":"memo",Approve:"approve",Deny:"deny"},c=i.stages[i.active_stage-1],l="Add Comment"===n?n:"".concat(n," Request"),c&&r(l,c.id,f()({operation:o[n],processed_by:"User"},a)).then(u?u().then(t(s)):t(s));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e="Add Comment"===n?n:"".concat(n," Request");a({variant:"warning",title:e,description:"".concat(e," was cancelled by the user.")}),t(s)};return c.a.createElement(A.a,{isLarge:!0,title:"Add Comment"===n?"Request #".concat(d):"".concat(n," Request #").concat(d),isOpen:!0,onClose:m},c.a.createElement(S.a,{schema:P("Deny"===n),schemaType:"default",onSubmit:p,onCancel:m,formContainer:"modal"}))};D.defaultProps={closeUrl:"/requests"},D.propTypes={history:l.a.shape({push:l.a.func.isRequired}).isRequired,addNotification:l.a.func.isRequired,preMethod:l.a.func,postMethod:l.a.func,createStageAction:l.a.func.isRequired,selectedRequest:l.a.object,requestId:l.a.string,actionType:l.a.string,closeUrl:l.a.string,match:l.a.object,location:l.a.object};var W=Object(u.f)(Object(i.connect)(function(e,t){var n=t.match.params.id;return{requests:e.requestReducer.requests,selectedRequest:e.requestReducer.selectedRequest,requestId:n}},function(e){return Object(F.bindActionCreators)({addNotification:L.addNotification,createStageAction:C},e)})(D)),I=n(32),M=n.n(I),z=n(27),K=n(64),U=n(321),G=n(153),B=n(152),H=n(119),V=n(38),Q=function(e){var t=e.id,n=e.content,a=e.state,r=Object(V.c)(a);return c.a.createElement(o.Fragment,null,c.a.createElement(U.a,null,c.a.createElement(G.a,null,c.a.createElement(B.a,null,c.a.createElement(H.b,{className:"data-table-detail heading",component:H.a.small},"Product"),c.a.createElement(H.b,{className:"data-table-detail content",component:H.a.h5},n?n.product:"Unknown"))),r&&c.a.createElement(G.a,null,c.a.createElement(z.b,{to:"/requests/approve/".concat(t),className:"pf-u-mr-md"},c.a.createElement(K.c,{variant:"primary","aria-label":"Approve Request",isDisabled:!r},"Approve")),c.a.createElement(z.b,{to:"/requests/deny/".concat(t)},c.a.createElement(K.c,{variant:"danger","aria-label":"Deny Request"},"Deny")))),c.a.createElement(U.a,null,c.a.createElement(G.a,null,c.a.createElement(B.a,null,c.a.createElement(H.b,{className:"data-table-detail heading",component:H.a.small},"Portfolio"),c.a.createElement(H.b,{className:"data-table-detail content",component:H.a.h5},n?n.portfolio:"Unknown")),c.a.createElement(B.a,null,c.a.createElement(H.b,{className:"data-table-detail heading",component:H.a.small},"Platform"),c.a.createElement(H.b,{className:"data-table-detail content",component:H.a.h5},n?n.platform:"Unknown")),c.a.createElement(B.a,null,c.a.createElement(H.b,{className:"data-table-detail heading",component:H.a.small},"Comments"),c.a.createElement(H.b,{className:"data-table-detail content",component:H.a.h5},n?n.comments:"Unknown")))))};Q.propTypes={id:l.a.string,content:l.a.obuidt,uname:l.a.string,state:l.a.string};var X=Q,J=function(e){return e.reduce(function(e,t,n){var a=t.id,r=t.requester,i=t.created_at,s=t.updated_at,l=t.active_stage,u=t.total_stages,d=t.state,p=t.decision,m=t.content;return[].concat(M()(e),[{id:a,isOpen:!1,state:d,cells:[c.a.createElement(o.Fragment,{key:a},c.a.createElement(z.b,{to:"/requests/detail/".concat(a)},c.a.createElement(K.c,{variant:"link"}," ",a," "))),r,Object(V.e)(i),Object(V.e)(s),"".concat(l," of ").concat(u),p]},{parent:2*n,fullWidth:!0,cells:[{title:c.a.createElement(X,{id:a,content:m,state:d,active_stage:l})}]}])},[])},Z=n(116),Y=n(37),$=n(111),ee=n(112),te=(n(160),function(e){var t=e.request;return c.a.createElement(B.a,null,c.a.createElement(H.b,{component:H.a.small},"Product: ",c.a.createElement("br",null)),c.a.createElement(H.b,null,t.content?t.content.product:"Unknown"),c.a.createElement(H.b,{component:H.a.small},"Portfolio:",c.a.createElement("br",null)),c.a.createElement(H.b,null,t.content?t.content.portfolio:""),c.a.createElement(H.b,{component:H.a.small},"Platform: ",c.a.createElement("br",null)),c.a.createElement(H.b,null,t.content?t.content.platform:""),c.a.createElement(H.b,{component:H.a.small},"Project: ",c.a.createElement("br",null)),c.a.createElement(H.b,null,t.content?t.content.project:""),c.a.createElement(H.b,{component:H.a.small},"Order Parameters: "),c.a.createElement(H.b,{component:H.a.h6},"Requester: ",c.a.createElement("br",null),t.requester),c.a.createElement(H.b,{component:H.a.h6},"Project: ",c.a.createElement("br",null)," "),t.content.params&&Object.keys(t.content.params).map(function(e){return t.content.params[e]&&"********"!==t.content.params[e]&&c.a.createElement(H.b,{key:e,component:H.a.small},"".concat(e,": ").concat(t.content.params[e]))}))});te.propTypes={request:l.a.shape({content:l.a.object}).isRequired};var ne=te,ae=n(131),re=n(77),oe=n.n(re),ce=n(78),ie=n.n(ce),se=n(79),le=n.n(se),ue=n(80),de=n.n(ue),pe=n(44),me=n.n(pe),fe=n(81),he=n.n(fe),be=n(12),ge=n.n(be),Ee=n(143),ye=n(154),ve=n(290),we=n(289),je=n(292),ke=n(291),qe=n(288),Re={memo:"Comment from",approve:"Approved By",deny:"Denied by",notify:"Notified By",skip:"Skipped by"},Oe={memo:c.a.createElement(ve.a,null),approve:c.a.createElement(we.a,null),deny:c.a.createElement(je.a,null),notify:c.a.createElement(ke.a,null),skip:c.a.createElement(qe.a,null)},xe=function(e){return console.log("Action List: ",e),c.a.createElement(ye.a,null,e.actionList.map(function(e){return c.a.createElement("div",{key:"".concat(e.id,"-action")},c.a.createElement(B.a,null,c.a.createElement(H.b,{style:{marginBottom:0},className:"data-table-detail content",component:H.a.small},"".concat(Object(V.e)(e.created_at))),c.a.createElement(H.b,{style:{marginBottom:0},className:"data-table-detail content"},Oe[e.operation]," ","".concat(Re[e.operation],"  ").concat(e.processed_by)),e.comments&&c.a.createElement(H.b,{style:{marginBottom:0},className:"data-table-detail content",component:H.a.h6},"".concat(e.comments))," "),c.a.createElement("br",null))}))},Te=n(320),_e=n(18),Ce=n(319),Se=n(148),Fe=n(145),Ae=n(146),Le=n(144),Ne=n(147),Pe=n(155),De=function(e){function t(){var e,n;oe()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=le()(this,(e=de()(t)).call.apply(e,[this].concat(r))),ge()(me()(n),"state",{isKebabOpen:!1}),ge()(me()(n),"onKebabToggle",function(e){n.setState({isKebabOpen:e})}),ge()(me()(n),"onKebabSelect",function(){n.setState({isKebabOpen:!n.state.isKebabOpen})}),ge()(me()(n),"buildStageActionKebab",function(e){return c.a.createElement(Te.a,{position:_e.d.right,onSelect:n.onKebabSelect,toggle:c.a.createElement(Ce.a,{onToggle:n.onKebabToggle}),isOpen:n.state.isKebabOpen,dropdownItems:[c.a.createElement(Se.a,{"aria-label":"Add Comment",key:"add_comment_".concat(e.id)},c.a.createElement(z.b,{to:"/requests/detail/".concat(e.request_id,"/add_comment"),className:"pf-c-dropdown__menu-item"},"Comment"))],isPlain:!0})}),ge()(me()(n),"fetchStageDetails",function(e){return c.a.createElement(xe,{actionList:e.stageActions.data})}),n}return he()(t,e),ie()(t,[{key:"render",value:function(){var e=this,t=this.props.item,n=Object(V.c)(t.state);return c.a.createElement(Fe.a,{key:"stage-".concat(t.id),"aria-labelledby":"check-stage-".concat(t.id),isExpanded:this.props.isExpanded("stage-".concat(t.id))},c.a.createElement(Ae.a,{onClick:function(){return e.props.toggleExpand("stage-".concat(t.id))},isExpanded:this.props.isExpanded("stage-".concat(t.id)),id:"stage-".concat(t.id),"aria-labelledby":"stage-".concat(t.id," stage-").concat(t.id),"aria-label":"Toggle details for"}),c.a.createElement(Le.a,null,c.a.createElement("span",{id:t.id},"".concat(this.props.idx+1,". ").concat(t.name)," ")),c.a.createElement(Le.a,null,c.a.createElement("span",{style:{textTransform:"capitalize"},id:"".concat(t.id,"-state")},"".concat(t.state)," ")),n&&c.a.createElement(Le.a,null,c.a.createElement(U.a,null,c.a.createElement(G.a,null,c.a.createElement(z.b,{to:"/requests/detail/".concat(t.request_id,"/approve")},c.a.createElement(K.c,{variant:"link","aria-label":"Approve Request"},"Approve")),c.a.createElement(z.b,{to:"/requests/detail/".concat(t.request_id,"/deny")},c.a.createElement(K.c,{variant:"link",className:"destructive-color","aria-label":"Deny Request"},"Deny"))))),n&&c.a.createElement(Le.a,{class:"pf-c-data-list__action","aria-labelledby":"request-".concat(t.id," check-workflow-action").concat(t.id),id:"workflow-".concat(t.id),"aria-label":"Actions"},this.buildStageActionKebab(t)),c.a.createElement(Ne.a,{"aria-label":"Stage Content Details",isHidden:!this.props.isExpanded("stage-".concat(t.id))},c.a.createElement(ye.a,{gutter:"md"},c.a.createElement(Pe.a,null,c.a.createElement(B.a,{component:H.a.h6},this.fetchStageDetails(t))))))}}]),t}(o.Component);De.propTypes={isLoading:l.a.bool,item:l.a.object,idx:l.a.string,isExpanded:l.a.func.isRequired,toggleExpand:l.a.func.isRequired,noItems:l.a.string};var We=De,Ie=function(e){function t(){var e,n;oe()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=le()(this,(e=de()(t)).call.apply(e,[this].concat(r))),ge()(me()(n),"state",{expanded:[]}),ge()(me()(n),"toggleExpand",function(e){var t=n.state.expanded,a=t.indexOf(e),r=a>=0?[].concat(M()(t.slice(0,a)),M()(t.slice(a+1,t.length))):[].concat(M()(t),[e]);n.setState(function(){return{expanded:r}})}),ge()(me()(n),"isExpanded",function(e){return n.state.expanded.includes(e)}),n}return he()(t,e),ie()(t,[{key:"render",value:function(){var e=this;return this.props.isLoading?c.a.createElement(Y.PageHeader,null,c.a.createElement(Y.PageHeaderTitle,{title:this.props.noItems})):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,this.props.isLoading&&c.a.createElement("span",{color:"#00b9e4"}," Loading...")),this.props.items&&this.props.items.length>0&&c.a.createElement(Ee.a,{"aria-label":"Expandable data list"},this.props.items.map(function(t,n){return c.a.createElement(We,{key:t.id,item:t,idx:n,isActive:n+1===t.active_stage,isExpanded:e.isExpanded,toggleExpand:e.toggleExpand})})))}}]),t}(o.Component);Ie.propTypes={isLoading:l.a.bool,items:l.a.array,noItems:l.a.string};var Me=Ie,ze=function(e){var t=e.request;return c.a.createElement(o.Fragment,null,c.a.createElement(ae.a,{size:"sm",style:{paddingLeft:"32px"}}," Stage(s) transcript "),c.a.createElement(Me,{items:t?t.stages:[],noItems:"No Stages"}))};ze.propTypes={request:l.a.shape({content:l.a.object}).isRequired};var Ke=ze,Ue=n(82),Ge=function(e){var t=e.match.url,n=e.isLoading,a=e.fetchRequest,i=e.requestId,s=e.selectedRequest;return Object(o.useEffect)(function(){i&&a(i)},[i]),n||0===Object.keys(s).length?c.a.createElement(Y.Section,{style:{backgroundColor:"white",minHeight:"100%"}},c.a.createElement(Ue.b,null)):c.a.createElement(o.Fragment,null,c.a.createElement(u.b,{exact:!0,path:"/requests/detail/:id/add_comment",render:function(e){return c.a.createElement(W,r()({},e,{actionType:"Add Comment",closeUrl:t}))}}),c.a.createElement(u.b,{exact:!0,path:"/requests/detail/:id/approve",render:function(e){return c.a.createElement(W,r()({},e,{actionType:"Approve",closeUrl:t}))}}),c.a.createElement(u.b,{exact:!0,path:"/requests/detail/:id/deny",render:function(e){return c.a.createElement(W,r()({},e,{actionType:"Deny",closeUrl:t}))}}),c.a.createElement(Y.Section,{style:{minHeight:"100%"}},c.a.createElement($.a,{gutter:"md"},c.a.createElement(ee.a,{md:2,className:"detail-pane"},c.a.createElement(ne,{request:s})),c.a.createElement(ee.a,{md:10,className:"detail-pane"},c.a.createElement(Ke,{request:s,url:t})))))};Ge.propTypes={match:l.a.shape({path:l.a.string.isRequired}).isRequired,selectedRequest:l.a.shape({id:l.a.string}).isRequired,history:l.a.shape({push:l.a.func.isRequired}).isRequired,isLoading:l.a.bool,fetchRequest:l.a.func.isRequired};var Be=Object(u.f)(Object(i.connect)(function(e,t){var n=t.match.params.id;return{selectedRequest:e.requestReducer.selectedRequest,isLoading:e.requestReducer.isRequestDataLoading,requestId:n}},function(e){return Object(F.bindActionCreators)({fetchRequest:_},e)})(Ge)),He=[{title:"RequestId",cellFormatters:[d.b]},"Requester","Opened","Updated","Stage Status","Decision"],Ve=function(e){var t=e.fetchRequests,n=e.requests,a=e.pagination,i=e.history,s=function(e){t().then(function(t){var n=t.value.data;return e(J(n))})},l=function(){return c.a.createElement(o.Fragment,null,c.a.createElement(u.b,{exact:!0,path:"/requests/add_comment/:id",render:function(e){return c.a.createElement(W,r()({},e,{actionType:"Add Comment",preMethod:_,postMethod:t}))}}),c.a.createElement(u.b,{exact:!0,path:"/requests/approve/:id",render:function(e){return c.a.createElement(W,r()({},e,{actionType:"Approve",preMethod:_,postMethod:t}))}}),c.a.createElement(u.b,{exact:!0,path:"/requests/deny/:id",render:function(e){return c.a.createElement(W,r()({},e,{actionType:"Deny",preMethod:_,postMethod:t}))}}))},d=function(e){return!Object(V.c)(e.state)},p=function(e,t){return 1===t.rowIndex||d(e)?null:[{title:"Comment",onClick:function(){return i.push("/requests/add_comment/".concat(e.id))}}]};return c.a.createElement(Y.Section,null,c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/requests/detail/:id",render:function(e){return c.a.createElement(Be,e)}}),c.a.createElement(u.b,{path:"/requests",render:function(){return c.a.createElement(Z.a,{data:n,createInitialRows:J,columns:He,fetchData:s,request:t,routes:l,actionResolver:p,areActionsDisabled:d,titlePlural:"Requests",titleSingular:"Request",pagination:a})}})))};Ve.propTypes={history:l.a.shape({goBack:l.a.func.isRequired,push:l.a.func.isRequired}).isRequired,filteredItems:l.a.array,requests:l.a.array,platforms:l.a.array,isLoading:l.a.bool,searchFilter:l.a.string,fetchRequests:l.a.func.isRequired,pagination:l.a.shape({limit:l.a.number.isRequired,offset:l.a.number.isRequired,count:l.a.number.isRequired})},Ve.defaultProps={requests:[],pagination:{}};t.default=Object(i.connect)(function(e){var t=e.requestReducer,n=t.requests,a=t.isRequestDataLoading,r=t.filterValue;return{requests:n.data,pagination:n.meta,isLoading:a,searchFilter:r}},function(e){return{fetchRequests:function(t){return e(function(){var e,t,n,a,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:p.f,payload:(e=o,t=e.limit,n=void 0===t?10:t,a=e.offset,r=void 0===a?0:a,v.listRequests(void 0,void 0,void 0,n,r))}}(t))}}})(Ve)},511:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(31),c=n(1),i=n.n(c),s=n(66),l=n(27),u=n(158),d=n(157),p=n(64),m=n(96),f=n(20),h=n(9),b=n.n(h),g=n(7),E=n.n(g),y=n(26),v=n.n(y),w=n(58),j=Object(w.b)();function k(){return q.apply(this,arguments)}function q(){return(q=v()(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.listGroups();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(e){return O.apply(this,arguments)}function O(){return(O=v()(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",Promise.all(t.map(function(){var e=v()(E.a.mark(function e(t){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getGroup(t);case 2:return n=e.sent,e.abrupt("return",n.name);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var x=Object(w.f)(),T=Object(w.e)();function _(e){return C.apply(this,arguments)}function C(){return(C=v()(E.a.mark(function e(t){var n,a,r,o,c,i;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,a=void 0===n?10:n,r=t.offset,o=void 0===r?0:r,e.next=3,x.listWorkflows(a,o);case 3:return c=e.sent,i=c.data,e.abrupt("return",Promise.all(i.map(function(){var e=v()(E.a.mark(function e(t){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.group_refs,e.prev=1,e.next=4,R(t.group_refs);case 4:n=e.sent,e.next=11;break;case 7:if(e.prev=7,e.t0=e.catch(1),e.t0.response&&404===e.t0.response.status){e.next=11;break}throw e.t0;case 11:return e.abrupt("return",b()({},t,{group_names:n}));case 12:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}())).then(function(e){return b()({},c,{data:e})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e){return F.apply(this,arguments)}function F(){return(F=v()(E.a.mark(function e(t){var n,a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.showWorkflow(t);case 2:return n=e.sent,a=n.group_refs,e.prev=4,e.next=7,R(n.group_refs);case 7:a=e.sent,e.next=14;break;case 10:if(e.prev=10,e.t0=e.catch(4),e.t0.response&&404===e.t0.response.status){e.next=14;break}throw e.t0;case 14:return e.abrupt("return",b()({},n,{group_names:a}));case 15:case"end":return e.stop()}},e,null,[[4,10]])}))).apply(this,arguments)}function A(e){return L.apply(this,arguments)}function L(){return(L=v()(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.updateWorkflow(t.id,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(e){return P.apply(this,arguments)}function P(){return(P=v()(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.destroyWorkflow(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:f.i,payload:_(e)}},W=function(e){return{type:f.h,payload:S(e)}},I=function(e){return{type:f.a,payload:(t=e,T.listTemplates().then(function(e){var t=e.data;if(!t[0])throw new Error("No template exists");return t[0].id}).then(function(e){return x.addWorkflowToTemplate(e,t,{})})),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding workflow",description:"The workflow was added successfully."},rejected:{variant:"danger",title:"Failed adding workflow",description:"The workflow was not added successfuly."}}}};var t},M=function(e){return{type:f.k,payload:A(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating workflow",description:"The workflow was updated successfully."},rejected:{variant:"danger",title:"Failed updating workflow",description:"The workflow was not updated successfuly."}}}}},z=function(e){return{type:f.j,payload:N(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing workflow",description:"The workflow was removed successfully."}}}}},K=n(12),U=n.n(K),G=n(32),B=n.n(G),H=n(43),V=n.n(H),Q=n(47),X=n(151),J=n(56),Z=n(90),Y=n(115),$=n(41),ee=function(e,t){return{fields:[{component:$.componentTypes.WIZARD,name:"workflow_wizard",fields:[{title:"Workflow information",name:"wf_step_info",stepKey:1,nextStep:"wf_step_stages",fields:[{component:$.componentTypes.TEXTAREA_FIELD,name:"name",type:"text",isRequired:!0,label:"Name",validate:[{type:$.validatorTypes.REQUIRED}]},{component:$.componentTypes.TEXTAREA_FIELD,name:"description",type:"text",label:"Description"}]},{stepKey:"wf_step_stages",title:"Set Approval Stages",name:"wf_step_stages",nextStep:"summary",fields:[{component:$.componentTypes.SELECT,name:"stage-1",isRequired:!1,label:"1st Stage",options:t},{component:$.componentTypes.SELECT,name:"stage-2",label:"2nd Stage",options:t},{component:$.componentTypes.SELECT,name:"stage-3",label:"3rd Stage",options:t}]},{fields:[{name:"summary",component:"summary"}],stepKey:"summary",name:"summary"}]}]}},te=n(152),ne=n(119),ae=function(e){var t=e.values,n=t.name,o=t.description,c=V()(t,["name","description"]);return r.a.createElement(a.Fragment,null,r.a.createElement(te.a,null,r.a.createElement(ne.b,{className:"data-table-detail heading",component:ne.a.h5},"Please review the workflow details")),r.a.createElement(te.a,null,r.a.createElement(ne.b,{className:"data-table-detail heading",component:ne.a.h5},"Name"),r.a.createElement(ne.b,{className:"data-table-detail content",component:ne.a.p},n)),r.a.createElement(te.a,null,r.a.createElement(ne.b,{className:"data-table-detail heading",component:ne.a.h5},"Description"),r.a.createElement(ne.b,{className:"data-table-detail content",component:ne.a.p},o)),r.a.createElement(te.a,null,r.a.createElement(ne.b,{className:"data-table-detail heading",component:ne.a.h5},"Approval Stages"),Object.keys(c).map(function(t){return t.startsWith("stage")&&r.a.createElement(ne.b,{key:t,className:"data-table-detail content",component:ne.a.p},"".concat(t," : ").concat(e.groupOptions.find(function(e){return e.value===c[t]}).label))})))};ae.propTypes={name:i.a.string,description:i.a.string,groups:i.a.array};var re=ae,oe=function(e){var t=e.history.push,n=e.addWorkflow,o=e.addNotification,c=e.fetchWorkflow,i=e.fetchWorkflows,s=e.initialValues,l=e.updateWorkflow,u=e.initialGroups,d=e.workflowId,p=e.rbacGroups;Object(a.useEffect)(function(){d&&c(d).then(function(e){return h(e)})},[d]);var m=function(){o({variant:"warning",title:s?"Editing workflow":"Creating workflow",description:s?"Edit workflow was cancelled by the user.":"Creating workflow was cancelled by the user."}),t("/workflows")},f=[].concat(B()(p),[{value:void 0,label:"None"}]),h=function(e){return e.value.group_refs.map(function(e,t){return U()({},"stage-".concat(t+1),e)}).reduce(function(e,t){return b()({},e,t)},{})};return r.a.createElement(X.a,{title:s?"Edit workflow":"Create workflow",isOpen:!0,onClose:m,isSmall:!0},r.a.createElement("div",{style:{padding:8}},r.a.createElement(Y.a,{schema:ee(0,f),schemaType:"default",onSubmit:function(e){var a=e.name,r=e.description,o=V()(e,["name","description"]),c={name:a,description:r,group_refs:Object.values(o)};s?l(c).then(t("/workflows")).then(function(){return i()}):n(c).then(t("/workflows")).then(function(){return i()})},onCancel:m,initialValues:b()({},s,u),formFieldsMapper:b()({},Z.formFieldsMapper,{summary:function(e){return r.a.createElement(re,{values:e.formOptions.getState().values,groupOptions:f})}}),formContainer:"modal",showFormControls:!1,buttonsLabels:{submitLabel:"Confirm"}})))};oe.defaultProps={rbacGroups:[],initialGroups:[]},oe.propTypes={history:i.a.shape({goBack:i.a.func.isRequired}).isRequired,addWorkflow:i.a.func.isRequired,addNotification:i.a.func.isRequired,fetchWorkflow:i.a.func.isRequired,fetchWorkflows:i.a.func.isRequired,initialValues:i.a.object,updateWorkflow:i.a.func.isRequired,workflowId:i.a.string,initialGroups:i.a.array,rbacGroups:i.a.arrayOf(i.a.shape({value:i.a.oneOfType([i.a.number,i.a.string]).isRequired,label:i.a.string.isRequired})).isRequired};var ce=Object(s.f)(Object(o.connect)(function(e,t){var n=t.match.params.id,a=e.workflowReducer.selectedWorkflow;return{rbacGroups:e.groupReducer.groups,initialValues:n&&a,workflowId:n}},function(e){return Object(Q.bindActionCreators)({addNotification:J.addNotification,addWorkflow:I,updateWorkflow:M,fetchWorkflows:D,fetchWorkflow:W},e)})(oe)),ie=n(71),se=function(e){var t=e.history,n=t.goBack,o=t.push,c=e.removeWorkflow,i=e.fetchWorkflows,s=e.fetchWorkflow,l=e.workflowId,u=e.workflow;if(Object(a.useEffect)(function(){l&&s(l)},[l]),!u)return null;var d=function(){return n()};return r.a.createElement(X.a,{isOpen:!0,isSmall:!0,title:"",onClose:d,actions:[r.a.createElement(p.c,{key:"cancel",variant:"secondary",type:"button",onClick:d},"Cancel"),r.a.createElement(p.c,{key:"submit",variant:"primary",type:"button",onClick:function(){return c(l).then(function(){i(),o("/workflows")})}},"Confirm")]},r.a.createElement(ie.a,null,r.a.createElement(te.a,null,r.a.createElement(ne.b,{component:ne.a.h1},"Removing Workflow:  ",u.name))))};se.propTypes={history:i.a.shape({goBack:i.a.func.isRequired,push:i.a.func.isRequired}).isRequired,removeWorkflow:i.a.func.isRequired,fetchWorkflows:i.a.func.isRequired,fetchWorkflow:i.a.func.isRequired,workflowId:i.a.string,workflow:i.a.object};var le=Object(s.f)(Object(o.connect)(function(e,t){var n=e.workflowReducer,a=n.selectedWorkflow,r=n.isLoading;return{workflowId:t.match.params.id,workflow:a,isLoading:r}},function(e){return Object(Q.bindActionCreators)({fetchWorkflow:W,fetchWorkflows:D,removeWorkflow:z},e)})(se)),ue=function(e){var t=e.description,n=e.groups;return r.a.createElement(a.Fragment,null,r.a.createElement(te.a,null,r.a.createElement(ne.b,{className:"data-table-detail heading",component:ne.a.small},"Description"),r.a.createElement(ne.b,{className:"data-table-detail content",component:ne.a.h5},t)),r.a.createElement(te.a,null,r.a.createElement(ne.b,{className:"data-table-detail heading",component:ne.a.small},"Groups"),r.a.createElement(ne.b,{className:"data-table-detail content",component:ne.a.h5},n.join(","))))};ue.propTypes={description:i.a.string,groups:i.a.array};var de=ue,pe=function(e){return e.filter(function(e){return"Always approve"!==e.name}).reduce(function(e,t,n){var a=t.id,o=t.name,c=t.description,i=t.group_names;return[].concat(B()(e),[{id:a,isOpen:!1,selected:!1,cells:[o,c,i.length]},{parent:2*n,cells:[{title:r.a.createElement(de,{description:c,groups:i})}]}])},[])},me=n(116),fe=[{title:"Name",cellFormatters:[m.b]},"Description","Groups"],he=function(e){var t=e.fetchRbacGroups,n=e.fetchWorkflows,o=e.workflows,c=e.pagination,i=e.history;return r.a.createElement(me.a,{data:o,createInitialRows:pe,columns:fe,fetchData:function(e){t(),n().then(function(t){var n=t.value.data;return e(pe(n))})},request:n,routes:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(s.b,{exact:!0,path:"/workflows/add-workflow",component:ce}),r.a.createElement(s.b,{exact:!0,path:"/workflows/edit/:id",component:ce}),r.a.createElement(s.b,{exact:!0,path:"/workflows/remove/:id",component:le}))},actionResolver:function(e,t){return t.rowIndex%2==1?null:[{title:"Edit",onClick:function(e,t,n){return i.push("/workflows/edit/".concat(n.id))}},{title:"Delete",style:{color:"var(--pf-global--danger-color--100)"},onClick:function(e,t,n){return i.push("/workflows/remove/".concat(n.id))}}]},titlePlural:"Workflows",titleSingular:"Workflow",pagination:c,toolbarButtons:function(){return r.a.createElement(u.a,null,r.a.createElement(d.a,null,r.a.createElement(l.b,{to:"/workflows/add-workflow"},r.a.createElement(p.c,{variant:"primary","aria-label":"Create Workflow"},"Create Workflow"))))}})};he.propTypes={history:i.a.shape({goBack:i.a.func.isRequired,push:i.a.func.isRequired}).isRequired,filteredItems:i.a.array,workflows:i.a.array,platforms:i.a.array,isLoading:i.a.bool,searchFilter:i.a.string,fetchWorkflows:i.a.func.isRequired,fetchRbacGroups:i.a.func.isRequired,pagination:i.a.shape({limit:i.a.number.isRequired,offset:i.a.number.isRequired,count:i.a.number.isRequired})},he.defaultProps={workflows:[],pagination:{}};t.default=Object(o.connect)(function(e){var t=e.workflowReducer,n=t.workflows,a=t.isLoading,r=e.groupReducer,o=r.groups,c=r.filterValue;return{workflows:n.data,pagination:n.meta,rbacGroups:o,isLoading:a,searchFilter:c}},function(e){return{fetchWorkflows:function(t){return e(D(t))},fetchRbacGroups:function(t){return e({type:f.d,payload:k().then(function(e){var t=e.data;return B()(t.map(function(e){return{value:e.uuid,label:e.name}}))})})}}})(he)},512:function(e,t,n){"use strict";n.r(t);var a,r,o,c=n(2),i=n.n(c),s=n(11),l=n.n(s),u=n(27),d=n(31),p=n(336),m=n(37),f=n(56),h=n(327),b=n.n(h),g=n(328),E=n(12),y=n.n(E),v=n(9),w=n.n(v),j=n(20),k=function(e){return w()({},e,{isRequestDataLoading:!0})},q=(a={},y()(a,"".concat(j.f,"_PENDING"),k),y()(a,"".concat(j.f,"_FULFILLED"),function(e,t){var n=t.payload;return w()({},e,{requests:n,isRequestDataLoading:!1})}),y()(a,"".concat(j.e,"_PENDING"),k),y()(a,"".concat(j.e,"_FULFILLED"),function(e,t){var n=t.payload;return w()({},e,{selectedRequest:n,isRequestDataLoading:!1})}),a),R=function(e){return w()({},e,{isLoading:!0})},O=(r={},y()(r,"".concat(j.i,"_PENDING"),R),y()(r,"".concat(j.i,"_FULFILLED"),function(e,t){var n=t.payload;return w()({},e,{workflows:n,isLoading:!1})}),y()(r,"".concat(j.h,"_PENDING"),R),y()(r,"".concat(j.h,"_FULFILLED"),function(e,t){var n=t.payload;return w()({},e,{selectedWorkflow:n,isLoading:!1})}),r),x=(o={},y()(o,"".concat(j.d,"_PENDING"),function(e){return w()({},e,{isLoading:!0})}),y()(o,"".concat(j.d,"_FULFILLED"),function(e,t){var n=t.payload;return w()({},e,{groups:n,isLoading:!1})}),o),T=new m.ReducerRegistry({},[g.a,Object(p.a)(),Object(f.notificationsMiddleware)({errorTitleKey:["message"],errorDescriptionKey:["errors","stack"]}),b.a]);T.register({requestReducer:Object(m.applyReducerHash)(q,{requests:[],selectedRequest:{},filterValue:"",isRequestDataLoading:!1}),workflowReducer:Object(m.applyReducerHash)(O,{workflows:{data:[],meta:{count:0,limit:10,offset:0}},workflow:{},filterValue:"",isLoading:!1}),groupReducer:Object(m.applyReducerHash)(x,{groups:[],isLoading:!1}),notifications:f.notifications});var _=T.getStore(),C=n(77),S=n.n(C),F=n(78),A=n.n(F),L=n(79),N=n.n(L),P=n(80),D=n.n(P),W=n(44),I=n.n(W),M=n(81),z=n.n(M),K=n(1),U=n.n(K),G=n(66),B=n(43),H=n.n(B),V=n(135),Q=n.n(V),X=n(82),J=Object(c.lazy)(function(){return Promise.resolve().then(function(){return Q()(n(510))})}),Z=Object(c.lazy)(function(){return Promise.resolve().then(function(){return Q()(n(511))})}),Y="/requests",$="/workflows",ee=function(e){var t=e.rootClass,n=H()(e,["rootClass"]),a=document.getElementById("root");return a.removeAttribute("class"),a.classList.add("page__".concat(t),"pf-l-page__main","pf-c-page__main"),a.setAttribute("role","main"),i.a.createElement(G.b,n)};ee.propTypes={rootClass:U.a.string};var te=function(){return i.a.createElement(c.Suspense,{fallback:i.a.createElement(X.b,null)},i.a.createElement(G.d,null,i.a.createElement(ee,{path:Y,component:J,rootClass:"requests"}),i.a.createElement(ee,{path:$,component:Z,rootClass:"workflows"}),i.a.createElement(G.b,{render:function(){return i.a.createElement(G.a,{to:$})}})))},ne=(n(160),n(130)),ae=n(104),re=[{eventKey:0,title:"Requests",name:"/requests"},{eventKey:1,title:"Workflows",name:"/workflows"}],oe=function(e){var t=e.history.push,n=e.location.pathname,a=re.find(function(e){var t=e.name;return n.includes(t)});return i.a.createElement(ne.b,{className:"pf-u-mt-md",activeKey:a?a.eventKey:0,onSelect:function(e,n){return t(re[n].name)}},re.map(function(e){return i.a.createElement(ae.a,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name})}))};oe.propTypes={children:U.a.oneOfType([U.a.node,U.a.arrayOf(U.a.node)]),location:U.a.shape({pathname:U.a.string.isRequired}),history:U.a.shape({push:U.a.func.isRequired})};var ce=Object(G.f)(oe),ie=n(131),se=(n(416),function(e){function t(){var e,n;S()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=N()(this,(e=D()(t)).call.apply(e,[this].concat(r))),y()(I()(n),"state",{chromeNavAvailable:!0,auth:!1}),n}return z()(t,e),A()(t,[{key:"componentDidMount",value:function(){var e=this;insights.chrome.init(),insights.chrome.auth.getUser().then(function(){return e.setState({auth:!0})}),insights.chrome.identifyApp("approval")}},{key:"render",value:function(){return this.state.auth?i.a.createElement(i.a.Fragment,null,i.a.createElement(f.NotificationsPortal,null),i.a.createElement(m.PageHeader,{style:{paddingBottom:0}},i.a.createElement(ie.a,{headingLevel:"h1",size:"2xl"},"Approval"),i.a.createElement(ce,null)),i.a.createElement(m.Main,null,i.a.createElement(te,null))):i.a.createElement(X.a,null)}}]),t}(c.Component));se.propTypes={history:U.a.object};var le=Object(G.f)(Object(d.connect)()(se)),ue=window.location.pathname.split("/");ue.shift();var de="/";"beta"===ue[0]&&(de="/".concat(ue.shift(),"/")),l.a.render(i.a.createElement(d.Provider,{store:_},i.a.createElement(u.a,{basename:"".concat(de).concat(ue[0],"/").concat(ue[1],"/").concat(ue[2])},i.a.createElement(le,null))),document.getElementById("root"))},58:function(e,t,n){"use strict";var a=n(106),r=n.n(a),o="".concat("/api","/approval/v1.0"),c="".concat("/api","/rbac/v1"),i=n(118),s=n(87);n.d(t,"c",function(){return b}),n.d(t,"e",function(){return g}),n.d(t,"d",function(){return E}),n.d(t,"f",function(){return y}),n.d(t,"a",function(){return v}),n.d(t,"b",function(){return w});var l=r.a.create();l.interceptors.response.use(function(e){return e.data||e});var u=new s.WorkflowApi(void 0,o,l),d=new s.ActionApi(void 0,o,l),p=new s.RequestApi(void 0,o,l),m=new s.TemplateApi(void 0,o,l),f=new s.StageApi(void 0,o,l),h=(new i.AccessApi(void 0,c,l),new i.PrincipalApi(void 0,c,l),new i.GroupApi(void 0,c,l));function b(){return p}function g(){return m}function E(){return f}function y(){return u}function v(){return d}function w(){return h}},82:function(e,t,n){"use strict";n.d(t,"b",function(){return y}),n.d(t,"a",function(){return v});var a=n(35),r=n.n(a),o=n(32),c=n.n(o),i=n(43),s=n.n(i),l=n(2),u=n.n(l),d=n(117),p=n(1),m=n.n(p),f=n(111),h=n(112),b=n(132),g=n(133),E=function(e){var t=e.items,n=s()(e,["items"]);return u.a.createElement(f.a,{gutter:"md"},u.a.createElement(h.a,{sm:12,style:{padding:24}},u.a.createElement(f.a,{gutter:"md"},c()(Array(t)).map(function(e,t){return u.a.createElement(h.a,{sm:12,md:6,lg:3,key:t},u.a.createElement(b.a,null,u.a.createElement(g.a,null,u.a.createElement(d.a,r()({height:160,width:300,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},n),u.a.createElement("rect",{x:"2",y:"99",rx:"3",ry:"3",width:"300",height:"6.4"})))))}))))};E.propTypes={items:m.a.number},E.defaultProps={items:1};var y=function(){return u.a.createElement(d.a,{height:800,width:600,speed:2,primaryColor:"#ffffff",secondaryColor:"#ecebeb"},u.a.createElement("rect",{x:"290",y:"225",rx:"0",ry:"0",width:"0",height:"0"}),u.a.createElement("rect",{x:"168",y:"187",rx:"0",ry:"0",width:"0",height:"0"}),u.a.createElement("rect",{x:"368",y:"280",rx:"0",ry:"0",width:"0",height:"0"}),u.a.createElement("rect",{x:"28",y:"19",rx:"0",ry:"0",width:"518",height:"413"}),u.a.createElement("rect",{x:"392",y:"380",rx:"0",ry:"0",width:"1",height:"60"}))},v=function(e){return u.a.createElement("div",null,u.a.createElement(d.a,r()({height:16,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#FFFFFF"},e),u.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"420",height:"10"})),u.a.createElement(E,null))}}});
//# sourceMappingURL=../sourcemaps/App.js.map