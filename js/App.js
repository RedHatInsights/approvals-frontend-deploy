!function(e){function t(t){for(var n,i,c=t[0],l=t[1],s=t[2],d=0,p=[];d<c.length;d++)i=c[d],r[i]&&p.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,s||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,c=1;c<a.length;c++){var l=a[c];0!==r[l]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={0:0},o=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/apps/approval/";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=l;o.push([630,1]),a()}({116:function(e,t,a){"use strict";var n=a(2),r=a.n(n),o=a(1),i=a.n(o),c=a(206),l=a(207),s=a(204),u=a(205),d=a(58),p=a(24),m=a(192),f=a(193),h=function(e){return e?r.a.createElement(m.a,{style:{minHeight:18}},Object.keys(e).map(function(t){return r.a.createElement(f.a,{key:e[t].title,isActive:e[t].isActive},e[t].to&&r.a.createElement(p.NavLink,{exact:!0,to:e[t].to},e[t].title)||e[t].title)})):null};h.propTypes={breadcrumbs:i.a.array};var b=h;a(574);a.d(t,"a",function(){return g});var E=function(e){var t=e.children,a=e.breadcrumbs,n=e.paddingBottom;return r.a.createElement("div",{className:"pf-u-pt-xl pf-u-pr-xl pf-u-pl-xl ".concat(n?"pf-u-pb-xl":""," top-toolbar")},r.a.createElement(c.a,{className:"pf-u-mb-md"},r.a.createElement(b,a)),t)};E.propTypes={children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]).isRequired,breadcrumbs:i.a.array,paddingBottom:i.a.bool},E.defaultProps={paddingBottom:!1};t.b=E;var g=function(e){var t=e.title,a=e.children;return r.a.createElement(n.Fragment,null,r.a.createElement(c.a,{className:"pf-u-mb-xl"},r.a.createElement(l.a,null,r.a.createElement(s.a,{className:"top-toolbar-title"},r.a.createElement(u.a,{component:u.b.h2},t||r.a.createElement(d.ToolbarTitlePlaceholder,null)))),a))};g.propTypes={title:i.a.string.isRequired,children:i.a.oneOfType([i.a.node,i.a.arrayOf(i.a.node)])}},160:function(e,t,a){"use strict";var n=a(12),r=a.n(n),o=a(41),i=a.n(o),c=a(2),l=a.n(c),s=a(1),u=a.n(s),d=a(405),p=a(206),m=a(207),f=a(210),h=a(212),b=a(211),E=a(159),g=a(638),y=a(639),v=a(402),w=a(44),k=a(194),j=a(115),q=function(e){var t=e.searchValue,a=e.onFilterChange,n=e.placeholder;return l.a.createElement(h.a,null,l.a.createElement(b.a,null,l.a.createElement("div",{className:"pf-c-input-group"},l.a.createElement(k.a,{placeholder:n,value:t,type:"text",onChange:a,"aria-label":"Find product button"}),l.a.createElement(j.a,{variant:"tertiary",id:"searchProductButton",onClick:function(){return a(t)}},l.a.createElement("i",{className:"fas fa-search","aria-hidden":"true"})))))};q.propTypes={onFilterChange:u.a.func.isRequired,placeholder:u.a.string,searchValue:u.a.string},q.defaultProps={searchValue:""};var R=q,x=a(63),O=a(403),T=a(116),S=a(88),C=a(168),F=a(140),_=[{eventKey:0,title:"Request queue",name:"/requests"},{eventKey:1,title:"Workflows",name:"/workflows"}],L=function(e){var t=e.history.push,a=e.location.pathname,n=_.find(function(e){var t=e.name;return a.includes(t)});return l.a.createElement(C.b,{className:"pf-u-mt-md",activeKey:n?n.eventKey:0,onSelect:function(e,a){return t(_[a].name)}},_.map(function(e){return l.a.createElement(F.a,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name})}))};L.propTypes={children:u.a.oneOfType([u.a.node,u.a.arrayOf(u.a.node)]),location:u.a.shape({pathname:u.a.string.isRequired}),history:u.a.shape({push:u.a.func.isRequired})};var N=Object(S.k)(L),A=a(58);a.d(t,"a",function(){return D});var D=function(e){var t=e.request,a=e.isSelectable,n=e.createInitialRows,o=e.columns,s=e.toolbarButtons,u=e.fetchData,k=e.data,j=e.actionResolver,q=e.routes,S=e.titlePlural,C=e.titleSingular,F=e.pagination,_=e.setCheckedItems,L=Object(c.useState)(""),D=i()(L,2),P=D[0],W=D[1],I=Object(c.useState)([]),M=i()(I,2),z=M[0],B=M[1],G=Object(c.useState)(!1),K=i()(G,1)[0];Object(c.useEffect)(function(){u(B),Object(w.d)()},[]),Object(c.useEffect)(function(){B(n(k))},[k]);var U=function(e){return t({offset:F.offset,limit:e}).then(function(){return B(n(k))})},V=function(e,a){var r={offset:Object(w.b)(e,F.limit),limit:F.limit};return a?Object(d.a)(t,250)():t(r).then(function(e){var t=e.value.data;return B(n(t))})};return K?l.a.createElement(A.b,null):l.a.createElement(c.Fragment,null,l.a.createElement(T.b,null,l.a.createElement(T.a,{title:"Approval"}),l.a.createElement(N,null)),l.a.createElement(x.Section,{className:"data-table-pane"},q(),l.a.createElement(O.TableToolbar,null,l.a.createElement(p.a,{style:{flex:1}},l.a.createElement(m.a,null,l.a.createElement(f.a,null,l.a.createElement(R,{onFilterChange:function(e){return W(e)},searchValue:P,placeholder:"Find a ".concat(C)}),s())),l.a.createElement(m.a,null,l.a.createElement(f.a,null,l.a.createElement(h.a,null,l.a.createElement(b.a,null,l.a.createElement(v.Pagination,{itemsPerPage:F.limit||50,numberOfItems:F.count||50,onPerPageSelect:U,page:Object(w.a)(F.limit,F.offset),onSetPage:V,direction:"down"}))))))),l.a.createElement(E.b,{"aria-label":"Approval ".concat(S," table"),onCollapse:function(e,t,a,n){var o=n.id;return B(function(e){return function(e,t){return e.map(function(e){return e.id===t?r()({},e,{isOpen:!e.isOpen}):r()({},e)})}(e,o)})},rows:z,cells:o,onSelect:a&&function(e,t,a){var n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).id;return B(-1===a?z.map(function(e){return r()({},e,{selected:t})}):function(e){return function(e,t){var a=e.map(function(e){return e.id===t?r()({},e,{selected:!e.selected}):r()({},e)}),n=a.filter(function(e){return e.id&&e.selected});return _(n),a}(e,n)})},actionResolver:j,className:"table-fix"},l.a.createElement(g.a,null),l.a.createElement(y.a,null))))};D.propTypes={isSelectable:u.a.bool,isDataLoading:u.a.func.isRequired,createInitialRows:u.a.func.isRequired,request:u.a.func.isRequired,columns:u.a.array.isRequired,toolbarButtons:u.a.func,fetchData:u.a.func.isRequired,data:u.a.array,pagination:u.a.shape({limit:u.a.number.isRequired,offset:u.a.number.isRequired,count:u.a.number.isRequired}),titlePlural:u.a.string,titleSingular:u.a.string,routes:u.a.func,actionResolver:u.a.func,setCheckedItems:u.a.func},D.defaultProps={requests:[],pagination:"",toolbarButtons:function(){return null},isSelectable:null,routes:function(){return null}}},161:function(e,t,a){"use strict";var n=a(32),r=a.n(n),o=a(20),i=a.n(o),c=a(12),l=a.n(c),s=a(48),u=a.n(s),d=a(2),p=a.n(d),m=a(1),f=a.n(m),h=a(49),b=a.n(h),E=a(123),g=a(30),y=a.n(g),v=a(195),w=a(202),k=a(201),j=a(204),q=a(205),R=function(e){var t=e.input,a=e.options,n=e.isReadOnly,o=e.isDisabled,i=(e.FieldProvider,e.isRequired),c=u()(e,["input","options","isReadOnly","isDisabled","FieldProvider","isRequired"]);return p.a.createElement(v.a,r()({},t,c,{isDisabled:o||n}),function(e,t,a){if(t&&a)return e;var n=y()(e);return n.find(function(e){return void 0===e.value})?y()(n):[{label:a?"Please choose":"None"}].concat(y()(n))}(a,t.value,i).map(function(e){return p.a.createElement(w.a,r()({key:e.value||e.label},e,{label:e.label.toString()}))}))};R.propTypes={input:f.a.object.isRequired,options:f.a.arrayOf(f.a.shape({value:f.a.any,label:f.a.string.isRequired})).isRequired,isReadOnly:f.a.bool,isDisabled:f.a.bool,isRequired:f.a.bool,FieldProvider:f.a.any};var x=function(e){e.componentType;var t=e.label,a=e.isRequired,n=e.helperText,o=e.meta,i=e.description,c=e.hideLabel,l=u()(e,["componentType","label","isRequired","helperText","meta","description","hideLabel"]),s=o.error,d=o.touched&&s;return p.a.createElement(k.a,{isRequired:a,label:!c&&t,fieldId:l.id,isValid:!d,helperText:n,helperTextInvalid:o.error},i&&p.a.createElement(j.a,null,p.a.createElement(q.a,{component:q.b.small},i)),p.a.createElement(R,r()({label:t,isValid:!d,isRequired:a},l)))};x.propTypes={componentType:f.a.string,label:f.a.string,isRequired:f.a.bool,helperText:f.a.string,meta:f.a.object,description:f.a.string,hideLabel:f.a.bool};var O=x,T={default:{},modal:{buttonOrder:["cancel","reset","save"],buttonClassName:"modal-form-right-align"}},S=function(e){var t=e.componentMapper,a=e.formContainer,n=u()(e,["componentMapper","formContainer"]);return p.a.createElement("div",{className:T[a].buttonClassName},p.a.createElement(b.a,r()({formFieldsMapper:l()({},E.formFieldsMapper,i()({componentMapper:t},h.componentTypes.SELECT,O)),layoutMapper:E.layoutMapper},T[a],n)))};S.propTypes={componentMapper:f.a.object,formContainer:f.a.oneOf(["default","modal"])},S.defaultProps={componentMapper:{},formContainer:"default"};t.a=S},170:function(e,t,a){},21:function(e,t,a){"use strict";a.d(t,"e",function(){return n}),a.d(t,"f",function(){return r}),a.d(t,"b",function(){return o}),a.d(t,"h",function(){return i}),a.d(t,"i",function(){return c}),a.d(t,"a",function(){return l}),a.d(t,"l",function(){return s}),a.d(t,"j",function(){return u}),a.d(t,"d",function(){return d});var n="FETCH_REQUEST",r="FETCH_REQUESTS",o="CREATE_STAGE_ACTION",i="FETCH_WORKFLOW",c="FETCH_WORKFLOWS",l="ADD_WORKFLOW",s="UPDATE_WORKFLOW",u="REMOVE_WORKFLOW",d="FETCH_RBAC_GROUPS"},398:function(e,t){},44:function(e,t,a){"use strict";a.d(t,"d",function(){return i}),a.d(t,"a",function(){return c}),a.d(t,"b",function(){return l}),a.d(t,"e",function(){return s}),a.d(t,"c",function(){return u});var n=a(4),r=a.n(n),o=["notified","pending"],i=function(){return document.getElementById("root").scrollTo({behavior:"smooth",top:0,left:0})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(t/e)+1},l=function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)-1)*(arguments.length>1?arguments[1]:void 0)},s=function(e){return r()(e).fromNow()},u=function(e){return o.includes(e)}},493:function(e,t){},499:function(e,t){},508:function(e,t,a){var n={"./af":221,"./af.js":221,"./ar":222,"./ar-dz":223,"./ar-dz.js":223,"./ar-kw":224,"./ar-kw.js":224,"./ar-ly":225,"./ar-ly.js":225,"./ar-ma":226,"./ar-ma.js":226,"./ar-sa":227,"./ar-sa.js":227,"./ar-tn":228,"./ar-tn.js":228,"./ar.js":222,"./az":229,"./az.js":229,"./be":230,"./be.js":230,"./bg":231,"./bg.js":231,"./bm":232,"./bm.js":232,"./bn":233,"./bn.js":233,"./bo":234,"./bo.js":234,"./br":235,"./br.js":235,"./bs":236,"./bs.js":236,"./ca":237,"./ca.js":237,"./cs":238,"./cs.js":238,"./cv":239,"./cv.js":239,"./cy":240,"./cy.js":240,"./da":241,"./da.js":241,"./de":242,"./de-at":243,"./de-at.js":243,"./de-ch":244,"./de-ch.js":244,"./de.js":242,"./dv":245,"./dv.js":245,"./el":246,"./el.js":246,"./en-SG":247,"./en-SG.js":247,"./en-au":248,"./en-au.js":248,"./en-ca":249,"./en-ca.js":249,"./en-gb":250,"./en-gb.js":250,"./en-ie":251,"./en-ie.js":251,"./en-il":252,"./en-il.js":252,"./en-nz":253,"./en-nz.js":253,"./eo":254,"./eo.js":254,"./es":255,"./es-do":256,"./es-do.js":256,"./es-us":257,"./es-us.js":257,"./es.js":255,"./et":258,"./et.js":258,"./eu":259,"./eu.js":259,"./fa":260,"./fa.js":260,"./fi":261,"./fi.js":261,"./fo":262,"./fo.js":262,"./fr":263,"./fr-ca":264,"./fr-ca.js":264,"./fr-ch":265,"./fr-ch.js":265,"./fr.js":263,"./fy":266,"./fy.js":266,"./ga":267,"./ga.js":267,"./gd":268,"./gd.js":268,"./gl":269,"./gl.js":269,"./gom-latn":270,"./gom-latn.js":270,"./gu":271,"./gu.js":271,"./he":272,"./he.js":272,"./hi":273,"./hi.js":273,"./hr":274,"./hr.js":274,"./hu":275,"./hu.js":275,"./hy-am":276,"./hy-am.js":276,"./id":277,"./id.js":277,"./is":278,"./is.js":278,"./it":279,"./it-ch":280,"./it-ch.js":280,"./it.js":279,"./ja":281,"./ja.js":281,"./jv":282,"./jv.js":282,"./ka":283,"./ka.js":283,"./kk":284,"./kk.js":284,"./km":285,"./km.js":285,"./kn":286,"./kn.js":286,"./ko":287,"./ko.js":287,"./ku":288,"./ku.js":288,"./ky":289,"./ky.js":289,"./lb":290,"./lb.js":290,"./lo":291,"./lo.js":291,"./lt":292,"./lt.js":292,"./lv":293,"./lv.js":293,"./me":294,"./me.js":294,"./mi":295,"./mi.js":295,"./mk":296,"./mk.js":296,"./ml":297,"./ml.js":297,"./mn":298,"./mn.js":298,"./mr":299,"./mr.js":299,"./ms":300,"./ms-my":301,"./ms-my.js":301,"./ms.js":300,"./mt":302,"./mt.js":302,"./my":303,"./my.js":303,"./nb":304,"./nb.js":304,"./ne":305,"./ne.js":305,"./nl":306,"./nl-be":307,"./nl-be.js":307,"./nl.js":306,"./nn":308,"./nn.js":308,"./pa-in":309,"./pa-in.js":309,"./pl":310,"./pl.js":310,"./pt":311,"./pt-br":312,"./pt-br.js":312,"./pt.js":311,"./ro":313,"./ro.js":313,"./ru":314,"./ru.js":314,"./sd":315,"./sd.js":315,"./se":316,"./se.js":316,"./si":317,"./si.js":317,"./sk":318,"./sk.js":318,"./sl":319,"./sl.js":319,"./sq":320,"./sq.js":320,"./sr":321,"./sr-cyrl":322,"./sr-cyrl.js":322,"./sr.js":321,"./ss":323,"./ss.js":323,"./sv":324,"./sv.js":324,"./sw":325,"./sw.js":325,"./ta":326,"./ta.js":326,"./te":327,"./te.js":327,"./tet":328,"./tet.js":328,"./tg":329,"./tg.js":329,"./th":330,"./th.js":330,"./tl-ph":331,"./tl-ph.js":331,"./tlh":332,"./tlh.js":332,"./tr":333,"./tr.js":333,"./tzl":334,"./tzl.js":334,"./tzm":335,"./tzm-latn":336,"./tzm-latn.js":336,"./tzm.js":335,"./ug-cn":337,"./ug-cn.js":337,"./uk":338,"./uk.js":338,"./ur":339,"./ur.js":339,"./uz":340,"./uz-latn":341,"./uz-latn.js":341,"./uz.js":340,"./vi":342,"./vi.js":342,"./x-pseudo":343,"./x-pseudo.js":343,"./yo":344,"./yo.js":344,"./zh-cn":345,"./zh-cn.js":345,"./zh-hk":346,"./zh-hk.js":346,"./zh-tw":347,"./zh-tw.js":347};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=508},574:function(e,t,a){},58:function(e,t,a){"use strict";a.d(t,"c",function(){return j}),a.d(t,"a",function(){return q}),a.d(t,"b",function(){return R});var n=a(32),r=a.n(n),o=a(30),i=a.n(o),c=a(48),l=a.n(c),s=a(2),u=a.n(s),d=a(1),p=a.n(d),m=a(181),f=a(157),h=a(150),b=a(152),E=a(154),g=a(153),y=a(151),v=a(63),w=a(126),k=function(){return u.a.createElement(w.a,{height:500,width:200,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},u.a.createElement("rect",{x:"10",y:"15",rx:"0",ry:"0",width:"174",height:"26"}),u.a.createElement("rect",{x:"10",y:"65",rx:"0",ry:"0",width:"174",height:"26"}),u.a.createElement("rect",{x:"10",y:"115",rx:"0",ry:"0",width:"174",height:"26"}),u.a.createElement("rect",{x:"10",y:"165",rx:"0",ry:"0",width:"174",height:"26"}),u.a.createElement("rect",{x:"10",y:"215",rx:"0",ry:"0",width:"174",height:"26"}),u.a.createElement("rect",{x:"10",y:"265",rx:"0",ry:"0",width:"174",height:"26"}),u.a.createElement("rect",{x:"10",y:"315",rx:"0",ry:"0",width:"174",height:"26"}),u.a.createElement("rect",{x:"10",y:"365",rx:"0",ry:"0",width:"174",height:"26"}),u.a.createElement("rect",{x:"10",y:"415",rx:"0",ry:"0",width:"174",height:"26"}),u.a.createElement("rect",{x:"10",y:"465",rx:"0",ry:"0",width:"174",height:"26"}),u.a.createElement("rect",{x:"10",y:"515",rx:"0",ry:"0",width:"174",height:"26"}))},j=function(e){var t=e.items,a=l()(e,["items"]);return u.a.createElement(s.Fragment,null,u.a.createElement(v.Section,{className:"data-table-pane"},u.a.createElement(m.a,{gutter:"md"},u.a.createElement(f.a,{md:2,className:"detail-pane"},u.a.createElement(k,null)),u.a.createElement(f.a,{md:10,className:"detail-pane"},u.a.createElement(h.a,{"aria-label":"datalist-placeholder",style:{margin:32}},i()(Array(t)).map(function(e,t){return u.a.createElement(b.a,{key:t,"aria-label":"datalist-item-placeholder"},u.a.createElement(E.a,null,u.a.createElement(g.a,{dataListCells:[u.a.createElement(y.a,{key:"1"},u.a.createElement(w.a,r()({height:12,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#ecebeb"},a),u.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"300",height:"12"})))]})))}))))))};j.propTypes={items:p.a.number},j.defaultProps={items:5};var q=function(e){return u.a.createElement("div",null,u.a.createElement(w.a,r()({height:16,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#FFFFFF"},e),u.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"420",height:"10"})),u.a.createElement(j,null))},R=function(e){var t=e.items,a=l()(e,["items"]);return u.a.createElement(s.Fragment,null,u.a.createElement(h.a,{"aria-label":"datalist-placeholder",style:{margin:32}},i()(Array(t)).map(function(e,t){return u.a.createElement(b.a,{key:t,"aria-label":"datalist-item-placeholder"},u.a.createElement(E.a,null,u.a.createElement(g.a,{dataListCells:[u.a.createElement(y.a,{key:"1"},u.a.createElement(w.a,r()({height:12,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#ecebeb"},a),u.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"300",height:"12"})))]})))})))};R.propTypes={items:p.a.number},R.defaultProps={items:5}},628:function(e,t,a){"use strict";a.r(t);var n=a(32),r=a.n(n),o=a(41),i=a.n(o),c=a(2),l=a.n(c),s=a(35),u=a(1),d=a.n(u),p=a(88),m=a(24),f=a(212),h=a(211),b=a(115),E=a(131),g=a(21),y=a(12),v=a.n(y),w=a(7),k=a.n(w),j=a(29),q=a.n(j),R=a(79),x=Object(R.b)();function O(){return T.apply(this,arguments)}function T(){return(T=q()(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.listGroups();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e){return C.apply(this,arguments)}function C(){return(C=q()(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",Promise.all(t.map(function(){var e=q()(k.a.mark(function e(t){var a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getGroup(t);case 2:return a=e.sent,e.abrupt("return",a.name);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var F=Object(R.f)(),_=Object(R.e)();function L(e){return N.apply(this,arguments)}function N(){return(N=q()(k.a.mark(function e(t){var a,n,r,o,i,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit,n=void 0===a?10:a,r=t.offset,o=void 0===r?0:r,e.next=3,F.listWorkflows(n,o);case 3:return i=e.sent,c=i.data,e.abrupt("return",Promise.all(c.map(function(){var e=q()(k.a.mark(function e(t){var a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.prev=1,e.next=4,S(t.group_refs);case 4:a=e.sent,e.next=11;break;case 7:if(e.prev=7,e.t0=e.catch(1),e.t0.response&&404===e.t0.response.status){e.next=11;break}throw e.t0;case 11:return e.abrupt("return",v()({},t,{group_names:a}));case 12:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}())).then(function(e){return v()({},i,{data:e})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(e){return D.apply(this,arguments)}function D(){return(D=q()(k.a.mark(function e(t){var a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.showWorkflow(t);case 2:return a=e.sent,n=[],e.prev=4,e.next=7,S(a.group_refs);case 7:n=e.sent,e.next=14;break;case 10:if(e.prev=10,e.t0=e.catch(4),e.t0.response&&404===e.t0.response.status){e.next=14;break}throw e.t0;case 14:return e.abrupt("return",v()({},a,{group_names:n}));case 15:case"end":return e.stop()}},e,null,[[4,10]])}))).apply(this,arguments)}function P(e){return W.apply(this,arguments)}function W(){return(W=q()(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.updateWorkflow(t.id,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e){return M.apply(this,arguments)}function M(){return(M=q()(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.destroyWorkflow(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function z(e){return B.apply(this,arguments)}function B(){return(B=q()(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=q()(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.destroyWorkflow(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:g.i,payload:L(e)}},K=function(e){return{type:g.h,payload:A(e)}},U=function(e){return{type:g.a,payload:(t=e,_.listTemplates().then(function(e){var t=e.data;if(!t[0])throw new Error("No template exists");return t[0].id}).then(function(e){return F.addWorkflowToTemplate(e,t,{})})),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding workflow",description:"The workflow was added successfully."},rejected:{variant:"danger",title:"Failed adding workflow",description:"The workflow was not added successfuly."}}}};var t},V=function(e){return{type:g.l,payload:P(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating workflow",description:"The workflow was updated successfully."},rejected:{variant:"danger",title:"Failed updating workflow",description:"The workflow was not updated successfuly."}}}}},H=function(e){return{type:g.j,payload:I(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing workflow",description:"The workflow was removed successfully."}}}}},Q=function(e){return{type:g.REMOVE_WORKFLOWS,payload:z(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing workflows",description:"The selected workflows were removed successfully."}}}}},X=a(48),J=a.n(X),Z=a(30),Y=a.n(Z),$=a(59),ee=a(385),te=a(67),ae=a(208),ne=a(209),re=a(122),oe=a(204),ie=a(205),ce=a(181),le=a(157),se=function(e){var t=e.values?e.values:{name:"",description:"",wfGroups:[]},a=t.name,n=t.description,r=t.wfGroups;return l.a.createElement(c.Fragment,null,l.a.createElement(ae.a,{gutter:"md"},l.a.createElement(ne.a,null,l.a.createElement(re.a,{size:"xl"}," Review ")),l.a.createElement(ne.a,null,l.a.createElement(ae.a,{gutter:"md"},l.a.createElement(ne.a,null,l.a.createElement(oe.a,null,l.a.createElement(ie.a,{className:"data-table-detail heading",component:ie.b.h5},"Review and confirm your inputs. If there is anything incorrect, click Back and revise."))),l.a.createElement(ne.a,null,l.a.createElement(ce.a,{gutter:"md"},l.a.createElement(le.a,{span:2},l.a.createElement(ie.a,{className:"data-table-detail heading",component:ie.b.h5},"Group name")),l.a.createElement(le.a,{span:10},l.a.createElement(ie.a,{className:"data-table-detail content",component:ie.b.p},a))),l.a.createElement(ce.a,{gutter:"md"},l.a.createElement(le.a,{span:2},l.a.createElement(ie.a,{className:"data-table-detail heading",component:ie.b.h5},"Description")),l.a.createElement(le.a,{span:10},l.a.createElement(ie.a,{className:"data-table-detail content",component:ie.b.p},n))),void 0!==r&&r.map(function(t,a){return l.a.createElement(ie.a,{key:t.value,className:"data-table-detail content",component:ie.b.p},"Stage ".concat(a+1," : ").concat(e.groupOptions.find(function(e){return e.value===r[a]}).label))}))))))};se.propTypes={name:d.a.string,description:d.a.string,groups:d.a.array};var ue=se,de=a(200),pe=a(201),me=a(194),fe=a(196),he=function(e,t){return l.a.createElement(c.Fragment,null,l.a.createElement(ae.a,{gutter:"md"},l.a.createElement(ne.a,null,l.a.createElement(re.a,{size:"xl"}," Enter your information ")),l.a.createElement(ne.a,null,l.a.createElement(de.a,null,l.a.createElement(pe.a,{label:"Workflow name",isRequired:!0,fieldId:"workflow-name"},l.a.createElement(me.a,{isRequired:!0,type:"text",id:"workflow-name",name:"workflow-name","aria-describedby":"workflow-name",value:e.name,onChange:function(e,a){return t({name:a.currentTarget.value})}})),l.a.createElement(pe.a,{label:"Description",fieldId:"workflow-description"},l.a.createElement(fe.a,{type:"text",id:"workflow-description",name:"workflow-description",value:e.description,onChange:function(e,a){return t({description:a.currentTarget.value})}}))))))};he.propTypes={name:d.a.string,description:d.a.string};var be=he,Ee=a(218),ge=a(195),ye=a(202),ve=function(e,t,a){var n=Object(c.useState)(!1),r=i()(n,2),o=r[0],s=r[1],u=Object(c.useState)([]),d=i()(u,2),p=d[0],m=d[1],f=Object(c.useState)(1),h=i()(f,2),E=h[0],g=h[1],y=function(e){s(e)},v=function(e){return l.a.createElement(ne.a,null,l.a.createElement(ge.a,{label:"".concat(e+1," Stage"),"aria-label":"".concat(e+1," Stage"),onToggle:y,key:"stage-".concat(e+1),onChange:function(a){return n=a,(r=p)[e]=n,m(r),void t({wfGroups:r});var n,r},value:p[e],isExpanded:o,ariaLabelledBy:"Stage-".concat(e)},a.map(function(e){return l.a.createElement(ye.a,{isDisabled:e.disabled,key:e.value||e.label,label:e.label.toString(),value:e.value,isPlaceholder:e.isPlaceholder})})))},w=Object(c.useState)([v(0)]),k=i()(w,2),j=k[0],q=k[1];return l.a.createElement(c.Fragment,null,l.a.createElement(ae.a,{gutter:"md"},l.a.createElement(ne.a,null,l.a.createElement(re.a,{size:"xl"},"Set stages")),l.a.createElement(ne.a,null,l.a.createElement(ae.a,{gutter:"sm"},j.map(function(e,t){return v(t)}),l.a.createElement(ne.a,null,l.a.createElement(b.a,{variant:"link",isInline:!0,onClick:function(){q([].concat(Y()(j),[v(E+1)])),g(E+1)}},l.a.createElement(Ee.a,null)," ","Add a stage"))))))};ve.propTypes={name:d.a.string,description:d.a.string};var we=ve,ke=function(e){var t=e.history.push,a=e.match.params.id,n=e.addWorkflow,r=e.addNotification,o=e.updateWorkflow,s=e.postMethod,u=e.rbacGroups,d=Object(c.useState)({}),p=i()(d,2),m=p[0],f=p[1],h=function(e){f(v()({},m,e))},b=[].concat(Y()(u),[{value:void 0,label:"None"}]),E=[{name:"General Information",component:new be(m,h)},{name:"Set Stages",component:new we(m,h,b)},{name:"Review",component:new ue({values:m,groupOptions:b}),nextButtonText:"Confirm"}];return l.a.createElement(ee.a,{title:a?"Edit workflow":"Create workflow",isOpen:!0,onClose:function(){r({variant:"warning",title:a?"Editing workflow":"Creating workflow",description:a?"Edit workflow was cancelled by the user.":"Creating workflow was cancelled by the user."}),s?s().then(t("/workflows")):t("/workflows")},onSave:function(){var e=m.name,r=m.description,i=J()(m,["name","description"]),c={name:e,description:r,group_refs:Object.values(i)};a?o(v()({id:a},c)).then(s?s().then(t("/workflows")):t("/workflows")):n(c).then(s?s().then(t("/workflows")):t("/workflows"))},steps:E})};ke.defaultProps={rbacGroups:[],initialValues:{}},ke.propTypes={history:d.a.shape({goBack:d.a.func.isRequired}).isRequired,addWorkflow:d.a.func.isRequired,match:d.a.object,addNotification:d.a.func.isRequired,fetchWorkflow:d.a.func.isRequired,postMethod:d.a.func.isRequired,initialValues:d.a.object,updateWorkflow:d.a.func.isRequired,id:d.a.string,rbacGroups:d.a.arrayOf(d.a.shape({value:d.a.oneOfType([d.a.number,d.a.string]).isRequired,label:d.a.string.isRequired})).isRequired};var je=Object(p.k)(Object(s.connect)(function(e){return{rbacGroups:e.groupReducer.groups}},function(e){return Object($.a)({addNotification:te.addNotification,addWorkflow:U,updateWorkflow:V,fetchWorkflow:K},e)})(ke)),qe=a(203),Re=a(123),xe=a(161),Oe=a(49),Te=function(e,t){return{fields:[{component:Oe.componentTypes.WIZARD,name:"workflow_wizard",inModal:!0,fields:[{title:"Workflow information",name:"wf_step_info",stepKey:1,nextStep:"wf_step_stages",fields:[{component:Oe.componentTypes.TEXTAREA_FIELD,name:"name",type:"text",isRequired:!0,label:"Name",validate:[{type:Oe.validatorTypes.REQUIRED}]},{component:Oe.componentTypes.TEXTAREA_FIELD,name:"description",type:"text",label:"Description"}]},{stepKey:"wf_step_stages",title:"Set Approval Stages",name:"wf_step_stages",nextStep:"summary",fields:[{component:Oe.componentTypes.SELECT,name:"stage-1",isRequired:!1,label:"1st Stage",options:t},{component:Oe.componentTypes.SELECT,name:"stage-2",label:"2nd Stage",options:t},{component:Oe.componentTypes.SELECT,name:"stage-3",label:"3rd Stage",options:t}]},{fields:[{name:"summary",component:"summary"}],stepKey:"summary",name:"summary"}]}]}},Se=function(e){var t=e.history.push,a=e.match.params.id,n=e.addWorkflow,r=e.addNotification,o=e.fetchWorkflow,s=e.updateWorkflow,u=e.postMethod,d=e.rbacGroups,p=Object(c.useState)([]),m=i()(p,2),f=m[0],h=m[1];Object(c.useEffect)(function(){a&&b(h)},[]);var b=function(e){o(a).then(function(t){var a=t.value;t.value.group_refs.forEach(function(e,t){d.find(function(t){return t.value===e})?a["stage-".concat(t+1)]=e:r({variant:"warning",title:"Editing workflow",description:"Stage-".concat(t+1," group with id: ").concat(e," no longer accessible")})}),e(a)})},E=function(){r({variant:"warning",title:a?"Editing workflow":"Creating workflow",description:a?"Edit workflow was cancelled by the user.":"Creating workflow was cancelled by the user."}),u?u().then(t("/workflows")):t("/workflows")},g=[].concat(Y()(d),[{value:void 0,label:"None"}]);return l.a.createElement(qe.a,{title:a?"Edit workflow":"Create workflow",isOpen:!0,onClose:E,isSmall:!0},l.a.createElement("div",{style:{padding:8}},l.a.createElement(xe.a,{schema:Te(0,g),schemaType:"default",onSubmit:function(e){var r={name:e.name,description:e.description,group_refs:J()(e,["name","description"])};a?s(v()({id:a},r)).then(u?u().then(t("/workflows")):t("/workflows")):n(r).then(u?u().then(t("/workflows")):t("/workflows"))},onCancel:E,initialValues:v()({},f),formFieldsMapper:v()({},Re.formFieldsMapper,{summary:function(e){return l.a.createElement(ue,{values:e.formOptions.getState().values,groupOptions:g})}}),formContainer:"modal",showFormControls:!1,buttonsLabels:{submitLabel:"Confirm"}})))};Se.defaultProps={rbacGroups:[],initialValues:{}},Se.propTypes={history:d.a.shape({goBack:d.a.func.isRequired}).isRequired,addWorkflow:d.a.func.isRequired,match:d.a.object,addNotification:d.a.func.isRequired,fetchWorkflow:d.a.func.isRequired,postMethod:d.a.func.isRequired,initialValues:d.a.object,updateWorkflow:d.a.func.isRequired,id:d.a.string,rbacGroups:d.a.arrayOf(d.a.shape({value:d.a.oneOfType([d.a.number,d.a.string]).isRequired,label:d.a.string.isRequired})).isRequired};var Ce=Object(p.k)(Object(s.connect)(function(e){return{rbacGroups:e.groupReducer.groups}},function(e){return Object($.a)({addNotification:te.addNotification,addWorkflow:U,updateWorkflow:V,fetchWorkflow:K},e)})(Se)),Fe=a(158),_e=a(132),Le=function(e){var t=e.history,a=t.goBack,n=t.push,r=e.match.params.id,o=e.ids,i=e.removeWorkflow,c=e.removeWorkflows,s=e.fetchWorkflows,u=e.setSelectedWorkflows;if(!(r||o&&0!==o.length))return null;var d=function(){return a()};return l.a.createElement(qe.a,{isOpen:!0,isSmall:!0,title:"",onClose:d,actions:[l.a.createElement(b.a,{key:"cancel",variant:"secondary",type:"button",onClick:d},"Cancel"),l.a.createElement(b.a,{key:"submit",variant:"primary",type:"button",onClick:function(){return r?i(r):c(o).then(function(){s(),u([]),n("/workflows")})}},"Confirm")]},l.a.createElement(_e.a,null,l.a.createElement(oe.a,null,l.a.createElement(ie.a,{component:ie.b.h1},l.a.createElement(Fe.a,{id:"remove-workflow-modal",defaultMessage:"Removing {count, number} {count, plural,\n              one {workflow}\n              other {workflows}\n            }",values:{count:void 0!==r?1:o.length}})))))};Le.propTypes={history:d.a.shape({goBack:d.a.func.isRequired,push:d.a.func.isRequired}).isRequired,match:d.a.object,removeWorkflows:d.a.func.isRequired,removeWorkflow:d.a.func.isRequired,fetchWorkflows:d.a.func.isRequired,setSelectedWorkflows:d.a.func.isRequired,workflowId:d.a.string,ids:d.a.array};var Ne=Object(p.k)(Object(s.connect)(null,function(e){return Object($.a)({fetchWorkflows:G,removeWorkflow:H,removeWorkflows:Q},e)})(Le)),Ae=function(e){var t=e.description,a=e.groupRefs,n=e.groupNames;return l.a.createElement(c.Fragment,null,l.a.createElement(oe.a,null,l.a.createElement(ie.a,{className:"data-table-detail heading",component:ie.b.small},"Description"),l.a.createElement(ie.a,{className:"data-table-detail content",component:ie.b.h5},t)),l.a.createElement(oe.a,null,l.a.createElement(ie.a,{className:"data-table-detail heading",component:ie.b.small},"Groups"),l.a.createElement(ie.a,{className:"data-table-detail content",component:ie.b.h5},a.reduce(function(e,t,a){return e.concat("".concat(a>0?",":""," ").concat(n[a]||t))},""))))};Ae.propTypes={description:d.a.string,groupRefs:d.a.array.required,groupNames:d.a.array.required};var De=Ae,Pe=function(e){return e.filter(function(e){return"Always approve"!==e.name}).reduce(function(e,t,a){var n=t.id,r=t.name,o=t.description,i=t.group_refs,c=t.group_names;return[].concat(Y()(e),[{id:n,isOpen:!1,selected:!1,cells:[r,o]},{parent:2*a,cells:[{title:l.a.createElement(De,{description:o,groupRefs:i,groupNames:c})}]}])},[])},We=a(160),Ie=[{title:"Name",cellFormatters:[E.b]},"Description"],Me=function(e){var t=e.fetchRbacGroups,a=e.fetchWorkflows,n=e.workflows,o=e.pagination,s=e.history,u=Object(c.useState)([]),d=i()(u,2),E=d[0],g=d[1],y=function(){return E.length>0};return l.a.createElement(c.Fragment,null,l.a.createElement(We.a,{data:n,isSelectable:!0,createInitialRows:Pe,columns:Ie,fetchData:function(e){t(),a().then(function(t){var a=t.value.data;return e(Pe(a))})},request:a,routes:function(){return l.a.createElement(c.Fragment,null,l.a.createElement(p.d,{exact:!0,path:"/workflows/add-workflow",render:function(e){return l.a.createElement(je,r()({},e,{postMethod:a}))}}),l.a.createElement(p.d,{exact:!0,path:"/workflows/edit/:id",render:function(e){return l.a.createElement(Ce,r()({},e,{postMethod:a}))}}),l.a.createElement(p.d,{exact:!0,path:"/workflows/remove/:id",render:function(e){return l.a.createElement(Ne,r()({},e,{setSelectedWorkflows:g}))}}),l.a.createElement(p.d,{exact:!0,path:"/workflows/remove",render:function(e){return l.a.createElement(Ne,r()({},e,{ids:E,setSelectedWorkflows:g}))}}))},actionResolver:function(e,t){return t.rowIndex%2==1?null:[{title:"Edit",onClick:function(e,t,a){return s.push("/workflows/edit/".concat(a.id))}},{title:"Delete",style:{color:"var(--pf-global--danger-color--100)"},onClick:function(e,t,a){return s.push("/workflows/remove/".concat(a.id))}}]},titlePlural:"workflows",titleSingular:"workflow",pagination:o,setCheckedItems:function(e){return g(e.map(function(e){return e.id}))},toolbarButtons:function(){return l.a.createElement(f.a,null,l.a.createElement(h.a,null,l.a.createElement(m.Link,{to:"/workflows/add-workflow"},l.a.createElement(b.a,{variant:"primary","aria-label":"Create workflow"},"Create workflow"))),l.a.createElement(h.a,null,l.a.createElement(m.Link,{to:{pathname:"/workflows/remove"},isDisabled:!y()},l.a.createElement(b.a,{variant:"link",isDisabled:!y(),style:{color:y()?"var(--pf-global--danger-color--100)":"var(--pf-global--disabled-color--100)"},"aria-label":"Delete Workflow"},"Delete"))))}}))};Me.propTypes={history:d.a.shape({goBack:d.a.func.isRequired,push:d.a.func.isRequired}).isRequired,filteredItems:d.a.array,workflows:d.a.array,platforms:d.a.array,isLoading:d.a.bool,searchFilter:d.a.string,fetchWorkflows:d.a.func.isRequired,fetchRbacGroups:d.a.func.isRequired,selectedWorkflows:d.a.array,pagination:d.a.shape({limit:d.a.number.isRequired,offset:d.a.number.isRequired,count:d.a.number.isRequired})},Me.defaultProps={workflows:[],pagination:{}};t.default=Object(s.connect)(function(e){var t=e.workflowReducer,a=t.workflows,n=t.isLoading,r=e.groupReducer,o=r.groups,i=r.filterValue;return{workflows:a.data,pagination:a.meta,rbacGroups:o,isLoading:n,searchFilter:i}},function(e){return{fetchWorkflows:function(t){return e(G(t))},fetchRbacGroups:function(t){return e({type:g.d,payload:O().then(function(e){var t=e.data;return Y()(t.map(function(e){return{value:e.uuid,label:e.name}}))})})}}})(Me)},629:function(e,t,a){"use strict";a.r(t);var n=a(32),r=a.n(n),o=a(2),i=a.n(o),c=a(35),l=a(1),s=a.n(l),u=a(88),d=a(131),p=a(21),m=a(12),f=a.n(m),h=a(7),b=a.n(h),E=a(29),g=a.n(E),y=a(79),v=Object(y.c)(),w=Object(y.d)(),k=Object(y.a)();function j(e){return q.apply(this,arguments)}function q(){return(q=g()(b.a.mark(function e(t){var a,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.showRequest(t);case 2:return a=e.sent,e.next=5,R(t);case 5:return n=e.sent,e.abrupt("return",f()({},a,{stages:n.data}));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(e){return x.apply(this,arguments)}function x(){return(x=g()(b.a.mark(function e(t){var a,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.listStagesByRequest(t);case 2:return a=e.sent,n=a.data,e.abrupt("return",Promise.all(n.map(function(){var e=g()(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.listActionsByStage(t.id);case 2:return a=e.sent,e.abrupt("return",f()({},t,{stageActions:a}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(e){return f()({},a,{data:e})}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(e,t){return T.apply(this,arguments)}function T(){return(T=g()(b.a.mark(function e(t,a){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.createAction(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var S=function(e){return{type:p.e,payload:j(e)}},C=function(e,t,a){return{type:p.b,payload:O(t,a),meta:{notifications:{fulfilled:{variant:"success",title:"Success",description:"The ".concat(e," was successful.")},rejected:{variant:"danger",title:"".concat(e," error"),description:"The ".concat(e," action failed.")}}}}},F=a(41),_=a.n(F),L=a(161),N=a(59),A=a(203),D=a(67),P=a(49),W=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=function(e){return{component:P.componentTypes.TEXTAREA_FIELD,name:"comments",type:"text",isRequired:e,label:e?"Reason":"Comment"}}(e);return e&&(t.validate=[{type:P.validatorTypes.REQUIRED}]),{fields:[t]}},I=function(e){var t=e.history.push,a=e.match.params.id,n=e.actionType,r=e.addNotification,c=e.createStageAction,l=e.closeUrl,s=e.postMethod,u=Object(o.useState)({}),d=_()(u,2),p=d[0],m=d[1];Object(o.useEffect)(function(){var e;e=m,S(a).payload.then(function(t){return e(t)})},[]);var h=function(){var e=g()(b.a.mark(function e(a){var r,o,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r={"Add Comment":"memo",Approve:"approve",Deny:"deny"},o=p.stages[p.active_stage-1],i="Add Comment"===n?n:"".concat(n," Request"),o&&c(i,o.id,f()({operation:r[n],processed_by:"User"},a)).then(s?s().then(t(l)):t(l));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),E=function(){var e="Add Comment"===n?n:"".concat(n," Request");r({variant:"warning",title:e,description:"".concat(e," was cancelled by the user.")}),t(l)};return i.a.createElement(A.a,{isLarge:!0,title:"Add Comment"===n?"Request #".concat(a):"".concat(n," Request #").concat(a),isOpen:!0,onClose:E},i.a.createElement(L.a,{schema:W("Deny"===n),schemaType:"default",onSubmit:h,onCancel:E,formContainer:"modal"}))};I.defaultProps={closeUrl:"/requests",fetchData:!0},I.propTypes={history:s.a.shape({push:s.a.func.isRequired}).isRequired,addNotification:s.a.func.isRequired,fetchData:s.a.bool,createStageAction:s.a.func.isRequired,fetchRequest:s.a.func,postMethod:s.a.func,selectedRequest:s.a.object,id:s.a.string,actionType:s.a.string,closeUrl:s.a.string,match:s.a.object,location:s.a.object};var M=Object(u.k)(Object(c.connect)(function(e){return{isLoading:e.requestReducer.isRequestDataLoading}},function(e){return Object(N.a)({addNotification:D.addNotification,fetchRequest:S,createStageAction:C},e)})(I)),z=a(30),B=a.n(z),G=a(24),K=a(115),U=a(204),V=a(205),H=a(206),Q=a(207),X=a(44),J=function(e,t){return i.a.createElement(U.a,null,i.a.createElement(V.a,{className:"data-table-detail heading",component:V.b.small},e),i.a.createElement(V.a,{className:"data-table-detail content",component:V.b.h5},t))},Z=function(e){var t=e.id,a=e.content,n=e.state,r=e.reason,c=Object(X.c)(n);return i.a.createElement(o.Fragment,null,i.a.createElement(H.a,null,i.a.createElement(Q.a,null,i.a.createElement(U.a,null,i.a.createElement(V.a,{className:"data-table-detail heading",component:V.b.small},"Product"),i.a.createElement(V.a,{className:"data-table-detail content",component:V.b.h5},a?a.product:"Unknown"))),c&&i.a.createElement(Q.a,null,i.a.createElement(G.Link,{to:"/requests/approve/".concat(t),className:"pf-u-mr-md"},i.a.createElement(K.a,{variant:"primary","aria-label":"Approve Request",isDisabled:!c},"Approve")),i.a.createElement(G.Link,{to:"/requests/deny/".concat(t)},i.a.createElement(K.a,{variant:"danger","aria-label":"Deny Request"},"Deny")))),i.a.createElement(H.a,null,i.a.createElement(Q.a,null,i.a.createElement(J,{title:"Portfolio",detail:a?a.portfolio:"Unknown"}),i.a.createElement(J,{title:"Platform",detail:a?a.platform:"Unknown"}),i.a.createElement(J,{title:"Reason",detail:r}))))};Z.propTypes={id:s.a.string,content:s.a.object,uname:s.a.string,state:s.a.string,reason:s.a.string};var Y=Z,$=function(e){return e.reduce(function(e,t,a){var n=t.id,r=t.requester,c=t.created_at,l=t.updated_at,s=t.active_stage,u=t.total_stages,d=t.state,p=t.decision,m=t.reason,f=t.content;return[].concat(B()(e),[{id:n,isOpen:!1,state:d,cells:[i.a.createElement(o.Fragment,{key:n},i.a.createElement(G.Link,{to:"/requests/detail/".concat(n)},i.a.createElement(K.a,{variant:"link"}," ",n," "))),r,Object(X.e)(c),Object(X.e)(l),"".concat(s," of ").concat(u),p]},{parent:2*a,fullWidth:!0,cells:[{title:i.a.createElement(Y,{id:n,content:f,state:d,reason:m})}]}])},[])},ee=a(160),te=a(157),ae=a(181),ne=a(63),re=(a(170),function(e){var t=e.request;return i.a.createElement(U.a,null,i.a.createElement(V.a,{component:V.b.small},"Product: ",i.a.createElement("br",null)),i.a.createElement(V.a,null,t.content?t.content.product:"Unknown"),i.a.createElement(V.a,{component:V.b.small},"Portfolio:",i.a.createElement("br",null)),i.a.createElement(V.a,null,t.content?t.content.portfolio:""),i.a.createElement(V.a,{component:V.b.small},"Platform: ",i.a.createElement("br",null)),i.a.createElement(V.a,null,t.content?t.content.platform:""),i.a.createElement(V.a,{component:V.b.small},"Project: ",i.a.createElement("br",null)),i.a.createElement(V.a,null,t.content?t.content.project:""),i.a.createElement(V.a,{component:V.b.small},"Order Parameters: "),i.a.createElement(V.a,{component:V.b.h6},"Requester: ",i.a.createElement("br",null),t.requester),i.a.createElement(V.a,{component:V.b.h6},"Project: ",i.a.createElement("br",null)," "),t.content.params&&Object.keys(t.content.params).map(function(e){return t.content.params[e]&&i.a.createElement(V.a,{key:e,component:V.b.small},"".concat(e,": ").concat(t.content.params[e]))}))});re.propTypes={request:s.a.shape({content:s.a.object}).isRequired};var oe=re,ie=a(122),ce=a(107),le=a.n(ce),se=a(108),ue=a.n(se),de=a(109),pe=a.n(de),me=a(110),fe=a.n(me),he=a(52),be=a.n(he),Ee=a(111),ge=a.n(Ee),ye=a(20),ve=a.n(ye),we=a(150),ke=a(208),je=a(216),qe=a(215),Re=a(219),xe=a(217),Oe=a(214),Te={memo:"Comment from",approve:"Approved By",deny:"Denied by",notify:"Notified By",skip:"Skipped by"},Se={memo:i.a.createElement(je.a,null),approve:i.a.createElement(qe.a,{style:{color:"var(--pf-global--success-color--100)"}}),deny:i.a.createElement(Re.a,{style:{color:"var(--pf-global--danger-color--100)"}}),notify:i.a.createElement(xe.a,null),skip:i.a.createElement(Oe.a,null)},Ce=function(e){return i.a.createElement(ke.a,null,e.actionList.map(function(e){return i.a.createElement("div",{key:"".concat(e.id,"-action")},i.a.createElement(U.a,null,i.a.createElement(V.a,{style:{marginBottom:0},className:"data-table-detail content",component:V.b.small},"".concat(Object(X.e)(e.created_at))),i.a.createElement(V.a,{style:{marginBottom:0},className:"data-table-detail content"},Se[e.operation]," ","".concat(Te[e.operation],"  ").concat(e.processed_by)),e.comments&&i.a.createElement(V.a,{style:{marginBottom:0},className:"data-table-detail content",component:V.b.h6},"".concat(e.comments))," "),i.a.createElement("br",null))}))},Fe=a(387),_e=a(19),Le=a(386),Ne=a(199),Ae=a(152),De=a(154),Pe=a(197),We=a(153),Ie=a(151),Me=a(198),ze=a(209),Be=function(e){function t(){var e,a;le()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=pe()(this,(e=fe()(t)).call.apply(e,[this].concat(r))),ve()(be()(a),"state",{isKebabOpen:!1}),ve()(be()(a),"onKebabToggle",function(e){a.setState({isKebabOpen:e})}),ve()(be()(a),"onKebabSelect",function(){a.setState({isKebabOpen:!a.state.isKebabOpen})}),ve()(be()(a),"buildStageActionKebab",function(e){return i.a.createElement(Fe.a,{position:_e.d.right,onSelect:a.onKebabSelect,toggle:i.a.createElement(Le.a,{onToggle:a.onKebabToggle}),isOpen:a.state.isKebabOpen,dropdownItems:[i.a.createElement(Ne.a,{"aria-label":"Add Comment",key:"add_comment_".concat(e.id)},i.a.createElement(G.Link,{to:"/requests/detail/".concat(e.request_id,"/add_comment"),className:"pf-c-dropdown__menu-item"},"Comment"))],isPlain:!0})}),ve()(be()(a),"fetchStageDetails",function(e){return i.a.createElement(Ce,{actionList:e.stageActions.data})}),a}return ge()(t,e),ue()(t,[{key:"render",value:function(){var e=this,t=this.props.item,a=Object(X.c)(t.state);return i.a.createElement(Ae.a,{key:"stage-".concat(t.id),"aria-labelledby":"check-stage-".concat(t.id),isExpanded:this.props.isExpanded("stage-".concat(t.id))},i.a.createElement(De.a,null,i.a.createElement(Pe.a,{onClick:function(){return e.props.toggleExpand("stage-".concat(t.id))},isExpanded:this.props.isExpanded("stage-".concat(t.id)),id:"stage-".concat(t.id),"aria-labelledby":"stage-".concat(t.id," stage-").concat(t.id),"aria-label":"Toggle details for"}),i.a.createElement(We.a,{dataListCells:[i.a.createElement(Ie.a,{key:t.id},i.a.createElement("span",{id:t.id},"".concat(this.props.idx+1,". ").concat(t.name)," ")),i.a.createElement(Ie.a,{key:"".concat(t.id,"-state")},i.a.createElement("span",{style:{textTransform:"capitalize"},id:"".concat(t.id,"-state")},"".concat(t.state)," ")),i.a.createElement(Ie.a,{key:"".concat(t.id,"-action")},i.a.createElement(H.a,null,i.a.createElement(Q.a,null,a&&this.props.isActive&&i.a.createElement("div",null,i.a.createElement(G.Link,{to:"/requests/detail/".concat(t.request_id,"/approve")},i.a.createElement(K.a,{variant:"link","aria-label":"Approve Request"},"Approve")),i.a.createElement(G.Link,{to:"/requests/detail/".concat(t.request_id,"/deny")},i.a.createElement(K.a,{variant:"link",className:"destructive-color","aria-label":"Deny Request"},"Deny")))))),i.a.createElement(Ie.a,{key:"request-".concat(t.id),className:"pf-c-data-list__action","aria-labelledby":"request-".concat(t.id," check-request-action").concat(t.id),id:"workflow-".concat(t.id),"aria-label":"Actions"},a&&this.props.isActive&&this.buildStageActionKebab(t))]})),i.a.createElement(Me.a,{"aria-label":"Stage Content Details",isHidden:!this.props.isExpanded("stage-".concat(t.id))},i.a.createElement(ke.a,{gutter:"md"},i.a.createElement(ze.a,null,i.a.createElement(U.a,{component:V.b.h6},this.fetchStageDetails(t))))))}}]),t}(o.Component);Be.propTypes={isLoading:s.a.bool,isActive:s.a.bool,item:s.a.object,idx:s.a.number,isExpanded:s.a.func.isRequired,toggleExpand:s.a.func.isRequired,noItems:s.a.string};var Ge=Be,Ke=a(58),Ue=function(e){function t(){var e,a;le()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=pe()(this,(e=fe()(t)).call.apply(e,[this].concat(r))),ve()(be()(a),"state",{expanded:[]}),ve()(be()(a),"toggleExpand",function(e){var t=a.state.expanded,n=t.indexOf(e),r=n>=0?[].concat(B()(t.slice(0,n)),B()(t.slice(n+1,t.length))):[].concat(B()(t),[e]);a.setState(function(){return{expanded:r}})}),ve()(be()(a),"isExpanded",function(e){return a.state.expanded.includes(e)}),a}return ge()(t,e),ue()(t,[{key:"render",value:function(){var e=this;return this.props.isLoading?i.a.createElement(ne.PageHeader,null,i.a.createElement(ne.PageHeaderTitle,{title:this.props.noItems})):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,this.props.isLoading&&i.a.createElement(Ke.b,null)),this.props.items&&this.props.items.length>0&&i.a.createElement(we.a,{"aria-label":"Expandable data list"},this.props.items.map(function(t,a){return i.a.createElement(Ge,{key:t.id,item:t,idx:a,isActive:a+1===e.props.active_stage,isExpanded:e.isExpanded,toggleExpand:e.toggleExpand})})))}}]),t}(o.Component);Ue.propTypes={isLoading:s.a.bool,items:s.a.array,noItems:s.a.string,active_stage:s.a.number};var Ve=Ue,He=function(e){var t=e.request;return i.a.createElement(o.Fragment,null,i.a.createElement(ie.a,{size:"sm",style:{paddingLeft:"32px"}}," Stage(s) transcript "),i.a.createElement(Ve,{items:t?t.stages:[],noItems:"No Stages",active_stage:t.active_stage}))};He.propTypes={request:s.a.shape({content:s.a.object}).isRequired};var Qe=He,Xe=a(116),Je=function(e){var t=e.match.url,a=e.isLoading,n=e.fetchRequest,c=e.requestId,l=e.selectedRequest;Object(o.useEffect)(function(){c&&n(c)},[c]);return i.a.createElement(o.Fragment,null,i.a.createElement(u.d,{exact:!0,path:"/requests/detail/:id/add_comment",render:function(e){return i.a.createElement(M,r()({},e,{actionType:"Add Comment",closeUrl:t}))}}),i.a.createElement(u.d,{exact:!0,path:"/requests/detail/:id/approve",render:function(e){return i.a.createElement(M,r()({},e,{actionType:"Approve",closeUrl:t}))}}),i.a.createElement(u.d,{exact:!0,path:"/requests/detail/:id/deny",render:function(e){return i.a.createElement(M,r()({},e,{actionType:"Deny",closeUrl:t}))}}),i.a.createElement(Xe.b,{breadcrumbs:[{title:"Request Queue",to:"/requests"},{title:c,isActive:!0}],paddingBottom:!0},i.a.createElement(Xe.a,{title:"Request ".concat(c)})),i.a.createElement(ne.Section,{className:"data-table-pane"},i.a.createElement(ae.a,{gutter:"md"},a||0===Object.keys(l).length?i.a.createElement(ne.Section,{style:{backgroundColor:"white",minHeight:"100%"}},i.a.createElement(Ke.c,null)):i.a.createElement(o.Fragment,null,i.a.createElement(te.a,{md:2,className:"detail-pane"},i.a.createElement(oe,{request:l})),i.a.createElement(te.a,{md:10,className:"detail-pane"},i.a.createElement(Qe,{request:l,url:t}))))))};Je.propTypes={match:s.a.shape({path:s.a.string.isRequired}).isRequired,selectedRequest:s.a.shape({id:s.a.string}).isRequired,history:s.a.shape({push:s.a.func.isRequired}).isRequired,isLoading:s.a.bool,requestId:s.a.string,fetchRequest:s.a.func.isRequired};var Ze=Object(u.k)(Object(c.connect)(function(e,t){var a=t.match.params.id;return{selectedRequest:e.requestReducer.selectedRequest,isLoading:e.requestReducer.isRequestDataLoading,requestId:a}},function(e){return Object(N.a)({fetchRequest:S},e)})(Je)),Ye=[{title:"RequestId",cellFormatters:[d.b]},"Requester","Opened","Updated","Stage Status","Decision"],$e=function(e){var t=e.fetchRequests,a=e.requests,n=e.pagination,c=e.history,l=function(e){t().then(function(t){var a=t.value.data;return e($(a))})},s=function(){return i.a.createElement(o.Fragment,null,i.a.createElement(u.d,{exact:!0,path:"/requests/add_comment/:id",render:function(e){return i.a.createElement(M,r()({},e,{actionType:"Add Comment",postMethod:t}))}}),i.a.createElement(u.d,{exact:!0,path:"/requests/approve/:id",render:function(e){return i.a.createElement(M,r()({},e,{actionType:"Approve",postMethod:t}))}}),i.a.createElement(u.d,{exact:!0,path:"/requests/deny/:id",render:function(e){return i.a.createElement(M,r()({},e,{actionType:"Deny",postMethod:t}))}}))},d=function(e){return!Object(X.c)(e.state)},p=function(e,t){return 1===t.rowIndex||d(e)?null:[{title:"Comment",onClick:function(){return c.push("/requests/add_comment/".concat(e.id))}}]};return i.a.createElement(u.g,null,i.a.createElement(u.d,{path:"/requests/detail/:id",render:function(e){return i.a.createElement(Ze,e)}}),i.a.createElement(u.d,{path:"/requests",render:function(){return i.a.createElement(o.Fragment,null,i.a.createElement(ee.a,{data:a,createInitialRows:$,columns:Ye,fetchData:l,request:t,routes:s,actionResolver:p,areActionsDisabled:d,titlePlural:"requests",titleSingular:"request",pagination:n}))}}))};$e.propTypes={history:s.a.shape({goBack:s.a.func.isRequired,push:s.a.func.isRequired}).isRequired,filteredItems:s.a.array,requests:s.a.array,platforms:s.a.array,isLoading:s.a.bool,searchFilter:s.a.string,fetchRequests:s.a.func.isRequired,pagination:s.a.shape({limit:s.a.number.isRequired,offset:s.a.number.isRequired,count:s.a.number.isRequired})},$e.defaultProps={requests:[],pagination:{}};t.default=Object(c.connect)(function(e){var t=e.requestReducer,a=t.requests,n=t.isRequestDataLoading,r=t.filterValue;return{requests:a.data,pagination:a.meta,isLoading:n,searchFilter:r}},function(e){return{fetchRequests:function(t){return e(function(){var e,t,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:p.f,payload:(e=n,t=e.limit,a=e.offset,v.listRequests(void 0,t,a))}}(t))}}})($e)},630:function(e,t,a){"use strict";a.r(t);var n,r,o,i=a(2),c=a.n(i),l=a(18),s=a.n(l),u=a(24),d=a(35),p=a(406),m=a(124),f=a.n(m),h=a(67),b=a(394),E=a.n(b),g=a(395),y=a(20),v=a.n(y),w=a(12),k=a.n(w),j=a(21),q=function(e){return k()({},e,{isRequestDataLoading:!0})},R=(n={},v()(n,"".concat(j.f,"_PENDING"),q),v()(n,"".concat(j.f,"_FULFILLED"),function(e,t){var a=t.payload;return k()({},e,{requests:a,isRequestDataLoading:!1})}),v()(n,"".concat(j.e,"_PENDING"),q),v()(n,"".concat(j.e,"_FULFILLED"),function(e,t){var a=t.payload;return k()({},e,{selectedRequest:a,isRequestDataLoading:!1})}),n),x=function(e){return k()({},e,{isLoading:!0})},O=(r={},v()(r,"".concat(j.i,"_PENDING"),x),v()(r,"".concat(j.i,"_FULFILLED"),function(e,t){var a=t.payload;return k()({},e,{workflows:a,isLoading:!1})}),v()(r,"".concat(j.h,"_PENDING"),x),v()(r,"".concat(j.h,"_FULFILLED"),function(e,t){var a=t.payload;return k()({},e,{selectedWorkflow:a,isLoading:!1})}),r),T=(o={},v()(o,"".concat(j.d,"_PENDING"),function(e){return k()({},e,{isLoading:!0})}),v()(o,"".concat(j.d,"_FULFILLED"),function(e,t){var a=t.payload;return k()({},e,{groups:a,isLoading:!1})}),o),S=new f.a({},[g.a,Object(p.a)(),Object(h.notificationsMiddleware)({errorTitleKey:["message"],errorDescriptionKey:["errors","stack"]}),E.a]);S.register({requestReducer:Object(m.applyReducerHash)(R,{requests:[],selectedRequest:{},filterValue:"",isRequestDataLoading:!1}),workflowReducer:Object(m.applyReducerHash)(O,{workflows:{data:[],meta:{count:0,limit:10,offset:0}},workflow:{},filterValue:"",isLoading:!1}),groupReducer:Object(m.applyReducerHash)(T,{groups:[],isLoading:!1}),notifications:h.notifications});var C=S.getStore(),F=a(107),_=a.n(F),L=a(108),N=a.n(L),A=a(109),D=a.n(A),P=a(110),W=a.n(P),I=a(52),M=a.n(I),z=a(111),B=a.n(z),G=a(1),K=a.n(G),U=a(88),V=a(48),H=a.n(V),Q=a(188),X=a.n(Q),J=a(58),Z=Object(i.lazy)(function(){return Promise.resolve().then(function(){return X()(a(629))})}),Y=Object(i.lazy)(function(){return Promise.resolve().then(function(){return X()(a(628))})}),$="/requests",ee="/workflows",te=function(e){var t=e.rootClass,a=H()(e,["rootClass"]),n=document.getElementById("root");return n.removeAttribute("class"),n.classList.add("page__".concat(t),"pf-l-page__main","pf-c-page__main"),n.setAttribute("role","main"),c.a.createElement(U.d,a)};te.propTypes={rootClass:K.a.string};var ae=function(){return c.a.createElement(i.Suspense,{fallback:c.a.createElement(J.c,null)},c.a.createElement(U.g,null,c.a.createElement(te,{path:$,component:Z,rootClass:"requests"}),c.a.createElement(te,{path:ee,component:Y,rootClass:"workflows"}),c.a.createElement(U.d,{render:function(){return c.a.createElement(U.c,{to:$})}})))},ne=(a(170),a(63)),re=a(158),oe=(a(502),function(e){function t(){var e,a;_()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=D()(this,(e=W()(t)).call.apply(e,[this].concat(r))),v()(M()(a),"state",{chromeNavAvailable:!0,auth:!1}),a}return B()(t,e),N()(t,[{key:"componentDidMount",value:function(){var e=this;insights.chrome.init(),insights.chrome.auth.getUser().then(function(){return e.setState({auth:!0})}),insights.chrome.identifyApp("approval")}},{key:"render",value:function(){return this.state.auth?c.a.createElement(re.b,{locale:"en"},c.a.createElement(c.a.Fragment,null,c.a.createElement(h.NotificationsPortal,null),c.a.createElement(ne.Main,{style:{marginLeft:0,padding:0}},c.a.createElement(ae,null)))):c.a.createElement(J.a,null)}}]),t}(i.Component));oe.propTypes={history:K.a.object};var ie=Object(U.k)(Object(d.connect)()(oe)),ce=window.location.pathname.split("/");ce.shift();var le="/";"beta"===ce[0]&&(le="/".concat(ce.shift(),"/")),s.a.render(c.a.createElement(d.Provider,{store:C},c.a.createElement(u.BrowserRouter,{basename:"".concat(le).concat(ce[0],"/").concat(ce[1],"/").concat(ce[2])},c.a.createElement(ie,null))),document.getElementById("root"))},79:function(e,t,a){"use strict";var n=a(400),r=a.n(n),o="".concat("/api","/approval/v1.0"),i="".concat("/api","/rbac/v1"),c=a(164),l=a(118);a.d(t,"c",function(){return b}),a.d(t,"e",function(){return E}),a.d(t,"d",function(){return g}),a.d(t,"f",function(){return y}),a.d(t,"a",function(){return v}),a.d(t,"b",function(){return w});var s=r.a.create();s.interceptors.response.use(function(e){return e.data||e});var u=new l.WorkflowApi(void 0,o,s),d=new l.ActionApi(void 0,o,s),p=new l.RequestApi(void 0,o,s),m=new l.TemplateApi(void 0,o,s),f=new l.StageApi(void 0,o,s),h=(new c.AccessApi(void 0,i,s),new c.PrincipalApi(void 0,i,s),new c.GroupApi(void 0,i,s));function b(){return p}function E(){return m}function g(){return f}function y(){return u}function v(){return d}function w(){return h}}});
//# sourceMappingURL=../sourcemaps/App.js.map