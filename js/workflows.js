(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{2282:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarGroup=void 0;var n,a=(n=r(1))&&n.__esModule?n:{default:n},o=function(e){if(e&&e.__esModule)return e;var t=l();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(r(0)),i=r(2);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r(529);var u=function(e){var t=e.children,r=void 0===t?null:t,n=e.className,a=void 0===n?null:n,l=s(e,["children","className"]);return o.createElement("div",c({},l,{className:(0,i.css)("pf-l-toolbar__group",a)}),r)};t.ToolbarGroup=u,u.propTypes={children:a.default.node,className:a.default.string}},2283:function(e,t,r){(e.exports=r(4)(!1)).push([e.i,".pf-l-toolbar {\n  --pf-l-toolbar__section--MarginTop: var(--pf-global--spacer--md);\n  --pf-l-toolbar__group--MarginRight: var(--pf-global--spacer--xl);\n  --pf-l-toolbar__group--MarginLeft: var(--pf-global--spacer--xl);\n  --pf-l-toolbar__item--MarginRight: var(--pf-global--spacer--md);\n  --pf-l-toolbar__item--MarginLeft: var(--pf-global--spacer--md); }\n\n.pf-l-toolbar,\n.pf-l-toolbar__section,\n.pf-l-toolbar__group {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center; }\n\n.pf-l-toolbar__section {\n  flex-basis: 100%; }\n\n.pf-l-toolbar__section:not(:first-child) {\n  margin-top: var(--pf-l-toolbar__section--MarginTop); }\n\n.pf-l-toolbar__group:not(:last-child) {\n  margin-right: var(--pf-l-toolbar__group--MarginRight); }\n\n.pf-l-toolbar__item .pf-l-toolbar:not(:last-child) {\n  margin-right: var(--pf-l-toolbar__item--MarginRight); }\n",""])},2284:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarItem=void 0;var n,a=(n=r(1))&&n.__esModule?n:{default:n},o=function(e){if(e&&e.__esModule)return e;var t=l();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(r(0)),i=r(2);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r(529);var u=function(e){var t=e.children,r=void 0===t?null:t,n=e.className,a=void 0===n?null:n,l=s(e,["children","className"]);return o.createElement("div",c({},l,{className:(0,i.css)("pf-l-toolbar__item",a)}),r)};t.ToolbarItem=u,u.propTypes={children:a.default.node,className:a.default.string}},2291:function(e,t,r){"use strict";r.r(t);var n=r(93),a=r.n(n),o=r(39),i=r.n(o),l=r(3),c=r.n(l),s=r(0),u=r.n(s),p=r(49),f=r(29),d=r(32),m=r(2282),b=r(2284),v=r(92),g=r(408),y=r.n(g),h=r(438),w=r(515),O=r(7),E=r(45),j=r.n(E),k=r(70),P=r.n(k),S=r(106),T=r(95),_=r(43),x=Object(S.f)(),M=Object(S.e)();function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.a,r=arguments.length>2?arguments[2]:void 0,n="&limit=".concat(Math.max(t.limit,10),"&offset=").concat(t.offset),a="&filter[name][contains_i]=".concat(e),o=r?"&sort_by=".concat(r.property,":").concat(r.direction):"";return Object(S.b)().get("".concat(_.a,"/workflows/?").concat(a).concat(n).concat(o))}function R(e){return D.apply(this,arguments)}function D(){return(D=P()(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.showWorkflow(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return q.apply(this,arguments)}function q(){return(q=P()(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.destroyWorkflow(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return V.apply(this,arguments)}function V(){return(V=P()(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=P()(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.destroyWorkflow(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I,W=function(e){return function(t,r){var n=r().workflowReducer,a=n.sortBy,o=n.workflows,i=n.filterValue,l=e;if(!e&&o){var c=o.meta;l={limit:c.limit,offset:c.offset}}return t({type:O.l,payload:C(i,l,a)})}},G=function(e){return{type:O.k,payload:R(e)}},A=function(e){return{type:O.a,payload:(t=e,M.listTemplates().then((function(e){var t=e.data;if(!t[0])throw new Error("No template exists");return t[0].id})).then((function(e){return x.addWorkflowToTemplate(e,t,{})}))),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding approval process",description:"The approval process was added successfully."}}}};var t},B=function(e){return{type:O.t,payload:(t=e,x.updateWorkflow(t.id,t)),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating approval process",description:"The approval process was updated successfully."}}}};var t},L=function(e){return{type:O.m,payload:N(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing approval process",description:"The approval process was removed successfully."}}}}},K=function(e){return{type:O.n,payload:F(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing approval processes",description:"The selected approval processes were removed successfully."}}}}},U=function(e){return{type:O.q,payload:e}},z=r(107),X=r.n(z),J=r(2288),Q=r(98),Z=r(34),H=r(403),Y=r(120),$=r(168),ee=r(8),te=r(85),re=(I=function(e,t){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),ne=function(){return(ne=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ae=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},oe=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,a++)n[a]=o[i];return n},ie=r.n(te).a||te;function le(e,t){return Object($.a)(ne(ne({},ee.a),{locale:"en"}),Object(ee.b)(),e,t)}var ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return re(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props,r=t.values,n=ae(t,["values"]),a=e.values,o=ae(e,["values"]);return!ie(a,r)||!ie(n,o)},t.prototype.render=function(){var e=this;return s.createElement(Y.a.Consumer,null,(function(t){e.props.defaultMessage||Object(ee.f)(t);var r=t||{},n=r.formatMessage,a=void 0===n?le:n,o=r.textComponent,i=void 0===o?s.Fragment:o,l=e.props,c=l.id,u=l.description,p=l.defaultMessage,f=l.values,d=l.children,m=l.tagName,b=void 0===m?i:m,v=a({id:c,description:u,defaultMessage:p},f);return Array.isArray(v)||(v=[v]),"function"==typeof d?d.apply(void 0,v):b?s.createElement.apply(s,oe([b,null],v)):v}))},t.displayName="FormattedMessage",t.defaultProps={values:{}},t}(s.Component),se=r(391),ue=r(396),pe=r.n(ue),fe=r(405),de=r.n(fe),me=r(424),be=Object(me.a)((function(e,t){return function(e){return C(e)}(e).then((function(r){var n=r.data;if(t?n.find((function(r){return e===r.name&&t!==r.id})):n.find((function(t){return e===t.name})))throw"Name has already been taken"}))})),ve=function(e){return[{component:pe.a.TEXT_FIELD,name:"name",isRequired:!0,id:"workflow-name",label:u.a.createElement(ce,{id:"create-approval-process-name-label",defaultMessage:"Approval process name"}),validate:[function(t){return be(t,e)},{type:de.a.REQUIRED,message:u.a.createElement(ce,{id:"approval-procces-name-warning",defaultMessage:"Enter a name for the approval process"})}]},{component:pe.a.TEXTAREA,name:"description",id:"workflow-description",label:u.a.createElement(ce,{id:"create-approval-process-description-label",defaultMessage:"Description"})}]},ge=Object(me.a)((function(e){var t="&name=".concat(e);return Object(S.b)().get("".concat(_.b,'/groups/?role_names=",Approval Administrator,Approval Approver,"\n  ').concat(e&&e.length>0?t:"")).then((function(e){var t=e.data;return t&&t.length>0?t.map((function(e){var t=e.uuid;return{label:e.name,value:t}})):void 0}))})),ye=function(e){return{component:pe.a.SELECT,name:"wfGroups",label:u.a.createElement(ce,{id:"create-approval-process-set-groups",defaultMessage:"Set groups"}),loadOptions:ge,noValueUpdates:!0,isMulti:!0,isSearchable:!0,simpleValue:!1,menuIsPortal:!0,isClearable:!0,placeholder:e.formatMessage({id:"create-approval-process-set-groups-placeholder",defaultMessage:"Select..."})}},he=function(e){return{fields:[{name:"wizard",title:e.formatMessage({id:"create-approval-process-title",defaultMessage:"Create approval process"}),component:pe.a.WIZARD,inModal:!0,fields:[{name:"general-information",showTitle:!0,customTitle:u.a.createElement(se.Title,{size:"md"}," ",u.a.createElement(ce,{id:"enter-info",defaultMessage:"Enter your information"})," "),title:e.formatMessage({id:"create-approval-process-gen-info",defaultMessage:"General information"}),nextStep:"set-groups",fields:ve()},{name:"set-groups",nextStep:"review",title:e.formatMessage({id:"create-approval-process-set-groups",defaultMessage:"Set groups"}),fields:[ye(e)]},{name:"review",title:e.formatMessage({id:"create-approval-process-review",defaultMessage:"Review"}),fields:[{name:"summary",component:"summary"}]}]}]}};function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Oe=function(){var e=Object(p.useDispatch)(),t=Object(f.g)().push,r=Object(J.a)();return u.a.createElement(H.a,{showFormControls:!1,onSubmit:function(r){var n=r.wfGroups,a=void 0===n?[]:n,o=X()(r,["wfGroups"]);return t(Z.a.workflows.index),e(A(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o,{group_refs:a.length>0?a.map((function(e){return{name:e.label,uuid:e.value}})):[]}))).then((function(){return e(W())}))},onCancel:function(){e(Object(Q.addNotification)({variant:"warning",title:"Creating approval process",dismissable:!0,description:"Creating approval process was cancelled by the user."})),t(Z.a.workflows.index)},schema:he(r)})},Ee=r(1),je=r.n(Ee),ke=r(103),Pe=r(412),Se=r(420),Te=r.n(Se),_e=r(41),xe=r(399),Me=function(e){var t=Object(p.useSelector)((function(e){return{workflows:e.workflowReducer.workflows}}),p.shallowEqual).workflows;return t&&t.data&&t.data.find((function(t){return t.id===e}))};function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Re=function(e,t,r){return"info"===e?{fields:[{component:pe.a.SUB_FORM,title:u.a.createElement("span",{className:"pf-c-title pf-m-md"},u.a.createElement(ce,{id:"edit-info-title-subform",defaultMessage:"Make any changes to approval process {name}",values:{name:t}})),name:"info-sub",fields:ve(r)}]}:{fields:[{component:pe.a.SUB_FORM,title:u.a.createElement("span",{className:"pf-c-title pf-m-md"},u.a.createElement(ce,{id:"edit-sequence-title-subform",defaultMessage:"Set the sequence for the approval process {name}",values:{name:t}})),name:"info-sub",fields:[{component:pe.a.TEXT_FIELD,name:"sequence",label:u.a.createElement(ce,{id:"sequence-label",defaultMessage:"Enter sequence"}),isRequired:!0,validate:[{type:de.a.REQUIRED}]}]}]}},De=function(e,t){var r=t.type,n=t.initialValues,a=t.schema;switch(r){case"loaded":return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{initialValues:n,schema:a,isLoading:!1});default:return e}},Ne=function(e){var t=e.addNotification,r=e.fetchWorkflow,n=e.updateWorkflow,o=e.postMethod,l=e.editType,c=Object(s.useReducer)(De,{isLoading:!0}),p=i()(c,2),d=p[0],m=p[1],b=Object(f.g)().push,v=Object(xe.a)(["workflow"]),g=i()(v,1)[0].workflow,y=Me(g),h=Object(J.a)();Object(s.useEffect)((function(){y?m({type:"loaded",initialValues:y,schema:Re(l,y.name,h,y.id)}):r(g).then((function(e){return m({type:"loaded",initialValues:e.value,schema:Re(l,e.value.name,h,e.value.id)})}))}),[]);var w=function(){var e="sequence"===l?{title:"Edit approval process's sequence",description:"Edit approval process's sequence was cancelled by the user."}:{title:"Edit approval process's information",description:"Edit approval process's information was cancelled by the user."};t({variant:"warning",title:e.title,dismissable:!0,description:e.description}),b(Z.a.workflows.index)};return u.a.createElement(Pe.Modal,{title:"sequence"===l?"Edit sequence":"Edit information",width:"40%",isOpen:!0,onClose:w},d.isLoading&&u.a.createElement(_e.e,null),!d.isLoading&&u.a.createElement(H.a,{FormTemplate:function(e){return u.a.createElement(Te.a,a()({},e,{submitLabel:u.a.createElement(ce,{id:"save",defaultMessage:"Save"}),buttonClassName:"pf-u-mt-0",disableSubmit:["submitting"]}))},onCancel:w,onSubmit:function(e){var t=e.name,r=e.description,a=e.sequence;return n({id:g,name:t,description:r,sequence:a}).then((function(){return o()})).then((function(){return b(Z.a.workflows.index)}))},initialValues:d.initialValues,schema:d.schema}))};Ne.defaultProps={editType:"info"},Ne.propTypes={addNotification:je.a.func.isRequired,fetchWorkflow:je.a.func.isRequired,postMethod:je.a.func.isRequired,updateWorkflow:je.a.func.isRequired,editType:je.a.string};var qe=Object(p.connect)(null,(function(e){return Object(ke.a)({addNotification:Q.addNotification,addWorkflow:A,updateWorkflow:B,fetchWorkflow:G},e)}))(Ne);function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ie=function(e,t){return{fields:[Ve({},ye(t),{label:u.a.createElement(ce,{id:"edit-groups-select-label",defaultMessage:"Add or remove {name}'s groups",values:{name:e}})})]}},We=function(e){var t=e.group_refs.map((function(e){return{label:e.name,value:e.uuid}}));return Ve({},e,{wfGroups:t})},Ge=function(e,t){var r=t.type,n=t.initialValues,a=t.intl;switch(r){case"loaded":return Ve({},e,{schema:Ie(n.name,a),initialValues:We(n),isLoading:!1});default:return e}},Ae=function(e){var t=e.addNotification,r=e.fetchWorkflow,n=e.updateWorkflow,o=e.postMethod,l=Object(s.useReducer)(Ge,{isLoading:!0}),c=i()(l,2),p=c[0],d=c[1],m=Object(J.a)(),b=Object(f.g)().push,v=Object(xe.a)(["workflow"]),g=i()(v,1)[0].workflow,y=Me(g);Object(s.useEffect)((function(){y?d({type:"loaded",initialValues:We(y),intl:m}):r(g).then((function(e){return d({type:"loaded",initialValues:We(e.value),intl:m})}))}),[]);var h=function(){t({variant:"warning",title:"Edit approval process's groups",dismissable:!0,description:"Edit approval process's groups was cancelled by the user."}),b("/workflows")};return u.a.createElement(Pe.Modal,{title:"Edit approval process's groups",width:"40%",isOpen:!0,onClose:h},p.isLoading?u.a.createElement(_e.e,null):u.a.createElement(H.a,{FormTemplate:function(e){return u.a.createElement(Te.a,a()({},e,{submitLabel:u.a.createElement(ce,{id:"save",defaultMessage:"Save"}),buttonClassName:"pf-u-mt-0",disableSubmit:["submitting"]}))},onCancel:h,onSubmit:function(e){var t=e.wfGroups,r={group_refs:t?t.map((function(e){return{name:e.label,uuid:e.value}})):[]};return n(Ve({id:g},r)).then((function(){return o()})).then((function(){return b("/workflows")}))},initialValues:p.initialValues,schema:p.schema}))};Ae.propTypes={addNotification:je.a.func.isRequired,fetchWorkflow:je.a.func.isRequired,postMethod:je.a.func.isRequired,updateWorkflow:je.a.func.isRequired};var Be=Object(p.connect)(null,(function(e){return Object(ke.a)({addNotification:Q.addNotification,addWorkflow:A,updateWorkflow:B,fetchWorkflow:G},e)}))(Ae),Le=r(482),Ke=r(481),Ue=r(31),ze=r(48),Xe=r(527),Je=r(512),Qe=r.n(Je),Ze=function(e){var t=e.ids,r=e.removeWorkflow,n=e.removeWorkflows,a=e.fetchData,o=e.setSelectedWorkflows,l=Object(s.useState)(!1),c=i()(l,2),p=c[0],d=c[1],m=Object(f.g)().push,b=Object(xe.a)(["workflow"]),g=i()(b,1)[0].workflow;if(!(g||t&&0!==t.length))return null;var y=function(){return m(Z.a.workflows.index)};return u.a.createElement(Pe.Modal,{isOpen:!0,isSmall:!0,width:"40%",title:"",onClose:y,actions:[u.a.createElement(v.Button,{id:"cancel-remove-workflow",key:"cancel",variant:"secondary",type:"button",onClick:y},"Cancel"),u.a.createElement(v.Button,{id:"submit-remove-workflow",key:"submit",variant:"primary",type:"button",isDisabled:p,onClick:function(){return d(!0),(g?r(g):n(t)).catch((function(){return d(!1)})).then((function(){return m(Z.a.workflows.index)})).then((function(){return o([])})).then((function(){return a()}))}},p?u.a.createElement(u.a.Fragment,null,u.a.createElement(Xe.Spinner,{size:"sm"})," Removing "):"Remove")]},u.a.createElement(Le.Split,{gutter:"md"},u.a.createElement(Ke.SplitItem,null,u.a.createElement(Qe.a,{size:"xl",fill:"#f0ab00"})),u.a.createElement(Ke.SplitItem,null,u.a.createElement(ze.TextContent,null,u.a.createElement(Ue.Text,{component:Ue.TextVariants.p},u.a.createElement(ce,{id:"remove-workflow-modal",defaultMessage:"Removing {count, number} {count, plural,\n              one {approval process}\n              other {approval processes}\n            }",values:{count:g?1:t.length}}))))))};Ze.propTypes={removeWorkflows:je.a.func.isRequired,removeWorkflow:je.a.func.isRequired,fetchData:je.a.func.isRequired,setSelectedWorkflows:je.a.func.isRequired,ids:je.a.array};var He=Object(p.connect)(null,(function(e){return Object(ke.a)({removeWorkflow:L,removeWorkflows:K},e)}))(Ze),Ye=r(25),$e=r.n(Ye),et=function(e){var t=e.description,r=e.groupRefs;return u.a.createElement(s.Fragment,null,u.a.createElement(ze.TextContent,null,u.a.createElement(Ue.Text,{className:"data-table-detail heading",component:Ue.TextVariants.small},"Description"),u.a.createElement(Ue.Text,{className:"data-table-detail content",component:Ue.TextVariants.h5},t)),u.a.createElement(ze.TextContent,null,u.a.createElement(s.Fragment,null,u.a.createElement(Ue.Text,{className:"data-table-detail heading",component:Ue.TextVariants.small},"Groups"),u.a.createElement(Ue.Text,{className:"data-table-detail content",component:Ue.TextVariants.h5},function(e){return e.map((function(e){return e.name}))}(r).join(",")))))};et.propTypes={description:je.a.string,groupRefs:je.a.array.isRequired,id:je.a.string.isRequired};var tt=et,rt=function(e){return e.reduce((function(e,t,r){var n=t.id,a=t.name,o=t.description,i=t.sequence,l=t.group_refs;return[].concat($e()(e),[{id:n,isOpen:!1,selected:!1,cells:[a,o,i]},{parent:2*r,cells:[{title:u.a.createElement(tt,{description:o,groupRefs:l,id:n})}]}])}),[])},nt=r(480),at=r(64),ot=r(437),it=r(18),lt=r(485);function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ut=[{title:"Name",cellFormatters:[h.b],transforms:[w.a]},{title:"Description",transforms:[w.a]},{title:"Sequence",transforms:[w.a]}],pt=Object(me.a)((function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T.a;return r(!0),t(U(e)),t(W(n)).then((function(){return r(!1)}))}),1e3),ft=function(e){return e?[{category:"Name",key:"name",chips:[{name:e,value:e}]}]:[]},dt=function(e,t){switch(t.type){case"setFetching":return st({},e,{isFetching:t.payload});case"setFilterValue":return st({},e,{filterValue:t.payload});case"setFilteringFlag":return st({},e,{isFiltering:t.payload});default:return e}};t.default=function(){var e=Object(s.useState)([]),t=i()(e,2),r=t[0],n=t[1],o=Object(p.useSelector)((function(e){var t=e.workflowReducer;return{workflows:t.workflows,sortBy:t.sortBy,filterValueRedux:t.filterValue}}),p.shallowEqual),l=o.workflows,c=l.data,g=l.meta,h=o.sortBy,w=o.filterValueRedux,E=Object(s.useReducer)(dt,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{filterValue:e,isOpen:!1,isFetching:!0,isFiltering:!1}}(w)),j=i()(E,2),k=j[0],P=k.filterValue,S=k.isFetching,_=k.isFiltering,x=j[1],M=Object(p.useDispatch)(),C=Object(f.g)(),R=function(e){return x({type:"setFetching",payload:!0}),M(W(e)).then((function(){return x({type:"setFetching",payload:!1})})).catch((function(){return x({type:"setFetching",payload:!1})}))};Object(s.useEffect)((function(){R(T.a),Object(it.g)()}),[]);var D=function(e){x({type:"setFilterValue",payload:e}),pt(e,M,(function(e){return x({type:"setFilteringFlag",payload:e})}),st({},g,{offset:0}))},N=r.length>0;return u.a.createElement(s.Fragment,null,u.a.createElement(at.a,null,u.a.createElement(at.b,{title:"Approval"}),u.a.createElement(ot.a,null)),u.a.createElement(nt.a,{sortBy:h,onSort:function(e,t,r,n){var a=n.property;return M(function(e){return{type:O.s,payload:e}}({index:t,direction:r,property:a})),R()},data:c,isSelectable:!0,createRows:rt,columns:ut,fetchData:R,routes:function(){return u.a.createElement(s.Fragment,null,u.a.createElement(f.b,{exact:!0,path:Z.a.workflows.add,render:function(e){return u.a.createElement(Oe,a()({},e,{postMethod:R}))}}),u.a.createElement(f.b,{exact:!0,path:Z.a.workflows.editInfo,render:function(e){return u.a.createElement(qe,a()({editType:"info"},e,{postMethod:R}))}}),u.a.createElement(f.b,{exact:!0,path:Z.a.workflows.editGroups,render:function(e){return u.a.createElement(Be,a()({editType:"groups"},e,{postMethod:R}))}}),u.a.createElement(f.b,{exact:!0,path:Z.a.workflows.editSequence,render:function(e){return u.a.createElement(qe,a()({editType:"sequence"},e,{postMethod:R}))}}),u.a.createElement(f.b,{exact:!0,path:Z.a.workflows.remove,render:function(e){return u.a.createElement(He,a()({},e,{ids:r,fetchData:R,setSelectedWorkflows:n}))}}))},actionResolver:function(e,t){return t.rowIndex%2==1?null:[{title:"Edit info",component:"button",onClick:function(e,t,r){return C.push({pathname:Z.a.workflows.editInfo,search:"?workflow=".concat(r.id)})}},{title:"Edit groups",component:"button",onClick:function(e,t,r){return C.push({pathname:Z.a.workflows.editGroups,search:"?workflow=".concat(r.id)})}},{title:"Edit sequence",component:"button",onClick:function(e,t,r){return C.push({pathname:Z.a.workflows.editSequence,search:"?workflow=".concat(r.id)})}},{title:"Delete",component:"button",onClick:function(e,t,r){return C.push({pathname:Z.a.workflows.remove,search:"?workflow=".concat(r.id)})}}]},titlePlural:"approval processes",titleSingular:"approval process",pagination:g,setCheckedItems:function(e){return n(e.map((function(e){return e.id})))},toolbarButtons:function(){return u.a.createElement(m.ToolbarGroup,{className:"pf-u-pl-lg top-toolbar"},u.a.createElement(b.ToolbarItem,null,u.a.createElement(d.b,{id:"add-workflow-link",to:{pathname:Z.a.workflows.add}},u.a.createElement(v.Button,{variant:"primary","aria-label":"Create approval process"},"Create approval process"))),u.a.createElement(b.ToolbarItem,null,u.a.createElement(d.b,{id:"remove-multiple-workflows",className:N?"":"disabled-link",to:{pathname:Z.a.workflows.remove}},u.a.createElement(v.Button,{variant:"link",isDisabled:!N,style:{color:N?"var(--pf-global--danger-color--100)":"var(--pf-global--disabled-color--100)"},"aria-label":"Delete approval process"},"Delete"))))},filterValue:P,onFilterChange:D,isLoading:S||_,onCollapse:function(e,t,r){M(function(e){return{type:O.e,payload:e}}(e)),t((function(t){return r(t,e)}))},renderEmptyState:function(){return u.a.createElement(lt.a,{title:""===P?"No approval processes":"No results found",Icon:y.a,PrimaryAction:function(){return""!==P?u.a.createElement(v.Button,{onClick:function(){return D("")},variant:"link"},"Clear all filters"):null},description:""===P?"No approval processes.":"No results match the filter criteria. Remove all filters or clear all filters to show results."})},activeFiltersConfig:{filters:ft(P),onDelete:function(){return D("")}}}))}},399:function(e,t,r){"use strict";var n=r(3),a=r.n(n),o=r(29);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(o.h)(),r=t.search,n=new URLSearchParams(r);return[e.reduce((function(e,t){return l({},e,a()({},t,n.get(t)))}),{}),r,n]}},403:function(e,t,r){"use strict";var n=r(93),a=r.n(n),o=r(107),i=r.n(o),l=r(3),c=r.n(l),s=r(0),u=r.n(s),p=r(1),f=r.n(p),d=r(445),m=r.n(d),b=r(449),v=r.n(b),g=r(420),y=r.n(g),h=r(94),w=r(59),O=r(100),E=r(102),j=r(31),k=r(48),P=r(391),S=r(395),T=r.n(S),_=function(){var e=(0,T()().getState)().values,t=e.name,r=e.description,n=e.wfGroups;return u.a.createElement(s.Fragment,null,u.a.createElement(O.Stack,{gutter:"md"},u.a.createElement(E.StackItem,null,u.a.createElement(P.Title,{size:"xl"}," Review ")),u.a.createElement(E.StackItem,null,u.a.createElement(O.Stack,{gutter:"md"},u.a.createElement(E.StackItem,null,u.a.createElement(k.TextContent,null,u.a.createElement(j.Text,{className:"data-table-detail heading",component:j.TextVariants.h5},"Review and confirm your inputs. If there is anything incorrect, click Back and revise."))),u.a.createElement(E.StackItem,null,u.a.createElement(h.Grid,{gutter:"md"},u.a.createElement(w.GridItem,{span:2},u.a.createElement(j.Text,{className:"data-table-detail heading",component:j.TextVariants.h5},"Name")),u.a.createElement(w.GridItem,{span:10},u.a.createElement(j.Text,{className:"data-table-detail content",component:j.TextVariants.p},t))),u.a.createElement(h.Grid,{gutter:"md"},u.a.createElement(w.GridItem,{span:2},u.a.createElement(j.Text,{className:"data-table-detail heading",component:j.TextVariants.h5},"Description")),u.a.createElement(w.GridItem,{span:10},u.a.createElement(j.Text,{className:"data-table-detail content",component:j.TextVariants.p},r))),n&&n.length>0&&n.map((function(e,t){return u.a.createElement(s.Fragment,{key:e.value},u.a.createElement(h.Grid,{gutter:"md"},u.a.createElement(w.GridItem,{span:2},u.a.createElement(j.Text,{className:"data-table-detail heading",component:j.TextVariants.h5},0===t?"Groups":"")),u.a.createElement(w.GridItem,{span:10},u.a.createElement(j.Text,{className:"data-table-detail content",component:j.TextVariants.p},e.label))))})))))))};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var M={default:{},modal:{buttonOrder:["cancel","reset","save"],buttonClassName:"modal-form-right-align"}},C=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},v.a,{summary:_}),R=function(e){var t=e.formContainer,r=i()(e,["formContainer"]);return u.a.createElement("div",{className:M[t].buttonClassName},u.a.createElement(m.a,a()({componentMapper:C,FormTemplate:function(e){return u.a.createElement(y.a,a()({},e,M[t]))}},r)))};R.propTypes={formContainer:f.a.oneOf(["default","modal"])},R.defaultProps={formContainer:"default"};t.a=R},424:function(e,t,r){"use strict";var n=r(533);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(n.a)(e,t,r)}},437:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(0),a=r.n(n),o=r(1),i=r.n(o),l=r(29),c=r(430),s=r(429),u=[{eventKey:0,title:"Request queue",name:"/requests"},{eventKey:1,title:"All requests",name:"/allrequests"},{eventKey:2,title:"Approval processes",name:"/workflows"}],p=function(e){var t=e.tabItems,r=void 0===t?u:t,n=Object(l.g)(),o=Object(l.h)(),i=o.pathname,p=o.search,f=r.find((function(e){var t=e.name;return i.includes(t)}));return a.a.createElement(c.Tabs,{className:"pf-u-mt-sm",activeKey:f?f.eventKey:0,onSelect:function(e,t){return n.push({pathname:r[t].name,search:p})}},r.map((function(e){return a.a.createElement(s.Tab,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name})})))};p.propTypes={tabItems:i.a.array}},480:function(e,t,r){"use strict";r.d(t,"a",(function(){return P}));var n=r(93),a=r.n(n),o=r(25),i=r.n(o),l=r(3),c=r.n(l),s=r(39),u=r.n(s),p=r(0),f=r.n(p),d=r(1),m=r.n(d),b=r(410),v=r(534),g=r(531),y=r(95),h=r(41),w=r(2288),O=r(112),E=r(522);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=function(e){var t=e.isSelectable,r=e.createRows,n=e.columns,o=e.fetchData,l=e.toolbarButtons,c=e.data,s=e.actionResolver,d=e.routes,m=e.titlePlural,j=e.titleSingular,P=e.pagination,S=e.setCheckedItems,T=e.filterValue,_=e.onFilterChange,x=e.isLoading,M=e.onCollapse,C=e.renderEmptyState,R=e.sortBy,D=e.onSort,N=e.activeFiltersConfig,q=e.filterConfig,F=Object(w.a)(),V=Object(p.useState)([]),I=u()(V,2),W=I[0],G=I[1];Object(p.useEffect)((function(){G(r(c))}),[c]);var A=function(e,t){return e.map((function(e){return e.id===t?k({},e,{isOpen:!e.isOpen}):k({},e)}))},B={itemCount:P.count,page:Object(y.b)(P.limit,P.offset),perPage:P.limit,onSetPage:function(e,t){return o(k({},P,{offset:Object(y.c)(t,P.limit)}))},onPerPageSelect:function(e,t){return o(k({},P,{limit:t}))},isDisabled:x};return f.a.createElement(O.Section,{type:"content","page-type":"tab-".concat(m),id:"tab-".concat(m)},d(),f.a.createElement(E.PrimaryToolbar,a()({className:"pf-u-p-lg ins__approval__primary_toolbar",pagination:B},l&&{actionsConfig:{actions:[l()]}},{filterConfig:{items:[{label:F.formatMessage({id:"name",defaultMessage:"Name"}),filterValues:{id:"filter-by-name",placeholder:F.formatMessage({id:"filter-by-name",defaultMessage:"Filter by {title}"},{title:j}),"aria-label":F.formatMessage({id:"filter-by-name",defaultMessage:"Filter by {title}"},{title:j}),onChange:function(e,t){return _(t)},value:T}}].concat(i()(q))},activeFiltersConfig:N})),x&&f.a.createElement(h.b,null),x||0!==W.length?f.a.createElement(p.Fragment,null,!x&&f.a.createElement(b.b,{"aria-label":"".concat(m," table"),onCollapse:function(e,t,r,n){var a=n.id;return M?M(a,G,A):G(A(W,a))},rows:W,cells:n,onSelect:t&&function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n.id,o=W.map((function(e){return e.id===a||-1===r?k({},e,{selected:-1===r?t:!e.selected}):k({},e)})),i=o.filter((function(e){return e.id&&e.selected}));return S(i),G(o)},actionResolver:s,className:"table-fix",sortBy:R,onSort:D},f.a.createElement(v.a,null),f.a.createElement(g.a,null)),P.count>0&&f.a.createElement(E.PrimaryToolbar,{className:"pf-u-pl-lg pf-u-pr-lg ins__approval__primary_toolbar",pagination:k({},B,{dropDirection:"up",variant:"bottom",isCompact:!1})})):C())};P.propTypes={isSelectable:m.a.bool,createRows:m.a.func.isRequired,columns:m.a.array.isRequired,toolbarButtons:m.a.func,fetchData:m.a.func.isRequired,data:m.a.array,pagination:m.a.shape({limit:m.a.number,offset:m.a.number,count:m.a.number}),titlePlural:m.a.string,titleSingular:m.a.string,routes:m.a.func,actionResolver:m.a.func,setCheckedItems:m.a.func,filterValue:m.a.string,onFilterChange:m.a.func,isLoading:m.a.bool,onCollapse:m.a.func,renderEmptyState:m.a.func,sortBy:m.a.object,onSort:m.a.func,activeFiltersConfig:m.a.object,filterConfig:m.a.array},P.defaultProps={requests:[],isLoading:!1,pagination:y.a,isSelectable:null,routes:function(){return null},renderEmptyState:function(){return null},filterConfig:[]}},485:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(1),i=r.n(o),l=r(421),c=r(422),s=r(423),u=r(468),p=r(31),f=r(48),d=r(486),m=function(e){var t=e.title,r=e.Icon,n=e.description,o=e.PrimaryAction,i=e.renderDescription;return a.a.createElement(d.EmptyTable,{centered:!0,"aria-label":"No records"},a.a.createElement(l.EmptyState,{className:"pf-u-ml-auto pf-u-mr-auto"},a.a.createElement(c.EmptyStateIcon,{icon:r}),a.a.createElement(f.TextContent,null,a.a.createElement(p.Text,{component:p.TextVariants.h1},t)),a.a.createElement(s.EmptyStateBody,null,n,i&&i()),a.a.createElement(u.EmptyStateSecondaryActions,null,o&&a.a.createElement(o,null))))};m.propTypes={title:i.a.string.isRequired,Icon:i.a.any.isRequired,description:i.a.string.isRequired,PrimaryAction:i.a.any,renderDescription:i.a.func},t.a=m},529:function(e,t,r){var n=r(5),a=r(2283);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}}}]);
//# sourceMappingURL=../sourcemaps/workflows.js.map