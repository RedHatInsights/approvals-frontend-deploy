"use strict";(self.webpackChunkapproval=self.webpackChunkapproval||[]).push([[189],{36104:(e,t,a)=>{t.l=void 0;const n=a(21988),r=n.__importStar(a(30624)),s=a(38296),c=n.__importDefault(a(62802));t.l=e=>{var{children:t=null,className:a="",component:l="div"}=e,o=n.__rest(e,["children","className","component"]);const i=l;return r.createElement(i,Object.assign({className:s.css(c.default.cardTitle,a)},o),t)},t.l.displayName="CardTitle"},21543:(e,t,a)=>{t.m=void 0;const n=a(21988),r=n.__importStar(a(30624)),s=a(38296),c=n.__importDefault(a(19778));t.m=e=>{var{className:t="",children:a=null,id:l="",isHidden:o=!1,"aria-label":i,hasNoPadding:m=!1,rowid:u=""}=e,d=n.__rest(e,["className","children","id","isHidden","aria-label","hasNoPadding","rowid"]);return r.createElement("section",Object.assign({id:l,className:s.css(c.default.dataListExpandableContent,t),hidden:o,"aria-label":i},d),r.createElement("div",{className:s.css(c.default.dataListExpandableContentBody,m&&c.default.modifiers.noPadding)},a))},t.m.displayName="DataListContent"},76332:(e,t,a)=>{t.p=void 0;const n=a(21988),r=n.__importStar(a(30624)),s=a(38296),c=n.__importDefault(a(33019)),l=n.__importDefault(a(19778)),o=a(16396);t.p=e=>{var{className:t="",isExpanded:a=!1,"aria-controls":i="","aria-label":m="Details",rowid:u="",id:d}=e,p=n.__rest(e,["className","isExpanded","aria-controls","aria-label","rowid","id"]);return r.createElement("div",Object.assign({className:s.css(l.default.dataListItemControl,t)},p),r.createElement("div",{className:s.css(l.default.dataListToggle)},r.createElement(o.Button,{id:d,variant:o.ButtonVariant.plain,"aria-controls":""!==i&&i,"aria-label":m,"aria-labelledby":"Details"!==m?null:`${u} ${d}`,"aria-expanded":a},r.createElement("div",{className:s.css(l.default.dataListToggleIcon)},r.createElement(c.default,null)))))},t.p.displayName="DataListToggle"},6569:(e,t,a)=>{t.Ki={name:"AngleDoubleRightIcon",height:512,width:448,svgPath:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34zm192-34l-136-136c-9.4-9.4-24.6-9.4-33.9 0l-22.6 22.6c-9.4 9.4-9.4 24.6 0 33.9l96.4 96.4-96.4 96.4c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l136-136c9.4-9.2 9.4-24.4 0-33.8z",yOffset:0,xOffset:0},t.jN=a(35183).createIcon(t.Ki),t.ZP=t.jN},67002:(e,t,a)=>{t.Rp={name:"CommentIcon",height:512,width:512,svgPath:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z",yOffset:0,xOffset:0},t.qt=a(35183).createIcon(t.Rp),t.ZP=t.qt},96893:(e,t,a)=>{t.or={name:"EnvelopeIcon",height:512,width:512,svgPath:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z",yOffset:0,xOffset:0},t._X=a(35183).createIcon(t.or),t.ZP=t._X},41418:(e,t,a)=>{t.vn={name:"OnRunningIcon",height:1024,width:1024,svgPath:"M512.1,895.9 C300.3,895.9 128.1,723.8 128.1,511.9 C128.1,300.2 300.3,127.9 512.1,127.9 C723.9,127.9 896,300.2 896.100043,511.9 C896.2,723.6 723.8,895.9 512.1,895.9 M512.1,0 C229.7,0 0,229.7 0,512 C0,794.3 229.7,1024 512.1,1024 C794.3,1024 1024,794.3 1024,512 C1024,229.7 794.3,0 512.1,0 M716.3,482.9 C710,495.2 575.5,679.5 493.7,782.4 C478,800.2 463.4,794.2 457.3,790.3 C443.9,781.4 443.1,771.7 451,745 C458.9,718.3 494.1,576 494.1,576 L341.3,576 C328.2,576.2 312.2,576.2 307.1,563.8 C302.2,552 306.9,541.2 314.4,530.8 C370,453.5 508.1,264.9 508.1,264.9 C508.1,264.9 527.2,239.7 541.4,238.3 C554.4,237 562.9,240.5 567,249.6 C572.1,260.2 570.4,272.9 566.8,286.9 C563.5,300 526.4,448 526.4,448 L695.3,448 C702.6,448 711.5,449.4 717.4,457 C723.3,464.6 719.5,477 716.3,482.9",yOffset:0,xOffset:0},t.SA=a(35183).createIcon(t.vn),t.ZP=t.SA},85316:(e,t,a)=>{t.hF={name:"OutlinedTimesCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z",yOffset:0,xOffset:0},t.jT=a(35183).createIcon(t.hF),t.ZP=t.jT},87388:(e,t,a)=>{a.d(t,{Z:()=>n});const n=(0,a(86244).defineMessages)({createApprovalTitle:{id:"formMessages.createApprovalTitle",defaultMessage:"Create approval process"},generalInformation:{id:"formMessages.generalInformation",defaultMessage:"General information"},setGroups:{id:"formMessages.setGroups",defaultMessage:"Add groups"},enterInfo:{id:"formMessages.enterInfo",defaultMessage:"Enter your information"},approvalProcessName:{id:"formMessages.approvalProcessName",defaultMessage:"Name"},enterApprovalName:{id:"formMessages.enterApprovalName",defaultMessage:"Enter a name for the approval process"},description:{id:"formMessages.description",defaultMessage:"Description"},nameTaken:{id:"formMessages.nameTaken",defaultMessage:"Name has already been taken"},selectPlaceholder:{id:"formMessages.selectPlaceholder",defaultMessage:"Select..."},summary:{id:"formMessages.summary",defaultMessage:"Summary"},groups:{id:"formMessages.groups",defaultMessage:"Groups"},create:{id:"formMessages.create",defaultMessage:"Create"},existingGroupsMessage:{id:"formMessages.existingGroups",defaultMessage:"Current groups"}})},63189:(e,t,a)=>{a.d(t,{Z:()=>be});var n=a(87462),r=a(70885),s=a(4942),c=a(30624),l=a.n(c),o=a(334),i=a(37703),m=a(49287),u=a(18038),d=a(54213),p=a(42026),f=a(45697),g=a.n(f),E=a(2095),y=a(85962),h=a(36104),v=a(81159),x=a(34023),b=a(63540),Z=a(20018),q=a(34348),C=a(86896),T=a(27121),N=a(7248),M=a(87388),O=function(e){var t=e.request,a=e.requestContent,n=(0,C.Z)();return l().createElement(v.K,{hasGutter:!0},l().createElement(x.v,{key:"request-detail-panel"},l().createElement(E.Zb,null,l().createElement(y.e,null,l().createElement(v.K,{hasGutter:!0},l().createElement(x.v,{key:"request-summary"},l().createElement(q.Title,{headingLevel:"h5",size:"lg"},n.formatMessage(M.Z.summary))),l().createElement(x.v,{key:"request-product"},l().createElement(Z.TextContent,null,l().createElement(b.Text,{className:"font-14"},n.formatMessage(N.Z.product)),l().createElement(b.Text,{id:"portfolio-item-name",component:b.TextVariants.p},a?a.product:""))),l().createElement(x.v,{key:"request-portfolio"},l().createElement(Z.TextContent,null,l().createElement(b.Text,{className:"font-14"},n.formatMessage(N.Z.portfolio)),l().createElement(b.Text,{id:"portfolio-name",component:b.TextVariants.p},a?a.portfolio:""))),l().createElement(x.v,{key:"request-platform"},l().createElement(Z.TextContent,null,l().createElement(b.Text,{className:"font-14"},n.formatMessage(N.Z.platform)),l().createElement(b.Text,{id:"source-name",component:b.TextVariants.p},a?a.platform:" "))),l().createElement(x.v,{key:"request-requester"},l().createElement(Z.TextContent,null,l().createElement(b.Text,{className:"font-14"},n.formatMessage(T.Z.requesterColumn)),l().createElement(b.Text,{id:"requester_name",component:b.TextVariants.p},t.requester_name))),l().createElement(x.v,{key:"request-order"},l().createElement(Z.TextContent,null,l().createElement(b.Text,{className:"font-14"},n.formatMessage(T.Z.orderNumber)),l().createElement(b.Text,{id:"order_id",component:b.TextVariants.p},a?a.order_id:""))))))),l().createElement(x.v,{key:"request-parameters"},l().createElement(E.Zb,null,l().createElement(h.l,null,l().createElement(q.Title,{headingLevel:"h5",size:"lg"},n.formatMessage(T.Z.parameters))),l().createElement(y.e,null,l().createElement(v.K,{hasGutter:!0},a.params&&Object.keys(a.params).map((function(e){return a.params[e]&&l().createElement(x.v,{key:"request-".concat(a.params[e])},l().createElement(Z.TextContent,null,l().createElement(b.Text,{key:e,className:"font-14"},"".concat(e)),l().createElement(b.Text,{id:e,component:b.TextVariants.p},"".concat(a.params[e]))))})))))))};O.propTypes={request:g().shape({requester_name:g().string,order_id:g().string}).isRequired,requestContent:g().object};const P=O;var _=a(42982),k=a(94184),j=a.n(k),L=a(53754),w=function(){return w=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},w.apply(this,arguments)};const I=function(e){var t=e.className,a=e.children,n=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["className","children"]),r=j()(t,"pf-l-page-header","pf-c-page-header","pf-l-page__main-section","pf-c-page__main-section");return l().createElement(L.Z.Consumer,null,(function(e){var t,s;void 0===e&&(e="light");var c=j()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((s={})["pf-m-light"]="light"===e,s));return l().createElement("section",w({},n,{className:"".concat(r," ").concat(c),"widget-type":"InsightsPageHeader"}),a)}))};var R=a(34895);const D=function(e){var t=e.className,a=e.title,n=j()(t);return l().createElement(R.Title,{headingLevel:"h1",size:"2xl",className:n,"widget-type":"InsightsPageHeaderTitle"},a)};var S=a(26940),F=a(11107),G=a(35451),z=a(67002),B=a(96893),V=a(85316),A=a(6569),K=a(41418),H=a(3235),Q=a(84564),U=a(92223),X=a(84866),Y={memo:{displayName:T.Z.commentFrom,icon:l().createElement(z.ZP,null)},approve:{displayName:T.Z.approvedBy,icon:l().createElement(G.ZP,{className:"pf-u-mr-0 icon-success-fill"})},deny:{displayName:T.Z.deniedBy,icon:l().createElement(V.ZP,{className:"pf-u-mr-sm icon-danger-fill"})},notify:{displayName:T.Z.notifiedBy,icon:l().createElement(B.ZP,null)},skip:{displayName:T.Z.skippedBy,icon:l().createElement(A.ZP,null)},start:{displayName:T.Z.startedBy,icon:l().createElement(K.ZP,null)},cancel:{displayName:T.Z.canceledBy,icon:l().createElement(H.ZP,{className:"pf-u-mr-sm icon-danger-fill"})},error:{displayName:T.Z.errorBy,icon:l().createElement(Q.ZP,{className:"pf-u-mr-0 icon-danger-fill"})}},$=function(e){var t=e.actionList,a=(0,C.Z)();return t?l().createElement(v.K,null,t.map((function(e){return l().createElement("div",{key:"".concat(e.id,"-action")},l().createElement(Z.TextContent,null,l().createElement(b.Text,{key:"".concat(e.id,"-action-created_at"),className:"pf-u-mb-0",component:b.TextVariants.small},(0,F.Sy)(e.created_at)),l().createElement(b.Text,{key:"".concat(e.id,"-action-operation"),className:"pf-u-mb-md"},(t=e.operation,Y[t]?Y[t].icon:""),"Â ",a.formatMessage(function(e){return Y[e]?Y[e].displayName:(0,X.ZC)()}(e.operation),{by:e.processed_by})),e.comments&&l().createElement(b.Text,{key:"".concat(e.id,"-action-comments"),className:"pf-u-pt-0",component:b.TextVariants.p},e.comments)));var t}))):l().createElement(U.Z,{centered:!0,"aria-label":a.formatMessage(N.Z.noRecords)})};$.propTypes={actionList:g().array};var J=a(48826),W=a(82224),ee=a(38243),te=a(76332),ae=a(4867),ne=a(21543),re=a(5469),se=a(50409),ce=a(47239),le=function(e){var t=e.item,a=e.isExpanded,n=e.toggleExpand,r=e.indexpath,s=(0,c.useContext)(re.Z).userRoles,o=(0,F.wM)(s),i=(0,C.Z)(),m=function(e,t){return!!o||e.metadata&&e.metadata.user_capabilities&&e.metadata.user_capabilities[t]};return l().createElement(J.L,{key:"request-".concat(t.id),"aria-labelledby":"check-request-".concat(t.id),isExpanded:a},l().createElement(W.V,null,l().createElement(te.p,{onClick:function(){return n("request-".concat(t.id))},isExpanded:a,id:"request-".concat(t.id),"aria-labelledby":"request-".concat(t.id," request-").concat(t.id),"aria-label":i.formatMessage(T.Z.toggleDetailsFor)}),l().createElement(ae.p,{dataListCells:[l().createElement(ee.K,{key:t.id},l().createElement("span",{id:"".concat(t.id,"-name")},t.group_name?t.group_name:t.name)),l().createElement(ee.K,{key:"".concat(t.id,"-state")},l().createElement("span",{style:{textTransform:"capitalize"},id:"".concat(t.id,"-state")},i.formatMessage(T.Z[t.state]||(0,X.ZC)(t.state)))),l().createElement(ee.K,{key:"".concat(t.id,"-action")},l().createElement(ce.Z,{approveLink:r.approve,denyLink:r.deny,commentLink:r.comment,request:t,canApproveDeny:m(t,"approve"),canComment:m(t,"memo")}))]})),l().createElement(ne.m,{"aria-label":i.formatMessage(T.Z.requestContentDetails),isHidden:!a},l().createElement(v.K,{hasGutter:!0},l().createElement(x.v,null,l().createElement(Z.TextContent,{component:b.TextVariants.h6},l().createElement($,{actionList:t.actions}))))))};le.propTypes={item:g().shape({id:g().string,name:g().string,state:g().string,actions:g().array,group_name:g().string.isRequired,requestActions:g().shape({data:g().array}),metadata:g().shape({user_capabilities:g().object})}).isRequired,isExpanded:g().bool.isRequired,toggleExpand:g().func.isRequired,indexpath:g().object},le.defaultProps={indexpath:se.Z.request};var oe=a(76690),ie=function(e){var t=e.isLoading,a=e.items,n=e.noItems,s=e.indexpath,o=(0,c.useState)([]),i=(0,r.Z)(o,2),m=i[0],u=i[1],d=(0,C.Z)(),p=function(e){var t=m.indexOf(e),a=t>=0?[].concat((0,_.Z)(m.slice(0,t)),(0,_.Z)(m.slice(t+1,m.length))):[].concat((0,_.Z)(m),[e]);u(a)};return l().createElement(c.Fragment,null,l().createElement("div",null,t&&l().createElement(c.Fragment,null,l().createElement(I,null,l().createElement(D,{title:n})),l().createElement(oe.Eo,null))),a.length>0&&l().createElement(S.DataList,{"aria-label":d.formatMessage(T.Z.expandableDataList)},a.map((function(e,t){return l().createElement(le,{key:e.id,item:e,idx:t,isActive:0===t,isExpanded:(a="request-".concat(e.id),m.includes(a)),toggleExpand:p,indexpath:s});var a}))))};ie.propTypes={isLoading:g().bool,items:g().array,noItems:g().string,active_request:g().number,indexpath:g().object},ie.defaultProps={items:[]};const me=ie;var ue=function(e){var t=e.request,a=e.indexpath,n=(0,C.Z)();return l().createElement(c.Fragment,null,l().createElement(q.Title,{headingLevel:"h5",size:"lg",className:"pf-u-pl-lg pf-u-pb-lg"},n.formatMessage(T.Z.requestTranscript)),l().createElement(me,{items:t.requests&&t.requests.length>0?t.requests:[t],indexpath:a}))};ue.propTypes={request:g().shape({content:g().object,requests:g().array}).isRequired,indexpath:g().object};const de=ue;var pe=a(38106),fe=a(37412),ge=a(1054);function Ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(a),!0).forEach((function(t){(0,s.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var he={isFetching:!0},ve=function(e,t){return"setFetching"===t.type?ye(ye({},e),{},{isFetching:t.payload}):e},xe=function(e){var t=e.requestBreadcrumbs,a=e.indexpath,s=(0,c.useReducer)(ve,he),f=(0,r.Z)(s,2),g=f[0].isFetching,E=f[1],y=(0,i.v9)((function(e){var t=e.requestReducer,a=t.requestContent;return{selectedRequest:t.selectedRequest,requestContent:a}})),h=y.selectedRequest,v=y.requestContent,x=(0,ge.Z)(["request"]),b=(0,r.Z)(x,1)[0].request,Z=(0,o.useLocation)(),q=(0,i.I0)(),N=(0,c.useContext)(re.Z).userRoles,M=(0,C.Z)();(0,c.useEffect)((function(){Promise.all([q((0,pe.t5)(b,(0,F.pu)(N))),q((0,pe.YQ)(b,(0,F.pu)(N)))]).then((function(){return E({type:"setFetching",payload:!1})}))}),[]);var O=function(e){return E({type:"setFetching",payload:!0}),q((0,pe.t5)(e,(0,F.pu)(N))),q((0,pe.YQ)(e,(0,F.pu)(N))).then((function(){return E({type:"setFetching",payload:!1})})).catch((function(){return E({type:"setFetching",payload:!1})}))};return l().createElement(c.Fragment,null,l().createElement(o.Switch,null,l().createElement(o.Route,{exact:!0,path:a.comment},l().createElement(p.Z,{actionType:"Comment",postMethod:function(){return O(h.id)},closeUrl:{pathname:a.index,search:"?request=".concat(h.id)}})),l().createElement(o.Route,{exact:!0,path:a.approve,render:function(e){return l().createElement(p.Z,(0,n.Z)({},e,{actionType:"Approve",postMethod:function(){return O(h.id)},closeUrl:{pathname:a.index,search:"?request=".concat(h.id)}}))}}),l().createElement(o.Route,{exact:!0,path:a.deny,render:function(e){return l().createElement(p.Z,(0,n.Z)({},e,{actionType:"Deny",postMethod:function(){return O(h.id)},closeUrl:{pathname:a.index,search:"?request=".concat(h.id)}}))}})),l().createElement(fe.Q,{breadcrumbs:t,paddingBottom:!0},l().createElement(fe.y,{title:M.formatMessage(T.Z.requestTitle,{id:b})})),l().createElement(d.Z,{type:"content"},l().createElement(m.Grid,{hasGutter:!0},g||!h||0===Object.keys(h).length?l().createElement(d.Z,{style:{backgroundColor:"white",minHeight:"100%"}},l().createElement(oe.vr,null)):l().createElement(c.Fragment,null,l().createElement(u.GridItem,{md:4,lg:3,className:"info-bar pf-u-p-0"},l().createElement(P,{request:h,requestContent:v})),l().createElement(u.GridItem,{md:8,lg:9,className:"detail-pane pf-u-p-lg"},l().createElement(de,{request:h,url:Z.url,indexpath:a}))))))};xe.propTypes={requestBreadcrumbs:g().array,indexpath:g().object};const be=xe}}]);
//# sourceMappingURL=../sourcemaps/189.412ca62825b50653b961e03eb95d16f2.js.map