{"version":3,"sources":["webpack://approval/./src/messages/table-toolbar.messages.js","webpack://approval/./src/presentational-components/shared/no-rows-state.js","webpack://approval/./src/presentational-components/shared/table-empty-state.js","webpack://approval/./src/presentational-components/shared/table-toolbar-view.js","webpack://approval/./src/smart-components/app-tabs/app-tabs.js","webpack://approval/./src/utilities/async-debounce.js"],"names":["defineMessages","require","name","id","defaultMessage","filterByTitle","noResultsFound","noResult","clearAllFilters","clearAllFiltersDescription","ariaLabel","NoRowsState","title","icon","description","PrimaryAction","renderDescription","EmptyState","className","EmptyStateIcon","TextContent","Text","component","TextVariants","EmptyStateBody","EmptyStateSecondaryActions","propTypes","PropTypes","isSearch","TableEmptyState","EmptyTable","centered","aria-label","TableToolbarView","columns","fetchData","toolbarButtons","actionResolver","routes","titlePlural","titleSingular","pagination","filterValue","onFilterChange","isLoading","renderEmptyState","sortBy","onSort","activeFiltersConfig","filterConfig","rows","ouiaId","intl","useIntl","paginationConfig","itemCount","count","page","getCurrentPage","limit","offset","perPage","onSetPage","_e","getNewPage","onPerPageSelect","size","isDisabled","type","page-type","length","filters","actionsConfig","dropdownProps","position","actions","items","label","formatMessage","tableToolbarMessages","filterValues","placeholder","onChange","_event","value","Fragment","Table","cells","TableHeader","TableBody","dropDirection","variant","isCompact","defaultProps","requests","defaultSettings","approvalTabItems","eventKey","message","apsTabsMessages","AppTabs","tabItems","history","useHistory","useLocation","pathname","search","activeTab","find","includes","activeKey","onSelect","tabIndex","push","map","item","T","key","asyncFunction","debounceTime","options","onlyResolvesLast","awesomeDebouncePromise"],"mappings":"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","file":"js/221.js","sourcesContent":["const { defineMessages } = require('react-intl');\n\nconst tableToolbarMessages = defineMessages({\n  name: {\n    id: 'tableToolbar.name',\n    defaultMessage: 'Name'\n  },\n  filterByTitle: {\n    id: 'tableToolbar.filterByTitle',\n    defaultMessage: 'Filter by {title}'\n  },\n  noResultsFound: {\n    id: 'tableToolbar.noResultsFound',\n    defaultMessage: 'No results found'\n  },\n  noResult: {\n    id: 'tableToolbar.noResult',\n    defaultMessage: 'No {results}'\n  },\n  clearAllFilters: {\n    id: 'tableToolbar.clearAllFilters',\n    defaultMessage: 'Clear all filters'\n  },\n  clearAllFiltersDescription: {\n    id: 'tableToolbar.clearAllFiltersDescription',\n    defaultMessage: 'No results match the filter criteria. Remove all filters or clear all filters to show results.'\n  },\n  ariaLabel: {\n    id: 'tableToolbar.ariaLabel',\n    defaultMessage: '{title} table'\n  }\n});\n\nexport default tableToolbarMessages;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  EmptyState,\n  EmptyStateIcon,\n  EmptyStateBody,\n  EmptyStateSecondaryActions,\n  Text,\n  TextContent,\n  TextVariants\n} from '@patternfly/react-core';\n\nconst NoRowsState = ({ title,\n  icon,\n  description,\n  PrimaryAction,\n  renderDescription }) =>\n  (<EmptyState className=\"pf-u-ml-auto pf-u-mr-auto\">\n    <EmptyStateIcon icon={ icon } />\n    <TextContent>\n      <Text component={ TextVariants.h1 }>{ title }</Text>\n    </TextContent>\n    <EmptyStateBody>\n      { description }\n      { renderDescription && renderDescription() }\n    </EmptyStateBody>\n    <EmptyStateSecondaryActions>\n      { PrimaryAction && <PrimaryAction /> }\n    </EmptyStateSecondaryActions>\n  </EmptyState>\n  );\n\nNoRowsState.propTypes = {\n  title: PropTypes.string.isRequired,\n  icon: PropTypes.any.isRequired,\n  isSearch: PropTypes.bool,\n  description: PropTypes.string.isRequired,\n  PrimaryAction: PropTypes.any,\n  renderDescription: PropTypes.func\n};\n\nexport default NoRowsState;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { EmptyTable } from '@redhat-cloud-services/frontend-components/EmptyTable';\nimport NoRowsState from './no-rows-state';\n\nconst TableEmptyState = ({\n  title,\n  icon,\n  isSearch,\n  description,\n  PrimaryAction,\n  renderDescription\n}) => {\n  return isSearch ? <EmptyTable centered aria-label={ 'No records' }>\n    <NoRowsState title={ title }\n      icon={ icon }\n      description={ description }\n      PrimaryAction={ PrimaryAction }\n      renderDescription={ renderDescription } />\n  </EmptyTable> : <NoRowsState title={ title }\n    icon={ icon }\n    description={ description }\n    PrimaryAction={ PrimaryAction }\n    renderDescription={ renderDescription } />;\n};\n\nTableEmptyState.propTypes = {\n  title: PropTypes.string.isRequired,\n  icon: PropTypes.any.isRequired,\n  isSearch: PropTypes.bool,\n  description: PropTypes.string.isRequired,\n  PrimaryAction: PropTypes.any,\n  renderDescription: PropTypes.func\n};\n\nexport default TableEmptyState;\n","\nimport React, { Fragment } from 'react';\nimport propTypes from 'prop-types';\nimport { Table, TableHeader, TableBody } from '@patternfly/react-table';\nimport { defaultSettings, getCurrentPage, getNewPage  } from '../../helpers/shared/pagination';\nimport { DataListLoader } from './loader-placeholders';\nimport { useIntl } from 'react-intl';\nimport { Section } from '@redhat-cloud-services/frontend-components/Section';\nimport { PrimaryToolbar } from '@redhat-cloud-services/frontend-components/PrimaryToolbar';\n\nimport tableToolbarMessages from '../../messages/table-toolbar.messages';\n\n/**\n * Need to optimize this component\n * There is 7 renders before first table render\n * Should be just 2 - Loader -> Table\n */\n\nexport const TableToolbarView = ({\n  columns,\n  fetchData,\n  toolbarButtons,\n  actionResolver,\n  routes,\n  titlePlural,\n  titleSingular,\n  pagination,\n  filterValue,\n  onFilterChange,\n  isLoading,\n  renderEmptyState,\n  sortBy,\n  onSort,\n  activeFiltersConfig,\n  filterConfig,\n  rows,\n  ouiaId\n}) => {\n  const intl = useIntl();\n\n  const paginationConfig = {\n    itemCount: pagination.count,\n    page: getCurrentPage(pagination.limit, pagination.offset),\n    perPage: pagination.limit,\n    onSetPage: (_e, page) => fetchData({ ...pagination, offset: getNewPage(page, pagination.limit) }),\n    onPerPageSelect: (_e, size) => fetchData({ ...pagination, limit: size }),\n    isDisabled: isLoading\n  };\n\n  const renderToolbar = () => (\n    <PrimaryToolbar\n      className=\"pf-u-p-lg ins__approval__primary_toolbar\"\n      pagination={ paginationConfig }\n      { ...(toolbarButtons && { actionsConfig: {\n        dropdownProps: {\n          position: 'right'\n        },\n        actions: [ toolbarButtons() ]}\n      }) }\n      filterConfig={ {\n        items: [{\n          label: intl.formatMessage(tableToolbarMessages.name),\n          filterValues: {\n            id: 'filter-by-name',\n            placeholder: intl.formatMessage(tableToolbarMessages.filterByTitle, { title: titleSingular }),\n            'aria-label': intl.formatMessage(tableToolbarMessages.filterByTitle, { title: titleSingular }),\n            onChange: (_event, value) => onFilterChange(value),\n            value: filterValue\n          }\n        },\n        ...filterConfig\n        ]\n      } }\n      activeFiltersConfig={ activeFiltersConfig }\n    />\n  );\n  return (\n    <Section type=\"content\" page-type={ `tab-${titlePlural}` } id={ `tab-${titlePlural}` }>\n      { routes() }\n      { (rows.length !== 0 || activeFiltersConfig?.filters?.length > 0) && renderToolbar(isLoading) }\n      { isLoading && <DataListLoader/> }\n      { !isLoading && rows.length === 0 ? (\n        renderEmptyState()\n      ) :\n        <Fragment>\n          { !isLoading &&\n          <Table\n            aria-label={ intl.formatMessage(tableToolbarMessages.ariaLabel, { title: titlePlural }) }\n            rows={ rows }\n            cells={ columns }\n            actionResolver={ actionResolver }\n            className=\"pf-u-pt-0 vertical-align-inherit\"\n            sortBy={ sortBy }\n            onSort={ onSort }\n            ouiaId={ ouiaId }\n          >\n            <TableHeader />\n            <TableBody/>\n          </Table> }\n          { pagination.count > 0 && (\n            <PrimaryToolbar\n              className=\"pf-u-pl-lg pf-u-pr-lg ins__approval__primary_toolbar\"\n              pagination={ {\n                ...paginationConfig,\n                dropDirection: 'up',\n                variant: 'bottom',\n                isCompact: false,\n                className: 'pf-u-pr-0'\n              } }\n            />\n          ) }\n        </Fragment>\n      }\n    </Section>);\n};\n\nTableToolbarView.propTypes = {\n  columns: propTypes.array.isRequired,\n  toolbarButtons: propTypes.func,\n  fetchData: propTypes.func.isRequired,\n  pagination: propTypes.shape({\n    limit: propTypes.number,\n    offset: propTypes.number,\n    count: propTypes.number\n  }),\n  titlePlural: propTypes.string,\n  titleSingular: propTypes.string,\n  routes: propTypes.func,\n  actionResolver: propTypes.func,\n  filterValue: propTypes.string,\n  onFilterChange: propTypes.func,\n  isLoading: propTypes.bool,\n  renderEmptyState: propTypes.func,\n  sortBy: propTypes.object,\n  onSort: propTypes.func,\n  activeFiltersConfig: propTypes.object,\n  filterConfig: propTypes.array,\n  rows: propTypes.array,\n  ouiaId: propTypes.string\n};\n\nTableToolbarView.defaultProps = {\n  requests: [],\n  isLoading: false,\n  pagination: defaultSettings,\n  routes: () => null,\n  renderEmptyState: () => null,\n  filterConfig: []\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { Tabs, Tab, TabTitleText } from '@patternfly/react-core';\n\nimport apsTabsMessages from '../../messages/app-tabs.messages';\nimport { useIntl } from 'react-intl';\n\nconst approvalTabItems = [\n  { eventKey: 0, message: apsTabsMessages.myRequests, name: '/requests' },\n  { eventKey: 1, message: apsTabsMessages.allRequests, name: '/allrequests' },\n  { eventKey: 2, message: apsTabsMessages.approvalProccess, name: '/workflows' }\n];\n\nexport const AppTabs = ({ tabItems = approvalTabItems }) => {\n  const intl = useIntl();\n  const history = useHistory();\n  const { pathname, search } = useLocation();\n  const activeTab = tabItems.find(({ name }) => pathname.includes(name));\n  const handleTabClick = (_event, tabIndex) =>\n    history.push({ pathname: tabItems[tabIndex].name, search });\n\n  return (\n    <Tabs className=\"pf-u-mt-sm\" activeKey={ activeTab ? activeTab.eventKey : 0 } onSelect={ handleTabClick }>\n      { tabItems.map((item) => <Tab title={ <TabTitleText>{ intl.formatMessage(item.message) }</TabTitleText> }\n        key={ item.eventKey } eventKey={ item.eventKey } name={ item.name }/>) }\n    </Tabs>\n  );\n};\n\nAppTabs.propTypes = {\n  tabItems: PropTypes.array\n};\n","import awesomeDebouncePromise from 'awesome-debounce-promise';\n\nexport default (\n  asyncFunction,\n  debounceTime = 250,\n  options = { onlyResolvesLast: false }\n) => awesomeDebouncePromise(asyncFunction, debounceTime, options);\n"],"sourceRoot":""}