(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{556:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"i",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return f}));var a=n(13),r=n(565),c=n(146),o=function(e,t){return function(n,o){var i=o().requestReducer,s=i.sortBy,u=i.requests,l=i.filterValue,p=t||c.a;if(!t&&u){var m=u.meta;p={limit:m.limit,offset:m.offset}}return n({type:a.i,payload:r.d(l,p,e,s)})}},i=function(e,t){return{type:a.h,payload:r.c(e,t)}},s=function(e,t){return{type:a.j,payload:r.b(e,t)}},u=function(e,t,n){return{type:a.c,payload:r.a(t,n),meta:{notifications:{fulfilled:{variant:"success",title:"Success",description:"The ".concat(e," was successful.")},rejected:{variant:"danger",title:"".concat(e," error"),description:"The ".concat(e," action failed.")}}}}},l=function(e){return{type:a.d,payload:e}},p=function(e){return{type:a.r,payload:e}},m=function(e,t){return{type:a.p,payload:{filterValue:e,type:t}}},d=function(){return{type:a.b}},f=function(){return{type:a.o}}},565:function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return x})),n.d(t,"a",(function(){return T}));var a=n(72),r=n.n(a),c=n(10),o=n.n(c),i=n(120),s=n.n(i),u=n(152),l=n(69),p=n(146),m=n(37);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=Object(u.a)(),b=Object(u.c)(),h=function(e){return{"request-id":"id",opened:"created_at",requester:"requester_name",status:"state"}[e]||e},E=function(e){var t=[];return e.name&&t.push("filter[name][contains_i]=".concat(e.name)),e.requester&&t.push("filter[requester_name][contains_i]=".concat(e.requester)),e.status&&e.status.forEach((function(e){t.push("filter[state][eq][]=".concat(e))})),e.decision&&e.decision.forEach((function(e){t.push("filter[decision][eq][]=".concat(e))})),t.join("&")};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r="&limit=".concat(Math.max(t.limit,10),"&offset=").concat(t.offset),c="&sort_by=".concat(h(a.property),":").concat(a.direction),o="".concat(l.a,"/requests/?").concat(E(e)).concat(r).concat(c),i=n?{"x-rh-persona":n}:void 0;return Object(u.b)()({method:"get",url:o,headers:i})}var q=function(e,t){var n,a=t&&t!==m.b?{"x-rh-persona":t}:{"x-rh-persona":m.c};return b({method:"post",url:"".concat(l.a,"/graphql"),headers:a,data:{query:(n=e,'query {\n  requests(id: "'.concat(n,'") {\n    id\n    name\n    number_of_children\n    decision\n    description\n    group_name\n    number_of_finished_children\n    state\n    actions {\n      id\n      operation\n      comments\n      created_at\n      processed_by\n    }\n    requests {\n      id\n      name\n      number_of_children\n      decision\n      description\n      group_name\n      number_of_finished_children\n      state\n      workflow_id\n      parent_id\n      actions {\n        id\n        operation\n        comments\n        created_at\n        processed_by\n      }\n    }\n  }\n}'))}}).then((function(e){return e.data.requests}))},O=function(e){var t="".concat(l.a,"/requests/").concat(e,"/content"),n={"x-rh-persona":m.c};return Object(u.b)()({method:"get",url:t,headers:n})},v=function(e,t){var n="".concat(l.a,"/requests/").concat(e).concat(t?"/requests":""),a={"x-rh-persona":m.c};return Object(u.b)()({method:"get",url:n,headers:a})};function x(e,t){return j.apply(this,arguments)}function j(){return(j=s()(r.a.mark((function e(t,n){var a,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t,n);case 2:if((a=e.sent)&&0!==a.length){e.next=5;break}return e.abrupt("return",{});case 5:if(n!==m.b){e.next=17;break}if(!(a&&a.length>0&&a[0].number_of_children>0)){e.next=13;break}return e.next=9,v(t,!0);case 9:(c=e.sent)&&c.data&&(a[0].requests=a[0].requests.map((function(e){return f(f({},c.data.find((function(t){return t.id===e.id&&t.metadata}))),e)}))),e.next=17;break;case 13:return e.next=15,v(t,!1);case 15:(o=e.sent)&&(a[0]=f(f({},a[0]),{},{metadata:o.metadata}));case 17:return e.abrupt("return",a[0]);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(e,t){return y.createAction(e,t)}},574:function(e,t,n){"use strict";var a=n(10),r=n.n(a),c=n(65),o=n.n(c),i=n(0),s=n.n(i),u=n(7),l=n.n(u),p=n(560),m=n(15),d=n(80),f=n(151),y=n(497),b=n(556),h=n(549),E=n.n(h),g=n(555),q=n.n(g);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{fields:[v({component:E.a.TEXTAREA,name:"comments",isRequired:e,label:e?"Reason":"Comment"},e&&{validate:[{type:q.a.REQUIRED}]})]}},j=n(553),T=n(53);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){var t=e.actionType,n=e.createRequestAction,a=e.closeUrl,r=e.postMethod,c=Object(m.g)().push,i=Object(j.a)(["request"]),u=o()(i,1)[0].request,l=function(){return c(a)};return s.a.createElement(y.Modal,{variant:"large",title:"Add Comment"===t?"Request #".concat(u):"".concat(t," Request #").concat(u),isOpen:!0,onClose:l},s.a.createElement(p.a,{schema:x("Deny"===t),onSubmit:function(e){var o={"Add Comment":"memo",Approve:"approve",Deny:"deny"},i="Add Comment"===t?t:"".concat(t," Request");return r?n(i,u,k({operation:o[t]},e)).then((function(){return r()})).then((function(){return c(a)})):n(i,u,k({operation:o[t]},e)).then((function(){return c(a)}))},onCancel:l,formContainer:"modal"}))};w.defaultProps={closeUrl:T.a.requests.index},w.propTypes={createRequestAction:l.a.func.isRequired,postMethod:l.a.func,actionType:l.a.string,closeUrl:l.a.oneOfType([l.a.string,l.a.shape({patname:l.a.string,search:l.a.string})])};t.a=Object(d.connect)(null,(function(e){return Object(f.a)({createRequestAction:b.b},e)}))(w)},582:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},626:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},627:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.exports=function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}},628:function(e,t,n){var a=n(629);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}},629:function(e,t){function n(t,a){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,a)}e.exports=n},630:function(e,t,n){var a=n(631),r=n(582);e.exports=function(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?r(e):t}},631:function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},632:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},633:function(e,t,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(66);var r=n(112),c=n(111),o=n(149),i=a(n(0)),s=a(n(7)),u=a(n(35)),l=n(266),p=n(249),m=function(e){var t=e.className,n=e.children,a=o._objectWithoutProperties(e,["className","children"]),s=u(t,"pf-l-page-header","pf-c-page-header","pf-l-page__main-section","pf-c-page__main-section");return i.createElement(l.ThemeContext.Consumer,null,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",t=u(c._defineProperty({},"pf-m-".concat(e,"-200"),"dark"===e),c._defineProperty({},"pf-m-light","light"===e));return i.createElement("section",r._extends({},a,{className:"".concat(s," ").concat(t),"widget-type":"InsightsPageHeader"}),n)}))};m.propTypes={children:s.any.isRequired,className:s.string};var d=function(e){var t=e.className,n=e.title,a=u(t);return i.createElement(p.Title,{headingLevel:"h1",size:"2xl",className:a,"widget-type":"InsightsPageHeaderTitle"}," ",n," ")};d.propTypes={title:s.node.isRequired,className:s.string},t.PageHeader=m,t.PageHeaderTitle=d},638:function(e,t,n){"use strict";n.r(t);var a=n(147),r=n.n(a),c=n(65),o=n.n(c),i=n(10),s=n.n(i),u=n(0),l=n.n(u),p=n(15),m=n(80),d=n(148),f=n(113),y=n(159),b=n(574),h=n(7),E=n.n(h),g=n(126),q=n(128),O=n(530),v=n(153),x=n(156),j=n(51),T=n(78),_=n(249),k=function(e){var t=e.request,n=e.requestContent;return l.a.createElement(v.Stack,{hasGutter:!0},l.a.createElement(x.StackItem,{key:"request-detail-panel"},l.a.createElement(g.Card,null,l.a.createElement(q.CardBody,null,l.a.createElement(v.Stack,{hasGutter:!0},l.a.createElement(x.StackItem,{key:"request-summary"},l.a.createElement(_.Title,{headingLevel:"h5",size:"lg"},"Summary")),l.a.createElement(x.StackItem,{key:"request-product"},l.a.createElement(T.TextContent,null,l.a.createElement(j.Text,{className:"font-14"},"Product"),l.a.createElement(j.Text,{id:"portfolio-item-name",component:j.TextVariants.p},n?n.product:""))),l.a.createElement(x.StackItem,{key:"request-portfolio"},l.a.createElement(T.TextContent,null,l.a.createElement(j.Text,{className:"font-14"},"Portfolio"),l.a.createElement(j.Text,{id:"portfolio-name",component:j.TextVariants.p},n?n.portfolio:""))),l.a.createElement(x.StackItem,{key:"request-platform"},l.a.createElement(T.TextContent,null,l.a.createElement(j.Text,{className:"font-14"},"Platform"),l.a.createElement(j.Text,{id:"source-name",component:j.TextVariants.p},n?n.platform:" "))),l.a.createElement(x.StackItem,{key:"request-requester"},l.a.createElement(T.TextContent,null,l.a.createElement(j.Text,{className:"font-14"},"Requester "),l.a.createElement(j.Text,{id:"requester_name",component:j.TextVariants.p},t.requester_name))),l.a.createElement(x.StackItem,{key:"request-order"},l.a.createElement(T.TextContent,null,l.a.createElement(j.Text,{className:"font-14"},"Order# "),l.a.createElement(j.Text,{id:"requester_name",component:j.TextVariants.p},n?n.order_id:""))))))),l.a.createElement(x.StackItem,{key:"request-parameters"},l.a.createElement(g.Card,null,l.a.createElement(O.CardTitle,null,l.a.createElement(_.Title,{headingLevel:"h5",size:"lg"},"Parameters")),l.a.createElement(q.CardBody,null,l.a.createElement(v.Stack,{hasGutter:!0},n.params&&Object.keys(n.params).map((function(e){return n.params[e]&&l.a.createElement(x.StackItem,{key:"request-".concat(n.params[e])},l.a.createElement(T.TextContent,null,l.a.createElement(j.Text,{key:e,className:"font-14"},"".concat(e)),l.a.createElement(j.Text,{id:e,component:j.TextVariants.p},"".concat(n.params[e]))))})))))))};k.propTypes={request:E.a.shape({requester_name:E.a.string,order_id:E.a.string}).isRequired,requestContent:E.a.object};var w=k,P=n(44),C=n.n(P),R=n(626),S=n.n(R),D=n(627),N=n.n(D),I=n(582),L=n.n(I),A=n(628),V=n.n(A),F=n(630),G=n.n(F),H=n(632),U=n.n(H),B=n(633),M=n(133),z=n(52),J=n(37),K=n(124),Q=n.n(K),W=n(531),X=n.n(W),Y=n(532),Z=n.n(Y),$=n(206),ee=n.n($),te=n(255),ne=n.n(te),ae=n(533),re=n.n(ae),ce=n(207),oe=n.n(ce),ie=n(125),se=n.n(ie),ue=n(581),le={memo:{displayName:"Comment from",icon:l.a.createElement(X.a,null)},approve:{displayName:"Approved by",icon:l.a.createElement(Q.a,{className:"pf-u-mr-sm icon-success-fill"})},deny:{displayName:"Denied by",icon:l.a.createElement(ee.a,{className:"pf-u-mr-sm icon-danger-fill"})},notify:{displayName:"Notified by",icon:l.a.createElement(Z.a,null)},skip:{displayName:"Skipped by",icon:l.a.createElement(ne.a,null)},start:{displayName:"Started by",icon:l.a.createElement(re.a,null)},cancel:{displayName:"Canceled by",icon:l.a.createElement(oe.a,{className:"pf-u-mr-sm icon-danger-fill"})},error:{displayName:"Error",icon:l.a.createElement(se.a,{className:"pf-u-mr-sm icon-danger-fill"})}},pe=function(e){var t=e.actionList;return t?l.a.createElement(v.Stack,null,t.map((function(e){return l.a.createElement("div",{key:"".concat(e.id,"-action")},l.a.createElement(T.TextContent,null,l.a.createElement(j.Text,{key:"".concat(e.id,"-action-created_at"),className:"pf-u-mb-0",component:j.TextVariants.small},Object(J.h)(e.created_at)),l.a.createElement(j.Text,{key:"".concat(e.id,"-action-operation"),className:"pf-u-mb-md"},(t=e.operation,le[t]?le[t].icon:"")," ","".concat(function(e){return le[e]?le[e].displayName:""}(e.operation),"  ").concat(e.processed_by)),e.comments&&l.a.createElement(j.Text,{key:"".concat(e.id,"-action-comments"),className:"pf-u-pt-0",component:j.TextVariants.p},"".concat(e.comments))," "));var t}))):l.a.createElement(ue.EmptyTable,{centered:!0,"aria-label":"No records"})},me=n(79),de=n(208),fe=n(209),ye=n(211),be=n(534),he=n(210),Ee=n(535),ge=n(114),qe=n(251),Oe=n(20),ve=n(118),xe=n(86),je=n(119),Te=n(43),_e=n(53),ke=function(e){var t,n=e.item,a=e.isExpanded,r=e.toggleExpand,c=Object(u.useState)(!1),i=o()(c,2),s=i[0],p=i[1],m=Object(u.useContext)(Te.a).userRoles,d=Object(J.i)(m),f=function(e){p(e)},y=function(){p((function(e){return!e}))},b=function(e,t){return!!d||e.metadata&&e.metadata.user_capabilities&&e.metadata.user_capabilities[t]};return l.a.createElement(de.DataListItem,{key:"request-".concat(n.id),"aria-labelledby":"check-request-".concat(n.id),isExpanded:a},l.a.createElement(fe.DataListItemRow,null,l.a.createElement(be.DataListToggle,{onClick:function(){return r("request-".concat(n.id))},isExpanded:a,id:"request-".concat(n.id),"aria-labelledby":"request-".concat(n.id," request-").concat(n.id),"aria-label":"Toggle details for"}),l.a.createElement(he.DataListItemCells,{dataListCells:[l.a.createElement(ye.DataListCell,{key:n.id},l.a.createElement("span",{id:"".concat(n.id,"-name")},"".concat(n.group_name?n.group_name:n.name)," ")),l.a.createElement(ye.DataListCell,{key:"".concat(n.id,"-state")},l.a.createElement("span",{style:{textTransform:"capitalize"},id:"".concat(n.id,"-state")},"".concat(n.state)," ")),l.a.createElement(ye.DataListCell,{key:"".concat(n.id,"-action")},l.a.createElement(xe.Level,null,l.a.createElement(je.LevelItem,null,Object(J.f)(n.state)&&b(n,"approve")&&l.a.createElement("div",null,l.a.createElement(z.b,{id:"approve-".concat(n.id),to:{pathname:_e.a.request.approve,search:"?request=".concat(n.id)}},l.a.createElement(me.Button,{variant:"link","aria-label":"Approve Request"},"Approve")),l.a.createElement(z.b,{id:"deny-".concat(n.id),to:{pathname:_e.a.request.deny,search:"?request=".concat(n.id)}},l.a.createElement(me.Button,{variant:"link",className:"destructive-color","aria-label":"Deny Request"},"Deny")))))),l.a.createElement(ye.DataListCell,{key:"request-".concat(n.id),className:"pf-c-data-list__action","aria-labelledby":"request-".concat(n.id," check-request-action").concat(n.id),id:"workflow-".concat(n.id),"aria-label":"Actions"},Object(J.f)(n.state)&&b(n,"memo")&&(t=n,l.a.createElement(qe.Dropdown,{position:Oe.DropdownPosition.right,onSelect:y,toggle:l.a.createElement(ve.KebabToggle,{id:"request-request-dropdown-".concat(t.id),onToggle:f}),isOpen:s,dropdownItems:[l.a.createElement(ge.DropdownItem,{"aria-label":"Add Comment",key:"add_comment_".concat(t.id),component:"button"},l.a.createElement(z.b,{id:"request-".concat(t.id,"-request-comment"),to:{pathname:_e.a.request.addComment,search:"?request=".concat(t.id)},className:"pf-c-dropdown__menu-item"},"Comment"))],isPlain:!0})))]})),l.a.createElement(Ee.DataListContent,{"aria-label":"Request Content Details",isHidden:!a},l.a.createElement(v.Stack,{hasGutter:!0},l.a.createElement(x.StackItem,null,l.a.createElement(T.TextContent,{component:j.TextVariants.h6},function(e){return l.a.createElement(pe,{actionList:e.actions})}(n))))))};ke.propTypes={isLoading:E.a.bool,item:E.a.shape({id:E.a.string,name:E.a.string,state:E.a.string,group_name:E.a.string.isRequired,requestActions:E.a.shape({data:E.a.array}),metadata:E.a.shape({user_capabilities:E.a.object})}).isRequired,idx:E.a.number,isExpanded:E.a.bool.isRequired,toggleExpand:E.a.func.isRequired,noItems:E.a.string};var we=n(67);function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=U()(e);if(t){var r=U()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return G()(this,n)}}var Ce=function(e){V()(n,e);var t=Pe(n);function n(){var e;S()(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),s()(L()(e),"state",{expanded:[]}),s()(L()(e),"toggleExpand",(function(t){return e.setState((function(e){var n=e.expanded,a=n.indexOf(t);return{expanded:a>=0?[].concat(C()(n.slice(0,a)),C()(n.slice(a+1,n.length))):[].concat(C()(n),[t])}}))})),s()(L()(e),"isExpanded",(function(t){return e.state.expanded.includes(t)})),e}return N()(n,[{key:"render",value:function(){var e=this;return l.a.createElement(u.Fragment,null,l.a.createElement("div",null,this.props.isLoading&&l.a.createElement(u.Fragment,null,l.a.createElement(B.PageHeader,null,l.a.createElement(B.PageHeaderTitle,{title:this.props.noItems})),l.a.createElement(we.b,null))),this.props.items.length>0&&l.a.createElement(M.DataList,{"aria-label":"Expandable data list"},this.props.items.map((function(t,n){return l.a.createElement(ke,{key:t.id,item:t,idx:n,isActive:0===n,isExpanded:e.isExpanded("request-".concat(t.id)),toggleExpand:e.toggleExpand})}))))}}]),n}(u.Component);Ce.propTypes={isLoading:E.a.bool,items:E.a.array,noItems:E.a.string,active_request:E.a.number},Ce.defaultProps={items:[]};var Re=Ce,Se=function(e){var t=e.request;return l.a.createElement(u.Fragment,null,l.a.createElement(_.Title,{headingLevel:"h5",size:"lg",className:"pf-u-pl-lg pf-u-pb-lg"},"Request transcript"),l.a.createElement(Re,{items:t.requests&&t.requests.length>0?t.requests:[t]}))};Se.propTypes={request:E.a.shape({content:E.a.object,requests:E.a.array}).isRequired};var De=Se,Ne=n(556),Ie=n(115),Le=n(553);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe={isFetching:!0},Ge=function(e,t){switch(t.type){case"setFetching":return Ve(Ve({},e),{},{isFetching:t.payload});default:return e}};t.default=function(){var e=Object(u.useReducer)(Ge,Fe),t=o()(e,2),n=t[0].isFetching,a=t[1],c=Object(m.useSelector)((function(e){var t=e.requestReducer,n=t.requestContent;return{selectedRequest:t.selectedRequest,requestContent:n}})),i=c.selectedRequest,s=c.requestContent,h=Object(Le.a)(["request"]),E=o()(h,1)[0].request,g=Object(p.h)(),q=Object(m.useDispatch)(),O=Object(u.useContext)(Te.a).userRoles;Object(u.useEffect)((function(){Promise.all([q(Object(Ne.d)(E,Object(J.d)(O))),q(Object(Ne.e)(E,Object(J.d)(O)))]).then((function(){return a({type:"setFetching",payload:!1})}))}),[]);return l.a.createElement(u.Fragment,null,l.a.createElement(p.d,null,l.a.createElement(p.b,{exact:!0,path:_e.a.request.addComment},l.a.createElement(b.a,{actionType:"Add Comment",closeUrl:{pathname:_e.a.request.index,search:"?request=".concat(i.id)}})),l.a.createElement(p.b,{exact:!0,path:_e.a.request.approve,render:function(e){return l.a.createElement(b.a,r()({},e,{actionType:"Approve",closeUrl:{pathname:_e.a.request.index,search:"?request=".concat(i.id)}}))}}),l.a.createElement(p.b,{exact:!0,path:_e.a.request.deny,render:function(e){return l.a.createElement(b.a,r()({},e,{actionType:"Deny",closeUrl:{pathname:_e.a.request.index,search:"?request=".concat(i.id)}}))}})),l.a.createElement(Ie.a,{breadcrumbs:[{title:"My requests",to:_e.a.requests.index,id:"requests"},{title:"Request ".concat(E),id:E}],paddingBottom:!0},l.a.createElement(Ie.b,{title:"Request ".concat(E)})),l.a.createElement(y.Section,{type:"content"},l.a.createElement(d.Grid,{hasGutter:!0},n||!i||0===Object.keys(i).length?l.a.createElement(y.Section,{style:{backgroundColor:"white",minHeight:"100%"}},l.a.createElement(we.d,null)):l.a.createElement(u.Fragment,null,l.a.createElement(f.GridItem,{md:4,lg:3,className:"info-bar pf-u-p-0"},l.a.createElement(w,{request:i,requestContent:s})),l.a.createElement(f.GridItem,{md:8,lg:9,className:"detail-pane pf-u-p-lg"},l.a.createElement(De,{request:i,url:g.url}))))))}}}]);
//# sourceMappingURL=../sourcemaps/request-detail~31ecd969.js.map