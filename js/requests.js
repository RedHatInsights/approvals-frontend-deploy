(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{2214:function(e,t,n){"use strict";n.r(t);var r=n(84),a=n.n(r),o=n(52),i=n.n(o),c=n(3),s=n.n(c),u=n(0),l=n.n(u),p=n(1),f=n.n(p),d=n(42),m=n(24),b=n(81),y=n(368),g=n(416),h=n(2210),v=n(566),O=n(472),j=n.n(O),q=n(362),E=n(412),w=n(31),P=n.n(w),R=n(19),S=n(43),C=n(25),_=n(49),D=n(60),k=n(102),x=n(401),F=n(45),T=n(372),M=n(47),V=n(347),N=function(e){var t=e.title,n=void 0===t?"":t,r=e.detail,a=void 0===r?"":r;return l.a.createElement(S.TextContent,null,l.a.createElement(C.Text,{className:"data-table-detail heading",component:C.TextVariants.small},n),l.a.createElement(C.Text,{className:"data-table-detail content",component:C.TextVariants.h5},a))};N.propTypes={title:f.a.node,detail:f.a.node};var L=function(e){var t=e.id,n=e.number_of_children,r=e.state,a=e.reason,o=Object(F.f)(r)&&!n,c=Object(u.useState)([]),s=i()(c,2),p=s[0],f=s[1],m=Object(u.useState)(!0),y=i()(m,2),g=y[0],h=y[1],v=Object(u.useState)(!1),O=i()(v,2),j=O[0],q=O[1],E=Object(u.useContext)(M.a).userPersona,w=Object(d.useSelector)((function(e){return e.requestReducer.expandedRequests}));return Object(u.useEffect)((function(){!j&&g&&w.includes(t)&&(q(!0),Object(T.b)(t).then((function(e){f(e),h(!1)})).catch((function(){return h(!1)})))}),[w]),g?l.a.createElement(k.Bullseye,null,l.a.createElement(x.Spinner,null)):l.a.createElement(u.Fragment,null,l.a.createElement(_.Level,null,l.a.createElement(D.LevelItem,null,l.a.createElement(N,{title:"Product",detail:p?p.product:"Unknown"})),o&&Object(F.e)(E)&&l.a.createElement(D.LevelItem,null,l.a.createElement(R.Link,{to:{pathname:V.a.requests.approve,search:"request=".concat(t)},className:"pf-u-mr-md"},l.a.createElement(b.Button,{variant:"primary","aria-label":"Approve Request",isDisabled:!o},"Approve")),l.a.createElement(R.Link,{to:{pathname:V.a.requests.deny,search:"request=".concat(t)}},l.a.createElement(b.Button,{variant:"danger","aria-label":"Deny Request"},"Deny")))),l.a.createElement(_.Level,null,l.a.createElement(D.LevelItem,null,l.a.createElement(N,{title:"Portfolio",detail:p?p.portfolio:"Unknown"}),l.a.createElement(N,{title:"Platform",detail:p?p.platform:"Unknown"}),l.a.createElement(N,{title:"Reason",detail:a||""}))))};L.propTypes={id:f.a.string,content:f.a.object,number_of_children:f.a.number,uname:f.a.string,state:f.a.string,reason:f.a.string};var A=L,I=function(e){return e.reduce((function(e,t,n){var r=t.id,a=t.name,o=t.requester_name,i=t.created_at,c=t.notified_at,s=t.finished_at,p=t.state,f=t.decision,d=t.reason,m=t.number_of_children;return[].concat(P()(e),[{id:r,isOpen:!1,state:p,number_of_children:m,cells:[l.a.createElement(u.Fragment,{key:r},l.a.createElement(R.Link,{to:{pathname:V.a.request.index,search:"?request=".concat(r)}},a)),o,Object(F.h)(i),s?Object(F.h)(s):c?Object(F.h)(c):Object(F.h)(i),p,f]},{parent:2*n,fullWidth:!0,cells:[{title:l.a.createElement(A,{id:r,number_of_children:m,state:p,reason:d})}]}])}),[])},B=n(398),U=n(63),K=n(397),G=n(361),J=n(408);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=[{title:"Name",cellFormatters:[y.b],transforms:[g.a]},{title:"Requester",transforms:[g.a]},{title:"Opened",transforms:[g.a]},{title:"Updated"},{title:"Status",transforms:[g.a]},{title:"Decision",transforms:[g.a]}],z=Object(G.a)((function(e,t,n,r){return t(!0),r&&r(),e(Object(q.f)(n)).then((function(){return t(!1)}))}),1e3),H=function(e,t){switch(t.type){case"setFetching":return W({},e,{isFetching:t.payload});case"setNameValue":return W({},e,{nameValue:t.payload});case"setRequesterValue":return W({},e,{requesterValue:t.payload});case"clearFilters":return W({},e,{requesterValue:"",nameValue:"",isFetching:!0});case"setFilteringFlag":return W({},e,{isFiltering:t.payload});default:return e}},Y=function(){var e=Object(d.useSelector)((function(e){var t=e.requestReducer;return{requests:t.requests,sortBy:t.sortBy,filterValue:t.filterValue}}),d.shallowEqual),t=e.requests,n=t.data,r=t.meta,o=e.sortBy,c=e.filterValue,s=Object(u.useReducer)(H,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{nameValue:e,requesterValue:t,isOpen:!1,isFetching:!0,isFiltering:!1}}(c.name,c.requester)),p=i()(s,2),f=p[0],y=f.nameValue,g=f.isFetching,O=f.isFiltering,w=f.requesterValue,R=p[1],S=Object(u.useContext)(M.a).userPersona,C=Object(d.useDispatch)(),_=Object(m.k)(),D=Object(h.a)(),k=function(e){return R({type:"setFetching",payload:!0}),C(Object(q.f)(S,e)).then((function(){return R({type:"setFetching",payload:!1})})).catch((function(){return R({type:"setFetching",payload:!1})}))};Object(u.useEffect)((function(){k(),Object(F.g)()}),[]);var x,T,N,L,A,G=function(e,t){var n=!1;return"name"===t?(R({type:"setNameValue",payload:e}),n=!0):"requester"===t&&(R({type:"setRequesterValue",payload:e}),n=!0),n||C(Object(q.g)(e,t)),z(C,(function(e){return R({type:"setFilteringFlag",payload:e})}),S,n&&function(){return C(Object(q.g)(e,t))})},Q=function(){return R({type:"clearFilters"}),C(Object(q.a)()),k()};return l.a.createElement(u.Fragment,null,l.a.createElement(U.a,null,l.a.createElement(U.b,{title:"Approval"}),Object(F.d)(S)&&l.a.createElement(K.a,{tabItems:[{eventKey:0,title:"Request queue",name:"/requests"},{eventKey:1,title:"Approval processes",name:"/workflows"}]})),l.a.createElement(B.a,{sortBy:o,onSort:function(e,t,n,r){var a=r.property;return R({type:"setFetching",payload:!0}),C(Object(q.h)({index:t,direction:n,property:a})),k()},data:n,createRows:I,columns:X,fetchData:k,routes:function(){return l.a.createElement(u.Fragment,null,l.a.createElement(m.d,{exact:!0,path:V.a.requests.addComment,render:function(e){return l.a.createElement(E.a,a()({},e,{actionType:"Add Comment",postMethod:q.f}))}}),l.a.createElement(m.d,{exact:!0,path:V.a.requests.approve,render:function(e){return l.a.createElement(E.a,a()({},e,{actionType:"Approve",postMethod:q.f}))}}),l.a.createElement(m.d,{exact:!0,path:V.a.requests.deny,render:function(e){return l.a.createElement(E.a,a()({},e,{actionType:"Deny",postMethod:q.f}))}}))},actionResolver:function(e){return e&&e.id&&function(e){return!e||!e.state||(!Object(F.f)(e.state)||e.number_of_children>0||!Object(F.e)(S))}(e)?null:[{title:"Comment",onClick:function(){return _.push({pathname:V.a.requests.addComment,search:"?request=".concat(e.id)})}}]},titlePlural:"requests",titleSingular:"request",pagination:r,handlePagination:k,filterValue:y,onFilterChange:function(e){return G(e,"name")},isLoading:g||O,onCollapse:function(e,t,n){C(Object(q.c)(e)),t((function(t){return n(t,e)}))},renderEmptyState:function(){return l.a.createElement(J.a,{title:j()(c)?"No requests":"No results found",Icon:v.SearchIcon,PrimaryAction:function(){return j()(c)?null:l.a.createElement(b.Button,{onClick:Q,variant:"link"},"Clear all filters")},description:j()(c)?"":"No results match the filter criteria. Remove all filters or clear all filters to show results."})},activeFiltersConfig:{filters:(x={name:y,requester:w,status:c.status,decision:c.decision},T=x.name,N=x.requester,L=x.status,A=x.decision,[].concat(P()(T?[{category:"Name",key:"name",chips:[{name:T,value:T}]}]:[]),P()(N?[{category:"Requester",key:"requester",chips:[{name:N,value:N}]}]:[]),P()(L&&L.length>0?[{category:"Status",key:"status",chips:L.map((function(e){return{name:e,value:e}}))}]:[]),P()(A&&A.length>0?[{category:"Decision",key:"decision",chips:A.map((function(e){return{name:e,value:e}}))}]:[]))),onDelete:function(e,t,n){return n?Q():(r=t,a=i()(r,1)[0],o=a.key,s=i()(a.chips,1)[0].value,u=["name","requester"].includes(o)?"":c[o].filter((function(e){return s!==e})),void G(u,o));var r,a,o,s,u}},filterConfig:[{label:D.formatMessage({id:"requester",defaultMessage:"Requester"}),filterValues:{placeholder:D.formatMessage({id:"filter-by-requester",defaultMessage:"Filter by requester"}),"aria-label":D.formatMessage({id:"filter-by-requester",defaultMessage:"Filter by requester"}),onChange:function(e,t){return G(t,"requester")},value:w}},{label:D.formatMessage({id:"status",defaultMessage:"Status"}),type:"checkbox",filterValues:{placeholder:D.formatMessage({id:"filter-by-status",defaultMessage:"Filter by status"}),"aria-label":D.formatMessage({id:"filter-by-status",defaultMessage:"Filter by status"}),onChange:function(e,t){return G(t,"status")},value:c.status,items:["canceled","completed","failed","notified","pending","skipped","started"].map((function(e){return{label:e,value:e}}))}},{label:D.formatMessage({id:"decision",defaultMessage:"Decision"}),type:"checkbox",filterValues:{placeholder:D.formatMessage({id:"filter-by-decision",defaultMessage:"Filter by decision"}),"aria-label":D.formatMessage({id:"filter-by-decision",defaultMessage:"Filter by decision"}),onChange:function(e,t){return G(t,"decision")},value:c.decision,items:["approved","canceled","denied","error","undecided"].map((function(e){return{label:e,value:e}}))}}]}))};Y.propTypes={requests:f.a.array,isLoading:f.a.bool},Y.defaultProps={requests:[],isLoading:!1};t.default=Y},347:function(e,t,n){"use strict";t.a={requests:{index:"/requests",addComment:"/requests/add-comment",approve:"/requests/approve",deny:"/requests/deny"},request:{index:"/request",addComment:"/request/add-comment",approve:"/request/approve",deny:"/request/deny"},workflows:{index:"/workflows",add:"/workflows/add-workflow",remove:"/workflows/remove",editInfo:"/workflows/edit-info",editGroups:"/workflows/edit-groups",editSequence:"/workflows/edit-sequence"}}},351:function(e,t,n){"use strict";var r=n(3),a=n.n(r),o=n(24);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(o.l)(),n=t.search,r=new URLSearchParams(n);return[e.reduce((function(e,t){return c({},e,a()({},t,r.get(t)))}),{}),n,r]}},361:function(e,t,n){"use strict";var r=n(469);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(r.a)(e,t,n)}},362:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"a",(function(){return d}));var r=n(5),a=n(372),o=n(86),i=function(e,t){return function(n,i){var c=i().requestReducer,s=c.sortBy,u=c.requests,l=c.filterValue,p=t||o.a;if(!t&&u){var f=u.meta;p={limit:f.limit,offset:f.offset}}return n({type:r.i,payload:a.d(l,p,e,s)})}},c=function(e,t){return{type:r.h,payload:a.c(e,t)}},s=function(e,t){return{type:r.j,payload:a.b(e,t)}},u=function(e,t,n){return{type:r.c,payload:a.a(t,n),meta:{notifications:{fulfilled:{variant:"success",title:"Success",description:"The ".concat(e," was successful.")},rejected:{variant:"danger",title:"".concat(e," error"),description:"The ".concat(e," action failed.")}}}}},l=function(e){return{type:r.d,payload:e}},p=function(e){return{type:r.q,payload:e}},f=function(e,t){return{type:r.o,payload:{filterValue:e,type:t}}},d=function(){return{type:r.b}}},372:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return P}));var r=n(37),a=n.n(r),o=n(3),i=n.n(o),c=n(55),s=n.n(c),u=n(93),l=n(29),p=n(86),f=n(45);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=Object(u.a)(),y=Object(u.c)(),g=function(e){return{opened:"created_at",requester:"requester_name",status:"state"}[e]||e},h=function(e){var t=[];return e.name&&t.push("filter[name][contains_i]=".concat(e.name)),e.requester&&t.push("filter[requester_name][contains_i]=".concat(e.requester)),e.status&&e.status.forEach((function(e){t.push("filter[state][eq][]=".concat(e))})),e.decision&&e.decision.forEach((function(e){t.push("filter[decision][eq][]=".concat(e))})),t.join("&")};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a="&limit=".concat(Math.max(t.limit,10),"&offset=").concat(t.offset),o="&sort_by=".concat(g(r.property),":").concat(r.direction),i="".concat(l.a,"/requests/?").concat(h(e)).concat(a).concat(o),c=n?{"x-rh-persona":n}:void 0;return Object(u.b)()({method:"get",url:i,headers:c})}var O=function(e,t){var n,r=t&&t!==f.a?{"x-rh-persona":t}:{"x-rh-persona":f.b};return y({method:"post",url:"".concat(l.a,"/graphql"),headers:r,data:{query:(n=e,'query {\n  requests(id: "'.concat(n,'") {\n    id\n    name\n    number_of_children\n    decision\n    description\n    group_name\n    number_of_finished_children\n    state\n    actions {\n      id\n      operation\n      comments\n      created_at\n      processed_by\n    }\n    requests {\n      id\n      name\n      number_of_children\n      decision\n      description\n      group_name\n      number_of_finished_children\n      state\n      workflow_id\n      parent_id\n      actions {\n        id\n        operation\n        comments\n        created_at\n        processed_by\n      }\n    }\n  }\n}'))}}).then((function(e){return e.data.requests}))},j=function(e){var t="".concat(l.a,"/requests/").concat(e,"/content"),n={"x-rh-persona":f.b};return Object(u.b)()({method:"get",url:t,headers:n})},q=function(e,t){var n="".concat(l.a,"/requests/").concat(e).concat(t?"/requests":""),r={"x-rh-persona":f.b};return Object(u.b)()({method:"get",url:n,headers:r})};function E(e,t){return w.apply(this,arguments)}function w(){return(w=s()(a.a.mark((function e(t,n){var r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t,n);case 2:if((r=e.sent)&&0!==r.length){e.next=5;break}return e.abrupt("return",{});case 5:if(n!==f.a){e.next=17;break}if(!(r&&r.length>0&&r[0].number_of_children>0)){e.next=13;break}return e.next=9,q(t,!0);case 9:(o=e.sent)&&o.data&&(r[0].requests=r[0].requests.map((function(e){return m({},o.data.find((function(t){return t.id===e.id&&t.metadata})),{},e)}))),e.next=17;break;case 13:return e.next=15,q(t,!1);case 15:(i=e.sent)&&(r[0]=m({},r[0],{metadata:i.metadata}));case 17:return e.abrupt("return",m({},r[0]));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return R.apply(this,arguments)}function R(){return(R=s()(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.createAction(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},397:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(24),s=n(393),u=n(392),l=function(e){var t=e.history.push,n=e.location.pathname,r=e.tabItems,o=r.find((function(e){var t=e.name;return n.includes(t)}));return a.a.createElement(s.Tabs,{className:"pf-u-mt-sm",activeKey:o?o.eventKey:0,onSelect:function(e,n){return t(r[n].name)}},r.map((function(e){return a.a.createElement(u.Tab,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name})})))};l.propTypes={location:i.a.shape({pathname:i.a.string.isRequired}),history:i.a.shape({push:i.a.func.isRequired}),tabItems:i.a.array.isRequired},t.a=Object(c.o)(l)},398:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r=n(84),a=n.n(r),o=n(31),i=n.n(o),c=n(3),s=n.n(c),u=n(52),l=n.n(u),p=n(0),f=n.n(p),d=n(1),m=n.n(d),b=n(354),y=n(468),g=n(467),h=n(86),v=n(34),O=n(2210),j=n(100),q=n(438);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t=e.isSelectable,n=e.createRows,r=e.columns,o=e.fetchData,c=e.toolbarButtons,s=e.data,u=e.actionResolver,d=e.routes,m=e.titlePlural,E=e.titleSingular,P=e.pagination,R=e.setCheckedItems,S=e.filterValue,C=e.onFilterChange,_=e.isLoading,D=e.onCollapse,k=e.renderEmptyState,x=e.sortBy,F=e.onSort,T=e.activeFiltersConfig,M=e.filterConfig,V=Object(O.a)(),N=Object(p.useState)([]),L=l()(N,2),A=L[0],I=L[1];Object(p.useEffect)((function(){I(n(s))}),[s]);var B=function(e,t){return e.map((function(e){return e.id===t?w({},e,{isOpen:!e.isOpen}):w({},e)}))},U=function(e,t){var n=e.map((function(e){return e.id===t?w({},e,{selected:!e.selected}):w({},e)})),r=n.filter((function(e){return e.id&&e.selected}));return R(r),n},K={itemCount:P.count,page:Object(h.b)(P.limit,P.offset),perPage:P.limit,onSetPage:function(e,t){return o(w({},P,{offset:Object(h.c)(t,P.limit)}))},onPerPageSelect:function(e,t){return o(w({},P,{limit:t}))},isDisabled:_};return f.a.createElement(j.Section,{type:"content","page-type":"tab-".concat(m),id:"tab-".concat(m)},d(),f.a.createElement(q.PrimaryToolbar,a()({className:"pf-u-p-lg ins__approval__primary_toolbar",pagination:K},c&&{actionsConfig:{actions:[c()]}},{filterConfig:{items:[{label:V.formatMessage({id:"name",defaultMessage:"Name"}),filterValues:{id:"filter-by-name",placeholder:V.formatMessage({id:"filter-by-name",defaultMessage:"Filter by {title}"},{title:E}),"aria-label":V.formatMessage({id:"filter-by-name",defaultMessage:"Filter by {title}"},{title:E}),onChange:function(e,t){return C(t)},value:S}}].concat(i()(M))},activeFiltersConfig:T})),_&&f.a.createElement(v.b,null),_||0!==A.length?f.a.createElement(p.Fragment,null,!_&&f.a.createElement(b.b,{"aria-label":"".concat(m," table"),onCollapse:function(e,t,n,r){var a=r.id;return D?D(a,I,B):I((function(e){return B(e,a)}))},rows:A,cells:r,onSelect:t&&function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.id;return I(-1===n?A.map((function(e){return w({},e,{selected:t})})):function(e){return U(e,a)})},actionResolver:u,className:"table-fix",sortBy:x,onSort:F},f.a.createElement(y.a,null),f.a.createElement(g.a,null)),P.count>0&&f.a.createElement(q.PrimaryToolbar,{className:"pf-u-pl-lg pf-u-pr-lg ins__approval__primary_toolbar",pagination:w({},K,{dropDirection:"up",variant:"bottom",isCompact:!1})})):k())};P.propTypes={isSelectable:m.a.bool,createRows:m.a.func.isRequired,columns:m.a.array.isRequired,toolbarButtons:m.a.func,fetchData:m.a.func.isRequired,data:m.a.array,pagination:m.a.shape({limit:m.a.number,offset:m.a.number,count:m.a.number}),titlePlural:m.a.string,titleSingular:m.a.string,routes:m.a.func,actionResolver:m.a.func,setCheckedItems:m.a.func,filterValue:m.a.string,onFilterChange:m.a.func,isLoading:m.a.bool,onCollapse:m.a.func,renderEmptyState:m.a.func,sortBy:m.a.object,onSort:m.a.func,activeFiltersConfig:m.a.object,filterConfig:m.a.array},P.defaultProps={requests:[],isLoading:!1,pagination:h.a,isSelectable:null,routes:function(){return null},renderEmptyState:function(){return null},onSort:function(){return null},filterConfig:[]}},408:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=(n(81),n(103)),s=n(111),u=n(104),l=n(456),p=n(25),f=n(43),d=n(409),m=(n(19),function(e){var t=e.title,n=e.Icon,r=e.description,o=e.PrimaryAction,i=e.renderDescription;return a.a.createElement(d.EmptyTable,{centered:!0,"aria-label":"No records"},a.a.createElement(c.EmptyState,{className:"pf-u-ml-auto pf-u-mr-auto"},a.a.createElement(s.EmptyStateIcon,{icon:n}),a.a.createElement(f.TextContent,null,a.a.createElement(p.Text,{component:p.TextVariants.h1},t)),a.a.createElement(u.EmptyStateBody,null,r,i()),a.a.createElement(l.EmptyStateSecondaryActions,null,o&&a.a.createElement(o,null))))});m.defaultProps={renderDescription:function(){return null}},m.propTypes={title:i.a.string.isRequired,Icon:i.a.any.isRequired,description:i.a.string.isRequired,PrimaryAction:i.a.any,renderDescription:i.a.func},t.a=m;i.a.string.isRequired,i.a.string.isRequired},412:function(e,t,n){"use strict";var r=n(3),a=n.n(r),o=n(52),i=n.n(o),c=n(0),s=n.n(c),u=n(1),l=n.n(u),p=n(84),f=n.n(p),d=n(94),m=n.n(d),b=n(363),y=n.n(b),g=n(427),h=n(31),v=n.n(h),O=n(436),j=n(437),q=n(54),E=n(43),w=n(25),P=function(e){var t=e.input,n=e.options,r=e.isReadOnly,a=e.isDisabled,o=(e.FieldProvider,e.isRequired),i=m()(e,["input","options","isReadOnly","isDisabled","FieldProvider","isRequired"]);return s.a.createElement(O.FormSelect,f()({},t,i,{isDisabled:a||r}),function(e,t,n){if(t&&n)return e;var r=v()(e);return r.find((function(e){return void 0===e.value}))?v()(r):[{label:n?"Please choose":"None"}].concat(v()(r))}(n,t.value,o).map((function(e){return s.a.createElement(j.FormSelectOption,f()({key:e.value||e.label},e,{label:e.label.toString()}))})))};P.propTypes={input:l.a.object.isRequired,options:l.a.arrayOf(l.a.shape({value:l.a.any,label:l.a.string.isRequired})).isRequired,isReadOnly:l.a.bool,isDisabled:l.a.bool,isRequired:l.a.bool,FieldProvider:l.a.any};var R=function(e){e.componentType;var t=e.label,n=e.isRequired,r=e.helperText,a=e.meta,o=e.description,i=e.hideLabel,c=m()(e,["componentType","label","isRequired","helperText","meta","description","hideLabel"]),u=a.error,l=a.touched&&u;return s.a.createElement(q.FormGroup,{isRequired:n,label:!i&&t,fieldId:c.id,isValid:!l,helperText:r,helperTextInvalid:a.error},o&&s.a.createElement(E.TextContent,null,s.a.createElement(w.Text,{component:w.TextVariants.small},o)),s.a.createElement(P,f()({label:t,isValid:!l,isRequired:n},c)))};R.propTypes={componentType:l.a.string,label:l.a.string,isRequired:l.a.bool,helperText:l.a.string,meta:l.a.object,description:l.a.string,hideLabel:l.a.bool};var S=R;function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D={default:{},modal:{buttonOrder:["cancel","reset","save"],buttonClassName:"modal-form-right-align"}},k=function(e){var t=e.componentMapper,n=e.formContainer,r=m()(e,["componentMapper","formContainer"]);return s.a.createElement("div",{className:D[n].buttonClassName},s.a.createElement(y.a,f()({formFieldsMapper:_({},g.formFieldsMapper,a()({componentMapper:t},b.componentTypes.SELECT,S)),layoutMapper:g.layoutMapper},D[n],r)))};k.propTypes={componentMapper:l.a.object,formContainer:l.a.oneOf(["default","modal"])},k.defaultProps={componentMapper:{},formContainer:"default"};var x=k,F=n(24),T=n(42),M=n(92),V=n(355),N=n(35),L=n(362),A=function(e){return{component:b.componentTypes.TEXTAREA_FIELD,name:"comments",type:"text",isRequired:e,label:e?"Reason":"Comment"}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=A(e);return e&&(t.validate=[{type:b.validatorTypes.REQUIRED}]),{fields:[t]}},B=n(351),U=n(347);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(e){var t=e.actionType,n=e.addNotification,r=e.createRequestAction,a=e.closeUrl,o=e.postMethod,c=Object(F.k)().push,u=Object(B.a)(["request"]),l=i()(u,1)[0].request,p=function(){var e="Add Comment"===t?t:"".concat(t," Request");n({variant:"warning",title:e,dismissable:!0,description:"".concat(e," was cancelled by the user.")}),c(a)};return s.a.createElement(V.Modal,{isLarge:!0,title:"Add Comment"===t?"Request #".concat(l):"".concat(t," Request #").concat(l),isOpen:!0,onClose:p},s.a.createElement(x,{schema:I("Deny"===t),schemaType:"default",onSubmit:function(e){var n={"Add Comment":"memo",Approve:"approve",Deny:"deny"},i="Add Comment"===t?t:"".concat(t," Request");return o?r(i,l,G({operation:n[t]},e)).then((function(){return o()})).then((function(){return c(a)})):r(i,l,G({operation:n[t]},e)).then((function(){return c(a)}))},onCancel:p,formContainer:"modal"}))};J.defaultProps={closeUrl:U.a.requests.index},J.propTypes={addNotification:l.a.func.isRequired,createRequestAction:l.a.func.isRequired,postMethod:l.a.func,id:l.a.string,actionType:l.a.string,closeUrl:l.a.string,match:l.a.object,location:l.a.object};t.a=Object(T.connect)(null,(function(e){return Object(M.a)({addNotification:N.addNotification,createRequestAction:L.b},e)}))(J)}}]);
//# sourceMappingURL=../sourcemaps/requests.js.map