(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{2205:function(e,t,n){"use strict";n.r(t);var r=n(31),a=n.n(r),o=n(47),c=n.n(o),i=n(3),l=n.n(i),u=n(0),s=n.n(u),p=n(1),d=n.n(p),f=n(39),m=n(18),b=n(74),y=n(375),h=n(364),v=n(416),O=n(21),g=n.n(O),E=n(26),j=n(149),q=n(148),w=n(150),P=n(151),R=n(87),T=n(462),C=n(42),x=n(376),S=n(44),D=n(347),k=function(e){var t=e.title,n=void 0===t?"":t,r=e.detail,a=void 0===r?"":r;return s.a.createElement(j.TextContent,null,s.a.createElement(q.Text,{className:"data-table-detail heading",component:q.TextVariants.small},n),s.a.createElement(q.Text,{className:"data-table-detail content",component:q.TextVariants.h5},a))};k.propTypes={title:d.a.node,detail:d.a.node};var F=function(e){var t=e.id,n=e.number_of_children,r=e.state,a=e.reason,o=Object(C.f)(r)&&!n,i=Object(u.useState)([]),l=c()(i,2),p=l[0],d=l[1],m=Object(u.useState)(!0),y=c()(m,2),h=y[0],v=y[1],O=Object(u.useState)(!1),g=c()(O,2),j=g[0],q=g[1],F=Object(u.useContext)(S.a).userPersona,_=Object(f.useSelector)((function(e){return e.requestReducer.expandedRequests}));return Object(u.useEffect)((function(){!j&&h&&_.includes(t)&&(q(!0),Object(x.b)(t).then((function(e){d(e),v(!1)})).catch((function(){return v(!1)})))}),[_]),h?s.a.createElement(R.Bullseye,null,s.a.createElement(T.Spinner,null)):s.a.createElement(u.Fragment,null,s.a.createElement(w.Level,null,s.a.createElement(P.LevelItem,null,s.a.createElement(k,{title:"Product",detail:p?p.product:"Unknown"})),o&&Object(C.e)(F)&&s.a.createElement(P.LevelItem,null,s.a.createElement(E.Link,{to:{pathname:D.a.requests.approve,search:"request=".concat(t)},className:"pf-u-mr-md"},s.a.createElement(b.Button,{variant:"primary","aria-label":"Approve Request",isDisabled:!o},"Approve")),s.a.createElement(E.Link,{to:{pathname:D.a.requests.deny,search:"request=".concat(t)}},s.a.createElement(b.Button,{variant:"danger","aria-label":"Deny Request"},"Deny")))),s.a.createElement(w.Level,null,s.a.createElement(P.LevelItem,null,s.a.createElement(k,{title:"Portfolio",detail:p?p.portfolio:"Unknown"}),s.a.createElement(k,{title:"Platform",detail:p?p.platform:"Unknown"}),s.a.createElement(k,{title:"Reason",detail:a||""}))))};F.propTypes={id:d.a.string,content:d.a.object,number_of_children:d.a.number,uname:d.a.string,state:d.a.string,reason:d.a.string};var _=F,N=function(e){return e.reduce((function(e,t,n){var r=t.id,a=t.name,o=t.requester_name,c=t.created_at,i=t.notified_at,l=t.finished_at,p=t.state,d=t.decision,f=t.reason,m=t.number_of_children;return[].concat(g()(e),[{id:r,isOpen:!1,state:p,number_of_children:m,cells:[s.a.createElement(u.Fragment,{key:r},s.a.createElement(E.Link,{to:{pathname:D.a.request.index,search:"?request=".concat(r)}},a)),o,Object(C.h)(c),l?Object(C.h)(l):i?Object(C.h)(i):Object(C.h)(c),p,d]},{parent:2*n,fullWidth:!0,cells:[{title:s.a.createElement(_,{id:r,number_of_children:m,state:p,reason:f})}]}])}),[])},L=n(417),A=n(374),I=n(398),V=n(76),M=n(363),B=n(561),U=n(412);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=[{title:"Name",cellFormatters:[y.b]},"Requester","Opened","Updated","Status","Decision"],Q=Object(M.a)((function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:V.a;n(!0),t(Object(h.e)(e,r,a)).then((function(){return n(!1)}))}),1e3),W={filterValue:"",isOpen:!1,isFetching:!0,isFiltering:!1},X=function(e,t){switch(t.type){case"setFetching":return G({},e,{isFetching:t.payload});case"setFilterValue":return G({},e,{filterValue:t.payload});case"setFilteringFlag":return G({},e,{isFiltering:t.payload});default:return e}},z=function(){var e=Object(u.useReducer)(X,W),t=c()(e,2),n=t[0],r=n.filterValue,o=n.isFetching,i=n.isFiltering,l=t[1],p=Object(f.useSelector)((function(e){return e.requestReducer.requests})),d=p.data,y=p.meta,O=Object(u.useContext)(S.a).userPersona,g=Object(f.useDispatch)(),E=Object(m.k)();Object(u.useEffect)((function(){g(Object(h.e)(r,V.a,O)).then((function(){return l({type:"setFetching",payload:!1})})),Object(C.g)()}),[]);var j=function(e){l({type:"setFilterValue",payload:e}),Q(e,g,(function(e){return l({type:"setFilteringFlag",payload:e})}),G({},y,{offset:0}),O)},q=function(e,t){l({type:"setFetching",payload:!0}),g(Object(h.e)(r,t,O)).then((function(){return l({type:"setFetching",payload:!1})})).catch((function(){return l({type:"setFetching",payload:!1})}))};return s.a.createElement(u.Fragment,null,s.a.createElement(A.a,null,s.a.createElement(A.b,{title:"Approval"}),Object(C.d)(O)&&s.a.createElement(I.a,{tabItems:[{eventKey:0,title:"Request queue",name:"/requests"},{eventKey:1,title:"Approval processes",name:"/workflows"}]})),s.a.createElement(L.a,{data:d,createRows:N,columns:J,fetchData:q,routes:function(){return s.a.createElement(u.Fragment,null,s.a.createElement(m.d,{exact:!0,path:D.a.requests.addComment,render:function(e){return s.a.createElement(v.a,a()({},e,{actionType:"Add Comment",postMethod:h.e}))}}),s.a.createElement(m.d,{exact:!0,path:D.a.requests.approve,render:function(e){return s.a.createElement(v.a,a()({},e,{actionType:"Approve",postMethod:h.e}))}}),s.a.createElement(m.d,{exact:!0,path:D.a.requests.deny,render:function(e){return s.a.createElement(v.a,a()({},e,{actionType:"Deny",postMethod:h.e}))}}))},actionResolver:function(e){return e&&e.id&&function(e){return!e||!e.state||(!Object(C.f)(e.state)||e.number_of_children>0||!Object(C.e)(O))}(e)?null:[{title:"Comment",onClick:function(){return E.push({pathname:D.a.requests.addComment,search:"?request=".concat(e.id)})}}]},titlePlural:"requests",titleSingular:"request",pagination:y,handlePagination:q,filterValue:r,onFilterChange:j,isLoading:o||i,onCollapse:function(e,t,n){g(Object(h.b)(e)),t((function(t){return n(t,e)}))},renderEmptyState:function(){return s.a.createElement(U.a,{title:""===r?"No requests":"No results found",Icon:B.SearchIcon,PrimaryAction:function(){return""!==r?s.a.createElement(b.Button,{onClick:function(){return j("")},variant:"link"},"Clear all filters"):null},description:""===r?"":"No results match the filter criteria. Remove all filters or clear all filters to show results."})}}))};z.propTypes={requests:d.a.array,isLoading:d.a.bool},z.defaultProps={requests:[],isLoading:!1};t.default=z},347:function(e,t,n){"use strict";t.a={requests:{index:"/requests",addComment:"/requests/add-comment",approve:"/requests/approve",deny:"/requests/deny"},request:{index:"/request",addComment:"/request/add-comment",approve:"/request/approve",deny:"/request/deny"},workflows:{index:"/workflows",add:"/workflows/add-workflow",remove:"/workflows/remove",editInfo:"/workflows/edit-info",editGroups:"/workflows/edit-groups",editSequence:"/workflows/edit-sequence"}}},353:function(e,t,n){"use strict";var r=n(3),a=n.n(r),o=n(18);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(o.l)(),n=t.search,r=new URLSearchParams(n);return[e.reduce((function(e,t){return i({},e,a()({},t,r.get(t)))}),{}),n,r]}},363:function(e,t,n){"use strict";var r=n(373);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(r.a)(e,t,n)}},364:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(4),a=n(376),o=function(e,t,n){return{type:r.h,payload:a.d(e,t,n)}},c=function(e,t){return{type:r.g,payload:a.c(e,t)}},i=function(e,t){return{type:r.i,payload:a.b(e,t)}},l=function(e,t,n){return{type:r.b,payload:a.a(t,n),meta:{notifications:{fulfilled:{variant:"success",title:"Success",description:"The ".concat(e," was successful.")},rejected:{variant:"danger",title:"".concat(e," error"),description:"The ".concat(e," action failed.")}}}}},u=function(e){return{type:r.c,payload:e}}},366:function(e,t,n){},374:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),c=n.n(o),i=n(150),l=n(151),u=n(148),s=n(149),p=n(40),d=n(26),f=n(378),m=n(379),b=function(e){var t=e.breadcrumbs;return t?a.a.createElement(f.Breadcrumb,null,Object.values(t).map((function(e){return a.a.createElement(m.BreadcrumbItem,{key:e.title,isActive:e.isActive},e.to&&a.a.createElement(d.NavLink,{isActive:function(){return!1},exact:!0,to:e.to},e.title)||e.title)}))):null};b.propTypes={breadcrumbs:c.a.arrayOf(c.a.shape({title:c.a.string.isRequired,isActive:c.a.bool,to:c.a.string}))};var y=b;n(366);n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v}));var h=function(e){var t=e.children,n=e.breadcrumbs,r=e.paddingBottom;return a.a.createElement("div",{className:"pf-u-pt-lg pf-u-pr-lg pf-u-pl-lg ".concat(r?"pf-u-pb-sm":""," top-toolbar")},n&&a.a.createElement(i.Level,{className:"pf-u-mb-md"},a.a.createElement(y,{breadcrumbs:n})),t)};h.propTypes={children:c.a.oneOfType([c.a.arrayOf(c.a.node),c.a.node]).isRequired,breadcrumbs:c.a.array,paddingBottom:c.a.bool},h.defaultProps={paddingBottom:!1};var v=function(e){var t=e.title,n=e.description,o=e.children;return a.a.createElement(r.Fragment,null,a.a.createElement(i.Level,null,a.a.createElement(l.LevelItem,null,a.a.createElement(s.TextContent,{className:"pf-u-mb-sm"},a.a.createElement(u.Text,{component:u.TextVariants.h1},t||a.a.createElement(p.d,null))),n&&a.a.createElement(s.TextContent,{className:"pf-u-pt-sm pf-u-mb-md"},a.a.createElement(u.Text,{component:u.TextVariants.p},n))),o))};v.propTypes={title:c.a.string,description:c.a.string,children:c.a.oneOfType([c.a.node,c.a.arrayOf(c.a.node)])}},376:function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return q}));var r=n(34),a=n.n(r),o=n(3),c=n.n(o),i=n(51),l=n.n(i),u=n(82),s=n(23),p=n(76),d=n(42);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=Object(u.a)(),y=Object(u.c)();function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r="&limit=".concat(t.limit,"&offset=").concat(t.offset),a="filter[name][contains_i]=".concat(e),o="".concat(s.a,"/requests/?").concat(a).concat(r),c=n?{"x-rh-persona":n}:void 0;return Object(u.b)()({method:"get",url:o,headers:c})}var v=function(e,t){var n,r=t&&t!==d.a?{"x-rh-persona":t}:{"x-rh-persona":d.b};return y({method:"post",url:"".concat(s.a,"/graphql"),headers:r,data:{query:(n=e,'query {\n  requests(id: "'.concat(n,'") {\n    id\n    name\n    number_of_children\n    decision\n    description\n    group_name\n    number_of_finished_children\n    state\n    actions {\n      id\n      operation\n      comments\n      created_at\n      processed_by\n    }\n    requests {\n      id\n      name\n      number_of_children\n      decision\n      description\n      group_name\n      number_of_finished_children\n      state\n      workflow_id\n      parent_id\n      actions {\n        id\n        operation\n        comments\n        created_at\n        processed_by\n      }\n    }\n  }\n}'))}}).then((function(e){return e.data.requests}))},O=function(e){var t="".concat(s.a,"/requests/").concat(e,"/content"),n={"x-rh-persona":d.b};return Object(u.b)()({method:"get",url:t,headers:n})},g=function(e,t){var n="".concat(s.a,"/requests/").concat(e).concat(t?"/requests":""),r={"x-rh-persona":d.b};return Object(u.b)()({method:"get",url:n,headers:r})};function E(e,t){return j.apply(this,arguments)}function j(){return(j=l()(a.a.mark((function e(t,n){var r,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t,n);case 2:if((r=e.sent)&&0!==r.length){e.next=5;break}return e.abrupt("return",{});case 5:if(n!==d.a){e.next=17;break}if(!(r&&r.length>0&&r[0].number_of_children>0)){e.next=13;break}return e.next=9,g(t,!0);case 9:(o=e.sent)&&o.data&&(r[0].requests=r[0].requests.map((function(e){return m({},o.data.find((function(t){return t.id===e.id&&t.metadata})),{},e)}))),e.next=17;break;case 13:return e.next=15,g(t,!1);case 15:(c=e.sent)&&(r[0]=m({},r[0],{metadata:c.metadata}));case 17:return e.abrupt("return",m({},r[0]));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t){return w.apply(this,arguments)}function w(){return(w=l()(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.createAction(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},398:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),c=n.n(o),i=n(18),l=n(396),u=n(395),s=function(e){var t=e.history.push,n=e.location.pathname,r=e.tabItems,o=r.find((function(e){var t=e.name;return n.includes(t)}));return a.a.createElement(l.Tabs,{className:"pf-u-mt-sm",activeKey:o?o.eventKey:0,onSelect:function(e,n){return t(r[n].name)}},r.map((function(e){return a.a.createElement(u.Tab,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name})})))};s.propTypes={location:c.a.shape({pathname:c.a.string.isRequired}),history:c.a.shape({push:c.a.func.isRequired}),tabItems:c.a.array.isRequired},t.a=Object(i.o)(s)},412:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),c=n.n(o),i=(n(74),n(88)),l=n(96),u=n(89),s=n(413),p=n(148),d=n(149),f=n(369),m=(n(26),function(e){var t=e.title,n=e.Icon,r=e.description,o=e.PrimaryAction,c=e.renderDescription;return a.a.createElement(f.EmptyTable,{centered:!0,"aria-label":"No records"},a.a.createElement(i.EmptyState,{className:"pf-u-ml-auto pf-u-mr-auto"},a.a.createElement(l.EmptyStateIcon,{icon:n}),a.a.createElement(d.TextContent,null,a.a.createElement(p.Text,{component:p.TextVariants.h1},t)),a.a.createElement(u.EmptyStateBody,null,r,c()),a.a.createElement(s.EmptyStateSecondaryActions,null,o&&a.a.createElement(o,null))))});m.defaultProps={renderDescription:function(){return null}},m.propTypes={title:c.a.string.isRequired,Icon:c.a.any.isRequired,description:c.a.string.isRequired,PrimaryAction:c.a.any,renderDescription:c.a.func},t.a=m;c.a.string.isRequired,c.a.string.isRequired},416:function(e,t,n){"use strict";var r=n(3),a=n.n(r),o=n(47),c=n.n(o),i=n(0),l=n.n(i),u=n(1),s=n.n(u),p=n(31),d=n.n(p),f=n(50),m=n.n(f),b=n(365),y=n.n(b),h=n(423),v=n(21),O=n.n(v),g=n(434),E=n(435),j=n(49),q=n(149),w=n(148),P=function(e){var t=e.input,n=e.options,r=e.isReadOnly,a=e.isDisabled,o=(e.FieldProvider,e.isRequired),c=m()(e,["input","options","isReadOnly","isDisabled","FieldProvider","isRequired"]);return l.a.createElement(g.FormSelect,d()({},t,c,{isDisabled:a||r}),function(e,t,n){if(t&&n)return e;var r=O()(e);return r.find((function(e){return void 0===e.value}))?O()(r):[{label:n?"Please choose":"None"}].concat(O()(r))}(n,t.value,o).map((function(e){return l.a.createElement(E.FormSelectOption,d()({key:e.value||e.label},e,{label:e.label.toString()}))})))};P.propTypes={input:s.a.object.isRequired,options:s.a.arrayOf(s.a.shape({value:s.a.any,label:s.a.string.isRequired})).isRequired,isReadOnly:s.a.bool,isDisabled:s.a.bool,isRequired:s.a.bool,FieldProvider:s.a.any};var R=function(e){e.componentType;var t=e.label,n=e.isRequired,r=e.helperText,a=e.meta,o=e.description,c=e.hideLabel,i=m()(e,["componentType","label","isRequired","helperText","meta","description","hideLabel"]),u=a.error,s=a.touched&&u;return l.a.createElement(j.FormGroup,{isRequired:n,label:!c&&t,fieldId:i.id,isValid:!s,helperText:r,helperTextInvalid:a.error},o&&l.a.createElement(q.TextContent,null,l.a.createElement(w.Text,{component:w.TextVariants.small},o)),l.a.createElement(P,d()({label:t,isValid:!s,isRequired:n},i)))};R.propTypes={componentType:s.a.string,label:s.a.string,isRequired:s.a.bool,helperText:s.a.string,meta:s.a.object,description:s.a.string,hideLabel:s.a.bool};var T=R;function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={default:{},modal:{buttonOrder:["cancel","reset","save"],buttonClassName:"modal-form-right-align"}},D=function(e){var t=e.componentMapper,n=e.formContainer,r=m()(e,["componentMapper","formContainer"]);return l.a.createElement("div",{className:S[n].buttonClassName},l.a.createElement(y.a,d()({formFieldsMapper:x({},h.formFieldsMapper,a()({componentMapper:t},b.componentTypes.SELECT,T)),layoutMapper:h.layoutMapper},S[n],r)))};D.propTypes={componentMapper:s.a.object,formContainer:s.a.oneOf(["default","modal"])},D.defaultProps={componentMapper:{},formContainer:"default"};var k=D,F=n(18),_=n(39),N=n(81),L=n(356),A=n(32),I=n(364),V=function(e){return{component:b.componentTypes.TEXTAREA_FIELD,name:"comments",type:"text",isRequired:e,label:e?"Reason":"Comment"}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=V(e);return e&&(t.validate=[{type:b.validatorTypes.REQUIRED}]),{fields:[t]}},B=n(353),U=n(347);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(e){var t=e.actionType,n=e.addNotification,r=e.createRequestAction,a=e.closeUrl,o=e.postMethod,i=Object(F.k)().push,u=Object(B.a)(["request"]),s=c()(u,1)[0].request,p=function(){var e="Add Comment"===t?t:"".concat(t," Request");n({variant:"warning",title:e,dismissable:!0,description:"".concat(e," was cancelled by the user.")}),i(a)};return l.a.createElement(L.Modal,{isLarge:!0,title:"Add Comment"===t?"Request #".concat(s):"".concat(t," Request #").concat(s),isOpen:!0,onClose:p},l.a.createElement(k,{schema:M("Deny"===t),schemaType:"default",onSubmit:function(e){var n={"Add Comment":"memo",Approve:"approve",Deny:"deny"},c="Add Comment"===t?t:"".concat(t," Request");return o?r(c,s,G({operation:n[t]},e)).then((function(){return o()})).then((function(){return i(a)})):r(c,s,G({operation:n[t]},e)).then((function(){return i(a)}))},onCancel:p,formContainer:"modal"}))};J.defaultProps={closeUrl:U.a.requests.index},J.propTypes={addNotification:s.a.func.isRequired,createRequestAction:s.a.func.isRequired,postMethod:s.a.func,id:s.a.string,actionType:s.a.string,closeUrl:s.a.string,match:s.a.object,location:s.a.object};t.a=Object(_.connect)(null,(function(e){return Object(N.a)({addNotification:A.addNotification,createRequestAction:I.a},e)}))(J)},417:function(e,t,n){"use strict";var r=n(3),a=n.n(r),o=n(47),c=n.n(o),i=n(0),l=n.n(i),u=n(1),s=n.n(u),p=n(399),d=n(380),f=n(358),m=n(150),b=n(151),y=n(359),h=n(476),v=n(475),O=n(76),g=n(368),E=n.n(g),j=n(153),q=n.n(j),w=n(357),P=function(e){var t=e.searchValue,n=e.onFilterChange,r=e.placeholder,a=e.isClearable;return l.a.createElement(f.ToolbarItem,null,l.a.createElement("div",{className:"toolbar-filter-input-group"},l.a.createElement(w.TextInput,{placeholder:r,value:t,type:"text",onChange:n,"aria-label":r}),l.a.createElement("span",{className:"filter-icons-container"},a&&t&&l.a.createElement(q.a,{className:"clear-filter",width:"16",height:"16",onClick:function(){return n("")}})||l.a.createElement(E.a,null))))};P.propTypes={onFilterChange:s.a.func.isRequired,placeholder:s.a.string,searchValue:s.a.string,isClearable:s.a.bool},P.defaultProps={searchValue:"",isClearable:!1};var R=P,T=n(369),C=n(40),x=n(31),S=n.n(x),D=n(50),k=n.n(D),F=n(373),_=n(155),N=function(e){var t=e.meta,n=t.limit,r=t.count,a=t.offset,o=e.apiProps,c=e.apiRequest,i=e.className,u=e.isCompact,s=k()(e,["meta","apiProps","apiRequest","className","isCompact"]);return l.a.createElement("div",{className:i},l.a.createElement(_.Pagination,S()({perPage:n||50,itemCount:r||0,onPerPageSelect:function(e,t){return c(o,{offset:a,limit:t})},page:Object(O.b)(n,a),onSetPage:function(e,t,r){var a={offset:Object(O.c)(t,n),limit:n},i=function(){return c(o,a)};return r?Object(F.a)(i,250)():i()},direction:"down",isCompact:u},s)))};N.propTypes={meta:s.a.shape({count:s.a.number,limit:s.a.number.isRequired,offset:s.a.number.isRequired}),apiRequest:s.a.func.isRequired,apiProps:s.a.any,className:s.a.string,isCompact:s.a.bool},N.defaultProps={meta:{count:0,limit:50,offset:0},className:"",isCompact:!1};var L=N,A=function(e){var t=e.children;return l.a.createElement("div",{className:"pf-u-p-lg pf-u-pt-md pf-u-pb-md global-primary-background pf-u-mt-auto"},t)};A.propTypes={children:s.a.oneOfType([s.a.node,s.a.arrayOf(s.a.node)])};var I=A;function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return B}));var B=function(e){var t=e.isSelectable,n=e.createRows,r=e.columns,a=e.fetchData,o=e.toolbarButtons,u=e.data,s=e.actionResolver,O=e.routes,g=e.titlePlural,E=e.titleSingular,j=e.pagination,q=e.setCheckedItems,w=e.filterValue,P=e.onFilterChange,x=e.isLoading,S=e.onCollapse,D=e.renderEmptyState,k=Object(i.useState)([]),F=c()(k,2),_=F[0],N=F[1];Object(i.useEffect)((function(){N(n(u))}),[u]);var A=function(e,t){return e.map((function(e){return e.id===t?M({},e,{isOpen:!e.isOpen}):M({},e)}))},V=function(e,t){var n=e.map((function(e){return e.id===t?M({},e,{selected:!e.selected}):M({},e)})),r=n.filter((function(e){return e.id&&e.selected}));return q(r),n};return l.a.createElement(T.Section,{type:"content","page-type":"tab-".concat(g),id:"tab-".concat(g)},O(),function(e){return l.a.createElement(p.Toolbar,{className:"pf-u-pt-lg pf-u-pr-lg pf-u-pl-lg pf-u-pb-lg top-toolbar"},l.a.createElement(m.Level,{style:{flex:1}},l.a.createElement(b.LevelItem,null,l.a.createElement(p.Toolbar,null,l.a.createElement(R,{onFilterChange:P,searchValue:w,isClearable:!0,placeholder:"Filter by ".concat(E)}),o())),l.a.createElement(b.LevelItem,null,l.a.createElement(p.Toolbar,null,l.a.createElement(d.ToolbarGroup,null,l.a.createElement(f.ToolbarItem,null,l.a.createElement(L,{apiRequest:a,isDisabled:e,meta:j,isCompact:!0})))))))}(x),x&&l.a.createElement(C.b,null),x||0!==_.length?l.a.createElement(i.Fragment,null,!x&&l.a.createElement(y.b,{"aria-label":"".concat(g," table"),onCollapse:function(e,t,n,r){var a=r.id;return S?S(a,N,A):N((function(e){return A(e,a)}))},rows:_,cells:r,onSelect:t&&function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.id;return N(-1===n?_.map((function(e){return M({},e,{selected:t})})):function(e){return V(e,a)})},actionResolver:s,className:"table-fix"},l.a.createElement(h.a,null),l.a.createElement(v.a,null)),j.count>0&&l.a.createElement(I,null,l.a.createElement(L,{dropDirection:"up",meta:j,apiRequest:a}))):D())};B.propTypes={isSelectable:s.a.bool,createRows:s.a.func.isRequired,columns:s.a.array.isRequired,toolbarButtons:s.a.func,fetchData:s.a.func.isRequired,data:s.a.array,pagination:s.a.shape({limit:s.a.number,offset:s.a.number,count:s.a.number}),titlePlural:s.a.string,titleSingular:s.a.string,routes:s.a.func,actionResolver:s.a.func,setCheckedItems:s.a.func,filterValue:s.a.string,onFilterChange:s.a.func,isLoading:s.a.bool,onCollapse:s.a.func,renderEmptyState:s.a.func},B.defaultProps={requests:[],isLoading:!1,pagination:O.a,toolbarButtons:function(){return null},isSelectable:null,routes:function(){return null},renderEmptyState:function(){return null}}}}]);
//# sourceMappingURL=../sourcemaps/requests.js.map