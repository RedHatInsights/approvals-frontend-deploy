{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/utilities/async-debounce.js","webpack:///./src/redux/action-types.js","webpack:///./src/smart-components/app-tabs/app-tabs.js","webpack:///./src/presentational-components/shared/filter-toolbar-item.js","webpack:///./src/smart-components/common/async-pagination.js","webpack:///./src/presentational-components/shared/table-toolbar-view.js","webpack:///./src/presentational-components/shared/loader-placeholders.js","webpack:///./src/helpers/shared/helpers.js","webpack:///./src/helpers/shared/pagination.js","webpack:///./src/utilities/constants.js","webpack:///./src/helpers/request/request-helper.js","webpack:///./src/redux/actions/request-actions.js","webpack:///./src/presentational-components/shared/pf4-select-wrapper.js","webpack:///./src/smart-components/common/form-renderer.js","webpack:///./src/forms/request-comment-form.schema.js","webpack:///./src/smart-components/request/action-modal.js","webpack:///./src/smart-components/request/expandable-content.js","webpack:///./src/smart-components/request/request-table-helpers.js","webpack:///./src/smart-components/request/request-detail/request-info-bar.js","webpack:///./src/smart-components/request/request-detail/action-transcript.js","webpack:///./src/smart-components/request/request-detail/request.js","webpack:///./src/smart-components/request/request-detail/request-list.js","webpack:///./src/smart-components/request/request-detail/request-transcript.js","webpack:///./src/smart-components/request/request-detail/request-detail.js","webpack:///./src/smart-components/request/requests.js","webpack:///./src/helpers/group/group-helper.js","webpack:///./src/helpers/workflow/workflow-helper.js","webpack:///./src/redux/actions/workflow-actions.js","webpack:///./src/smart-components/workflow/add-stages/summary-content.js","webpack:///./src/smart-components/workflow/add-stages/stage-information.js","webpack:///./src/redux/actions/group-actions.js","webpack:///./src/smart-components/workflow/add-stages/set-stages.js","webpack:///./src/smart-components/workflow/add-stages/add-stages-wizard.js","webpack:///./src/smart-components/workflow/edit-workflow-info-modal.js","webpack:///./src/smart-components/workflow/edit-workflow-stages-modal.js","webpack:///./src/smart-components/workflow/remove-workflow-modal.js","webpack:///./src/smart-components/workflow/expandable-content.js","webpack:///./src/smart-components/workflow/workflow-table-helpers.js","webpack:///./src/smart-components/workflow/workflows.js","webpack:///./src/redux/reducers/request-reducer.js","webpack:///./src/redux/reducers/workflow-reducer.js","webpack:///./src/redux/reducers/group-reducer.js","webpack:///./src/utilities/store.js","webpack:///./src/Routes.js","webpack:///./src/App.js","webpack:///./src/entry.js","webpack:///./src/helpers/shared/user-login.js","webpack:///./src/presentational-components/shared/breadcrubms.js","webpack:///./src/presentational-components/shared/top-toolbar.js"],"names":["i","chunkIds","length","deferredModules","j","deferredModule","enumerable","get","getter","value","key","bind","module","Object","prototype","hasOwnProperty","call","object","property","jsonpArray","webpackJsonpCallback","asyncFunction","debounceTime","options","onlyResolvesLast","awesomeDebouncePromise","FETCH_REQUEST","FETCH_REQUEST_CONTENT","FETCH_REQUESTS","EXPAND_REQUEST","CREATE_REQUEST_ACTION","FETCH_WORKFLOW","FETCH_WORKFLOWS","ADD_WORKFLOW","UPDATE_WORKFLOW","REMOVE_WORKFLOW","REMOVE_WORKFLOWS","EXPAND_WORKFLOW","FETCH_RBAC_GROUPS","FETCH_GROUP_NAMES","AppTabs","push","history","pathname","location","tabItems","activeTab","find","name","includes","className","activeKey","eventKey","onSelect","_event","tabIndex","map","item","title","propTypes","PropTypes","shape","string","isRequired","func","array","withRouter","FilterToolbarItem","searchValue","onFilterChange","placeholder","isClearable","ToolbarItem","TextInput","type","onChange","aria-label","width","height","onClick","bool","defaultProps","AsyncPagination","meta","limit","count","offset","apiProps","apiRequest","isCompact","props","Pagination","perPage","itemCount","onPerPageSelect","page","getCurrentPage","onSetPage","number","debounce","getNewPage","request","debouncePromise","direction","any","TableToolbarView","isSelectable","createRows","columns","fetchData","toolbarButtons","data","actionResolver","routes","titlePlural","titleSingular","pagination","setCheckedItems","filterValue","isLoading","onCollapse","useState","rows","setRows","useEffect","setOpen","id","row","isOpen","setSelected","newData","selected","checkedItems","filter","page-type","Toolbar","Level","style","flex","LevelItem","ToolbarGroup","isDisabled","renderToolbar","Table","_index","_isOpen","cells","index","requests","defaultSettings","RequestInfoBarLoader","speed","primaryColor","secondaryColor","x","y","rx","ry","RequestLoader","items","gutter","md","margin","Array","_item","aria-labelledby","dataListCells","AppPlaceholder","DataListLoader","FormItemLoader","WorkflowStageLoader","fieldId","ToolbarTitlePlaceholder","activeStates","scrollToTop","document","getElementById","scrollTo","behavior","top","left","isRequestStateActive","state","timeAgo","date","numberOfItems","Math","floor","APPROVAL_API_BASE","process","RBAC_API_BASE","requestApi","getRequestApi","actionApi","getActionApi","graphqlInstance","getGraphqlInstance","fetchRequests","paginationQuery","filterQuery","getAxiosInstance","fetchRequestTranscript","requestId","post","query","parent_id","then","fetchRequestActions","listActionsByRequest","fetchRequestContent","fetchRequestWithSubrequests","a","showRequest","requestData","number_of_children","subRequests","children","requestActions","actions","createRequestAction","actionIn","createAction","ActionTypes","payload","RequestHelper","actionName","notifications","fulfilled","variant","description","rejected","Select","input","isReadOnly","FieldProvider","rest","FormSelect","inputValue","selectOptions","undefined","label","createOptions","FormSelectOption","toString","arrayOf","Pf4SelectWrapper","componentType","helperText","hideLabel","error","showError","touched","FormGroup","isValid","helperTextInvalid","TextContent","Text","component","TextVariants","small","buttonPositioning","default","modal","buttonOrder","buttonClassName","FormRenderer","componentMapper","formContainer","formFieldsMapper","componentTypes","SELECT","layoutMapper","oneOf","schemaFields","isDeny","TEXTAREA_FIELD","createRequestCommentSchema","schema","validate","validatorTypes","REQUIRED","fields","ActionModal","match","params","actionType","addNotification","closeUrl","postMethod","onCancel","dismissable","Modal","isLarge","onClose","schemaType","onSubmit","operationType","Approve","Deny","operation","connect","dispatch","bindActionCreators","ExpandedItem","detail","h5","node","ExpandableContent","reason","requestActive","requestContent","setRequestContent","setIsLoading","fetchStarted","setIsFetching","expandedRequests","useSelector","requestReducer","Bullseye","product","to","Button","portfolio","platform","content","uname","reduce","acc","requester_name","created_at","notified_at","finished_at","decision","parent","fullWidth","RequestInfoBar","h6","keys","param","operationDisplayName","memo","approve","deny","notify","skip","cancel","start","operationIcon","color","ActionTranscript","actionList","Stack","actionItem","marginBottom","processed_by","comments","Request","isKebabOpen","setState","Dropdown","position","DropdownPosition","right","onKebabSelect","toggle","KebabToggle","onToggle","onKebabToggle","dropdownItems","DropdownItem","isPlain","this","isExpanded","DataListItem","DataListItemRow","DataListToggle","toggleExpand","DataListItemCells","DataListCell","idx","textTransform","buildRequestActionKebab","DataListContent","isHidden","StackItem","fetchRequestDetails","Component","noItems","RequestList","expanded","indexOf","slice","DataList","isActive","active_request","RequestTranscript","Title","size","paddingLeft","initialState","isFetching","requestState","action","RequestDetail","useReducer","stateDispatch","selectedRequest","useParams","useLocation","useDispatch","Promise","all","exact","path","render","url","breadcrumbs","paddingBottom","Grid","backgroundColor","minHeight","GridItem","cellFormatters","expandable","debouncedFilter","asyncDebounce","filteringCallback","isFiltering","requestsListState","Requests","useHistory","handleFilterChange","areActionsDisabled","handlePagination","_apiProps","expandRequest","api","getRbacGroupApi","getRbacGroups","listGroups","fetchGroupNames","groupRefs","getGroup","group","status","workflowApi","getWorkflowApi","templateApi","getTemplateApi","fetchWorkflows","fetchWorkflowWithGroups","showWorkflow","wfData","group_refs","wfWithGroups","group_names","removeWorkflow","workflowId","destroyWorkflow","removeWorkflows","selectedWorkflows","WorkflowHelper","fetchWorkflow","addWorkflow","workflowData","workflow","listTemplates","Error","addWorkflowToTemplate","updateWorkflow","workflows","SummaryContent","formData","wfGroups","span","p","stage","StageInformation","handleChange","Form","aria-describedby","_","event","currentTarget","TextArea","fetchRbacGroups","GroupHelper","uuid","SetStages","setExpanded","stageValues","setStageValues","stageIndex","setStageIndex","setInputValue","defaultOptions","groupReducer","groups","removeStage","parseInt","target","values","loadGroupOptions","createStageInput","cacheOptions","e","inpuValue","isexpanded","loadOptions","onInputChange","replace","display","isInline","_stage","borderTop","AddWorkflow","rbacGroups","setValues","steps","nextButtonText","Wizard","onSave","initialValues","oneOfType","EditWorkflowInfoModal","setFormData","ActionGroup","Split","SplitItem","editType","workflowReducer","isRecordLoading","EditWorkflowStagesModal","result","stageOptions","RemoveWorkflowModal","goBack","ids","setSelectedWorkflows","isSmall","h1","defaultMessage","groupNames","setGroupNames","isLoaded","setIsLoaded","fetching","setFetching","expandedWorkflows","ref","fetchGroupName","join","SkeletonSize","sm","sequence","workflowsListState","Workflows","anyWorkflowsSelected","rowIndex","_rowId","checkedWorkflows","wf","expandWorkflow","setLoadingState","isRequestDataLoading","registry","ReducerRegistry","thunk","promiseMiddleware","notificationsMiddleware","errorTitleKey","errorDescriptionKey","reduxLogger","register","applyReducerHash","getStore","lazy","paths","InsightsRoute","rootClass","root","removeAttribute","classList","add","setAttribute","Routes","fallback","App","chromeNavAvailable","auth","insights","chrome","init","getUser","identifyApp","locale","Fragment","marginLeft","padding","pathName","window","split","shift","release","ReactDOM","store","basename","axiosInstance","axios","create","interceptors","use","config","response","WorkflowApi","ActionApi","RequestApi","TemplateApi","rbacGroupApi","GroupApi","grapqlInstance","errors","message","errorType","ApprovalBreadcrumbs","Breadcrumb","BreadcrumbItem","TopToolbar","TopToolbarTitle"],"mappings":"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","file":"js/App.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/beta/apps/approval/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([488,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import awesomeDebouncePromise from 'awesome-debounce-promise';\n\nexport default (\n  asyncFunction,\n  debounceTime = 250,\n  options = { onlyResolvesLast: false }\n) => awesomeDebouncePromise(asyncFunction, debounceTime, options);\n","export const FETCH_REQUEST = 'FETCH_REQUEST';\nexport const FETCH_REQUEST_CONTENT = 'FETCH_REQUEST_CONTENT';\nexport const FETCH_REQUESTS = 'FETCH_REQUESTS';\n\nexport const EXPAND_REQUEST = 'EXPAND_REQUEST';\n\nexport const CREATE_REQUEST_ACTION = 'CREATE_REQUEST_ACTION';\nexport const FETCH_WORKFLOW = 'FETCH_WORKFLOW';\nexport const FETCH_WORKFLOWS = 'FETCH_WORKFLOWS';\n\nexport const ADD_WORKFLOW = 'ADD_WORKFLOW';\nexport const UPDATE_WORKFLOW = 'UPDATE_WORKFLOW';\nexport const REMOVE_WORKFLOW = 'REMOVE_WORKFLOW';\nexport const REMOVE_WORKFLOWS = 'REMOVE_WORKFLOWS';\n\nexport const EXPAND_WORKFLOW = 'EXPAND_WORKFLOW';\n\nexport const FETCH_RBAC_GROUPS = 'FETCH_RBAC_GROUPS';\nexport const FETCH_GROUP_NAMES = 'FETCH_GROUP_NAMES';\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { Tabs, Tab } from '@patternfly/react-core';\n\nconst AppTabs = ({ history: { push }, location: { pathname }, tabItems }) => {\n  const activeTab = tabItems.find(({ name }) => pathname.includes(name));\n  const handleTabClick = (_event, tabIndex) => push(tabItems[tabIndex].name);\n\n  return (\n    <Tabs className=\"pf-u-mt-sm\" activeKey={ activeTab ? activeTab.eventKey : 0 } onSelect={ handleTabClick }>\n      { tabItems.map((item) => <Tab title={ item.title } key={ item.eventKey } eventKey={ item.eventKey } name={ item.name }/>) }\n    </Tabs>\n  );\n};\n\nAppTabs.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired\n  }),\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }),\n  tabItems: PropTypes.array.isRequired\n};\n\nexport default withRouter(AppTabs);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { SearchIcon, CloseIcon } from '@patternfly/react-icons';\nimport { ToolbarItem, TextInput } from '@patternfly/react-core';\n\nconst FilterToolbarItem = ({\n  searchValue,\n  onFilterChange,\n  placeholder,\n  isClearable\n}) => (\n  <ToolbarItem>\n    <div className=\"toolbar-filter-input-group\">\n      <TextInput\n        placeholder={ placeholder }\n        value={ searchValue }\n        type=\"text\"\n        onChange={ onFilterChange }\n        aria-label={ placeholder }\n      />\n      <span className=\"filter-icons-container\">\n        { (isClearable && searchValue && (\n          <CloseIcon\n            className=\"clear-filter\"\n            width=\"16\"\n            height=\"16\"\n            onClick={ () => onFilterChange('') }\n          />\n        )) || <SearchIcon /> }\n      </span>\n    </div>\n  </ToolbarItem>\n);\n\nFilterToolbarItem.propTypes = {\n  onFilterChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  searchValue: PropTypes.string,\n  isClearable: PropTypes.bool\n};\n\nFilterToolbarItem.defaultProps = {\n  searchValue: '',\n  isClearable: false\n};\n\nexport default FilterToolbarItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport debouncePromise from 'awesome-debounce-promise';\n\nimport { Pagination } from '@patternfly/react-core';\n\nimport { getCurrentPage, getNewPage } from '../../helpers/shared/pagination';\n\nconst AsyncPagination = ({\n  meta: { limit, count, offset },\n  apiProps,\n  apiRequest,\n  className,\n  isCompact,\n  ...props\n}) => {\n  const handleOnPerPageSelect = (_event, limit) =>\n    apiRequest(apiProps, {\n      offset,\n      limit\n    });\n\n  const handleSetPage = (_event, number, debounce) => {\n    const options = {\n      offset: getNewPage(number, limit),\n      limit\n    };\n\n    const request = () => apiRequest(apiProps, options);\n    if (debounce) {\n      return debouncePromise(request, 250)();\n    }\n\n    return request();\n  };\n\n  return (\n    <div className={ className }>\n      <Pagination\n        perPage={ limit || 50 }\n        itemCount={ count || 0 }\n        onPerPageSelect={ handleOnPerPageSelect }\n        page={ getCurrentPage(limit, offset) }\n        onSetPage={ handleSetPage }\n        direction=\"down\"\n        isCompact={ isCompact }\n        { ...props }\n      />\n    </div>\n  );\n};\n\nAsyncPagination.propTypes = {\n  meta: PropTypes.shape({\n    count: PropTypes.number,\n    limit: PropTypes.number.isRequired,\n    offset: PropTypes.number.isRequired\n  }),\n  apiRequest: PropTypes.func.isRequired,\n  apiProps: PropTypes.any,\n  className: PropTypes.string,\n  isCompact: PropTypes.bool\n};\n\nAsyncPagination.defaultProps = {\n  meta: {\n    count: 0,\n    limit: 50,\n    offset: 0\n  },\n  className: '',\n  isCompact: false\n};\n\nexport default AsyncPagination;\n","import React, { useEffect, useState } from 'react';\nimport propTypes from 'prop-types';\nimport { Toolbar, ToolbarGroup, ToolbarItem, Level, LevelItem } from '@patternfly/react-core';\nimport { Table, TableHeader, TableBody } from '@patternfly/react-table';\nimport { defaultSettings  } from '../../helpers/shared/pagination';\nimport FilterToolbar from '../../presentational-components/shared/filter-toolbar-item';\nimport { Section } from '@redhat-cloud-services/frontend-components';\nimport { DataListLoader } from './loader-placeholders';\nimport AsyncPagination from '../../smart-components/common/async-pagination';\n\n/**\n * Need to optimize this component\n * There is 7 renders before first table render\n * Should be just 2 - Loader -> Table\n */\n\nexport const TableToolbarView = ({\n  isSelectable,\n  createRows,\n  columns,\n  fetchData,\n  toolbarButtons,\n  data,\n  actionResolver,\n  routes,\n  titlePlural,\n  titleSingular,\n  pagination,\n  setCheckedItems,\n  filterValue,\n  onFilterChange,\n  isLoading,\n  onCollapse\n}) => {\n  const [ rows, setRows ] = useState([]);\n\n  useEffect(() => {\n    setRows(createRows(data));\n  }, [ data ]);\n\n  const setOpen = (data, id) => data.map(row => row.id === id ?\n    {\n      ...row,\n      isOpen: !row.isOpen\n    } : {\n      ...row\n    });\n\n  const setSelected = (data, id) => {\n    const newData = data.map(row => row.id === id ?\n      {\n        ...row,\n        selected: !row.selected\n      } : {\n        ...row\n      });\n\n    const checkedItems = newData.filter(item => (item.id && item.selected));\n    setCheckedItems(checkedItems);\n    return newData;\n  };\n\n  const onCollapseInternal = (_event, _index, _isOpen, { id }) => onCollapse ?\n    onCollapse(id, setRows, setOpen) :\n    setRows((rows) => setOpen(rows, id));\n\n  const selectRow = (_event, selected, index, { id } = {}) => index === -1\n    ? setRows(rows.map(row => ({ ...row, selected })))\n    : setRows((rows) => setSelected(rows, id));\n\n  const renderToolbar = (isLoading) => {\n    return (<Toolbar className={ `pf-u-pt-lg pf-u-pr-lg pf-u-pl-lg pf-u-pb-lg top-toolbar` }>\n      <Level style={ { flex: 1 } }>\n        <LevelItem>\n          <Toolbar>\n            <FilterToolbar onFilterChange={ onFilterChange } searchValue={ filterValue } isClearable={ true }\n              placeholder={ `Filter by ${titleSingular}` }/>\n            { toolbarButtons() }\n          </Toolbar>\n        </LevelItem>\n\n        <LevelItem>\n          <Toolbar>\n            <ToolbarGroup>\n              <ToolbarItem>\n                <AsyncPagination\n                  apiRequest={ fetchData }\n                  isDisabled={ isLoading }\n                  meta={ pagination }\n                  isCompact\n                />\n              </ToolbarItem>\n            </ToolbarGroup>\n          </Toolbar>\n        </LevelItem>\n      </Level>\n    </Toolbar>);\n  };\n\n  return (\n    <Section type=\"content\" page-type={ `tab-${titlePlural}` } id={ `tab-${titlePlural}` }>\n      { routes() }\n      { renderToolbar(isLoading) }\n      { isLoading ? <DataListLoader/> :\n        <Table\n          aria-label={ `${titlePlural} table` }\n          onCollapse={ onCollapseInternal }\n          rows={ rows }\n          cells={ columns }\n          onSelect={ isSelectable && selectRow }\n          actionResolver={ actionResolver }\n          className=\"table-fix\"\n        >\n          <TableHeader />\n          <TableBody />\n        </Table> }\n    </Section>\n  );\n};\n\nTableToolbarView.propTypes = {\n  isSelectable: propTypes.bool,\n  createRows: propTypes.func.isRequired,\n  columns: propTypes.array.isRequired,\n  toolbarButtons: propTypes.func,\n  fetchData: propTypes.func.isRequired,\n  data: propTypes.array,\n  pagination: propTypes.shape({\n    limit: propTypes.number,\n    offset: propTypes.number,\n    count: propTypes.number\n  }),\n  titlePlural: propTypes.string,\n  titleSingular: propTypes.string,\n  routes: propTypes.func,\n  actionResolver: propTypes.func,\n  setCheckedItems: propTypes.func,\n  filterValue: propTypes.string,\n  onFilterChange: propTypes.func,\n  isLoading: propTypes.bool,\n  onCollapse: propTypes.func\n};\n\nTableToolbarView.defaultProps = {\n  requests: [],\n  isLoading: false,\n  pagination: defaultSettings,\n  toolbarButtons: () => null,\n  isSelectable: null,\n  routes: () => null\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  DataList,\n  DataListCell,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  Grid,\n  GridItem,\n  Form,\n  FormGroup\n} from '@patternfly/react-core';\nimport { Section } from '@redhat-cloud-services/frontend-components';\nimport ContentLoader from 'react-content-loader';\n\nexport const RequestInfoBarLoader = () => (\n  <ContentLoader\n    height={ 500 }\n    width={ 200 }\n    speed={ 2 }\n    primaryColor=\"#f3f3f3\"\n    secondaryColor=\"#ecebeb\"\n  >\n    <rect x=\"10\" y=\"15\" rx=\"0\" ry=\"0\" width=\"174\" height=\"26\" />\n    <rect x=\"10\" y=\"65\" rx=\"0\" ry=\"0\" width=\"174\" height=\"26\" />\n    <rect x=\"10\" y=\"115\" rx=\"0\" ry=\"0\" width=\"174\" height=\"26\" />\n    <rect x=\"10\" y=\"165\" rx=\"0\" ry=\"0\" width=\"174\" height=\"26\" />\n    <rect x=\"10\" y=\"215\" rx=\"0\" ry=\"0\" width=\"174\" height=\"26\" />\n    <rect x=\"10\" y=\"265\" rx=\"0\" ry=\"0\" width=\"174\" height=\"26\" />\n    <rect x=\"10\" y=\"315\" rx=\"0\" ry=\"0\" width=\"174\" height=\"26\" />\n    <rect x=\"10\" y=\"365\" rx=\"0\" ry=\"0\" width=\"174\" height=\"26\" />\n    <rect x=\"10\" y=\"415\" rx=\"0\" ry=\"0\" width=\"174\" height=\"26\" />\n    <rect x=\"10\" y=\"465\" rx=\"0\" ry=\"0\" width=\"174\" height=\"26\" />\n    <rect x=\"10\" y=\"515\" rx=\"0\" ry=\"0\" width=\"174\" height=\"26\" />\n  </ContentLoader>\n);\n\nexport const RequestLoader = ({ items, ...props }) => (\n  <Section type=\"content\">\n    <Grid gutter=\"md\">\n      <GridItem md={ 2 } className=\"detail-pane\">\n        <RequestInfoBarLoader/>\n      </GridItem>\n      <GridItem md={ 10 } className=\"detail-pane\">\n        <DataList aria-label=\"datalist-placeholder\" style={ { margin: 32 } }>\n          { [ ...Array(items) ].map((_item, index) => (\n            <DataListItem key={ index } aria-labelledby=\"datalist-item-placeholder\">\n              <DataListItemRow>\n                <DataListItemCells dataListCells={ [\n                  <DataListCell key=\"1\">\n                    <ContentLoader\n                      height={ 12 }\n                      width={ 300 }\n                      speed={ 2 }\n                      primaryColor=\"#FFFFFF\"\n                      secondaryColor=\"#ecebeb\"\n                      { ...props }>\n                      <rect x=\"0\" y=\"0\" rx=\"0\" ry=\"0\" width=\"300\" height=\"12\" />\n                    </ContentLoader>\n                  </DataListCell>\n                ] }\n                />\n              </DataListItemRow>\n            </DataListItem>\n          )) }\n        </DataList>\n      </GridItem>\n    </Grid>\n  </Section>\n);\n\nRequestLoader.propTypes = {\n  items: PropTypes.number\n};\n\nRequestLoader.defaultProps = {\n  items: 5\n};\n\nexport const AppPlaceholder = props => (\n  <div>\n    <ContentLoader\n      height={ 16 }\n      width={ 300 }\n      speed={ 2 }\n      primaryColor=\"#FFFFFF\"\n      secondaryColor=\"#FFFFFF\"\n      { ...props }>\n      <rect x=\"0\" y=\"0\" rx=\"0\" ry=\"0\" width=\"420\" height=\"10\" />\n    </ContentLoader>\n    <RequestLoader />\n  </div>\n);\n\nexport const DataListLoader = ({ items, ...props }) => (\n  <DataList aria-label=\"data-list-loader\" aria-labelledby=\"datalist-placeholder\">\n    { [ ...Array(items) ].map((_item, index) => (\n      <DataListItem key={ index } aria-labelledby=\"datalist-item-placeholder\">\n        <DataListItemRow aria-label=\"datalist-item-placeholder-row\">\n          <DataListItemCells dataListCells={ [\n            <DataListCell key=\"1\">\n              <ContentLoader\n                height={ 12 }\n                width={ 300 }\n                speed={ 2 }\n                primaryColor=\"#FFFFFF\"\n                secondaryColor=\"#ecebeb\"\n                { ...props }>\n                <rect x=\"0\" y=\"0\" rx=\"0\" ry=\"0\" width=\"300\" height=\"12\" />\n              </ContentLoader>\n            </DataListCell>\n          ] }\n          />\n        </DataListItemRow>\n\n      </DataListItem>\n    )) }\n  </DataList>\n);\n\nDataListLoader.propTypes = {\n  items: PropTypes.number\n};\n\nDataListLoader.defaultProps = {\n  items: 5\n};\n\nconst FormItemLoader = () => (\n  <ContentLoader\n    height={ 36 }\n    width={ 400 }\n    speed={ 2 }\n    primaryColor=\"#ffffff\"\n    secondaryColor=\"#ecebeb\"\n  >\n    <rect x=\"0\" y=\"0\" rx=\"0\" ry=\"0\" width=\"400\" height=\"36\" />\n  </ContentLoader>\n);\n\nexport const WorkflowStageLoader = () => (\n  <Form>\n    <FormGroup fieldId=\"1\">\n      <FormItemLoader />\n    </FormGroup>\n    <FormGroup fieldId=\"2\">\n      <FormItemLoader />\n    </FormGroup>\n  </Form>\n);\n\nexport const ToolbarTitlePlaceholder = props => (\n  <ContentLoader\n    height={ 21 }\n    width={ 200 }\n    speed={ 2 }\n    primaryColor=\"#f3f3f3\"\n    secondaryColor=\"#ecebeb\"\n    { ...props }\n  >\n    <rect x=\"0\" y=\"0\" rx=\"0\" ry=\"0\" width=\"200\" height=\"21\" />\n  </ContentLoader>\n);\n\n","import React from 'react';\nimport { DateFormat } from '@redhat-cloud-services/frontend-components';\n\nconst activeStates = [ 'notified' ];\n\nexport const scrollToTop = () => document.getElementById('root').scrollTo({\n  behavior: 'smooth',\n  top: 0,\n  left: 0\n});\n\nexport const getCurrentPage = (limit = 1, offset = 0) => Math.floor(offset / limit) + 1;\n\nexport const getNewPage = (page = 1, offset) => (page - 1) * offset;\n\nexport const isRequestStateActive = (state) => activeStates.includes(state);\n\nexport const timeAgo = (date) => (\n  <span key={ date }>\n    <DateFormat date={ date } type=\"relative\" />\n  </span>\n);\n\n","export const defaultSettings = {\n  limit: 50,\n  offset: 0,\n  itemCount: 1,\n  numberOfItems: 50\n};\n\nexport const getCurrentPage = (limit = 1, offset = 0) => Math.floor(offset / limit) + 1;\n\nexport const getNewPage = (page = 1, offset) => (page - 1) * offset;\n","export const APPROVAL_API_BASE = `${process.env.BASE_PATH}/approval/v1.0`;\nexport const RBAC_API_BASE = `${process.env.BASE_PATH}/rbac/v1`;\n\n","import { getActionApi, getRequestApi, getAxiosInstance, getGraphqlInstance } from '../shared/user-login';\nimport { APPROVAL_API_BASE } from '../../utilities/constants';\nimport { defaultSettings } from '../shared/pagination';\n\nconst requestApi = getRequestApi();\nconst actionApi = getActionApi();\nconst graphqlInstance = getGraphqlInstance();\n\nexport function fetchRequests(filter = '', pagination = defaultSettings) {\n  const paginationQuery = `&limit=${pagination.limit}&offset=${pagination.offset}`;\n  const filterQuery = `&filter[name][contains_i]=${filter}`;\n  return getAxiosInstance().get(\n    `${APPROVAL_API_BASE}/requests/?${filterQuery}${paginationQuery}`\n  );\n}\n\nconst requestTranscriptQuery = (parent_id) => `query {\n  requests (filter: { parent_id: \"${parent_id}\" } ) {\n    actions {\n      id\n      operation \n      comments \n      created_at \n      processed_by\n    }\n    id\n    name\n    number_of_children\n    decision\n    description\n    group_name\n    number_of_finished_children\n    parent_id\n    state\n    workflow_id\n  }\n}`;\n\nexport const fetchRequestTranscript = (requestId) => {\n  return graphqlInstance\n  .post(`${APPROVAL_API_BASE}/graphql`, { query: requestTranscriptQuery(requestId) })\n  .then(({ data: { requests }}) => requests);\n};\n\nexport async function fetchRequest(id) {\n  return await requestApi.showRequest(id);\n}\n\nexport const fetchRequestActions = (id) => {\n  return actionApi.listActionsByRequest(id);\n};\n\nexport const fetchRequestContent = (id) => {\n  return getAxiosInstance().get(`${APPROVAL_API_BASE}/requests/${id}/content`);\n};\n\nexport async function fetchRequestWithActions(id) {\n  let requestData = await requestApi.showRequest(id);\n  const requestActions = await fetchRequestActions(id);\n\n  if (requestData.number_of_children > 0) {\n    const subRequests = await requestApi.listRequestsByRequest(id);\n    const promises = subRequests.data.map(request => fetchRequestWithActions(request.id));\n    const subRequestsWithActions = await Promise.all(promises);\n    requestData = { ...requestData, children: subRequestsWithActions };\n  }\n\n  return  { ...requestData, actions: requestActions };\n}\n\nexport async function fetchRequestWithSubrequests(id) {\n  let requestData = await requestApi.showRequest(id);\n\n  if (requestData.number_of_children > 0) {\n    const subRequests = await fetchRequestTranscript(id);\n    requestData = { ...requestData, children: subRequests };\n  } else {\n    const requestActions = await fetchRequestActions(id);\n    requestData = { ...requestData, actions: requestActions ? requestActions.data : []};\n  }\n\n  return  { ...requestData };\n}\n\nexport async function createRequestAction (requestId, actionIn) {\n  return await actionApi.createAction(requestId, actionIn);\n}\n","import * as ActionTypes from '../action-types';\nimport * as RequestHelper from '../../helpers/request/request-helper';\n\nexport const fetchRequests = (filter, pagination) => ({\n  type: ActionTypes.FETCH_REQUESTS,\n  payload: RequestHelper.fetchRequests(filter, pagination)\n});\n\nexport const fetchRequest = (apiProps) => ({\n  type: ActionTypes.FETCH_REQUEST,\n  payload: RequestHelper.fetchRequestWithSubrequests(apiProps)\n});\n\nexport const fetchRequestContent = (apiProps) => ({\n  type: ActionTypes.FETCH_REQUEST_CONTENT,\n  payload: RequestHelper.fetchRequestContent(apiProps)\n});\n\nexport const createRequestAction = (actionName, requestId, actionIn) => ({\n  type: ActionTypes.CREATE_REQUEST_ACTION,\n  payload: RequestHelper.createRequestAction(requestId, actionIn),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success',\n        description: `The ${actionName} was successful.`\n      },\n      rejected: {\n        variant: 'danger',\n        title: `${actionName} error`,\n        description: `The ${actionName} action failed.`\n      }\n    }\n  }\n});\n\nexport const expandRequest = (id) => ({\n  type: ActionTypes.EXPAND_REQUEST,\n  payload: id\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormSelect, FormSelectOption, FormGroup, TextContent, Text, TextVariants } from '@patternfly/react-core';\n\nconst createOptions = (options, inputValue, isRequired) => {\n  if (inputValue && isRequired) {\n    return options;\n  }\n\n  const selectOptions = [ ...options ];\n  return selectOptions.find(({ value }) => value === undefined)\n    ? [ ...selectOptions ]\n    : [{ label: isRequired ? 'Please choose' : 'None' }, ...selectOptions ];\n};\n\nconst Select = ({\n  input,\n  options,\n  isReadOnly,\n  isDisabled,\n  FieldProvider,\n  isRequired,\n  ...rest\n}) => (\n  <FormSelect { ...input } { ...rest } isDisabled={ isDisabled || isReadOnly }>\n    { createOptions(options, input.value, isRequired).map((props) => (\n      <FormSelectOption key={ props.value || props.label } { ...props } label={ props.label.toString() }/> // eslint-disable-line react/prop-types\n    )) }\n  </FormSelect>\n);\n\nSelect.propTypes = {\n  input: PropTypes.object.isRequired,\n  options: PropTypes.arrayOf(PropTypes.shape({\n    value: PropTypes.any,\n    label: PropTypes.string.isRequired\n  })).isRequired,\n  isReadOnly: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  isRequired: PropTypes.bool,\n  FieldProvider: PropTypes.any\n};\n\nconst Pf4SelectWrapper = ({\n  componentType,\n  label,\n  isRequired,\n  helperText,\n  meta,\n  description,\n  hideLabel,\n  ...rest\n}) => {\n  const { error, touched } = meta;\n  const showError = touched && error;\n\n  return (\n    <FormGroup\n      isRequired={ isRequired }\n      label={ !hideLabel && label }\n      fieldId={ rest.id }\n      isValid={ !showError }\n      helperText={ helperText }\n      helperTextInvalid={ meta.error }\n    >\n      { description && <TextContent><Text component={ TextVariants.small }>{ description }</Text></TextContent> }\n      <Select label={ label } isValid={ !showError } isRequired={ isRequired } { ...rest }/>\n    </FormGroup>\n  );\n};\n\nPf4SelectWrapper.propTypes = {\n  componentType: PropTypes.string,\n  label: PropTypes.string,\n  isRequired: PropTypes.bool,\n  helperText: PropTypes.string,\n  meta: PropTypes.object,\n  description: PropTypes.string,\n  hideLabel: PropTypes.bool\n};\n\nexport default Pf4SelectWrapper;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactFormRender, { componentTypes } from '@data-driven-forms/react-form-renderer';\nimport { layoutMapper, formFieldsMapper } from '@data-driven-forms/pf4-component-mapper';\nimport Pf4SelectWrapper from '../../presentational-components/shared/pf4-select-wrapper';\n\nconst buttonPositioning = {\n  default: {},\n  modal: {\n    buttonOrder: [ 'cancel', 'reset', 'save' ],\n    buttonClassName: 'modal-form-right-align'\n  }\n};\n\nconst FormRenderer = ({ componentMapper, formContainer, ...rest }) => (\n  <div className={ buttonPositioning[formContainer].buttonClassName }>\n    <ReactFormRender\n      formFieldsMapper={ {\n        ...formFieldsMapper,\n        componentMapper,\n        [componentTypes.SELECT]: Pf4SelectWrapper\n      } }\n      layoutMapper={ layoutMapper }\n      { ...buttonPositioning[formContainer] }\n      { ...rest }\n    />\n  </div>\n);\n\nFormRenderer.propTypes = {\n  componentMapper: PropTypes.object,\n  formContainer: PropTypes.oneOf([ 'default', 'modal' ])\n};\n\nFormRenderer.defaultProps = {\n  componentMapper: {},\n  formContainer: 'default'\n};\n\nexport default FormRenderer;\n","import { componentTypes, validatorTypes } from '@data-driven-forms/react-form-renderer';\n\nconst schemaFields = (isDeny) =>({\n  component: componentTypes.TEXTAREA_FIELD,\n  name: 'comments',\n  type: 'text',\n  isRequired: isDeny,\n  label: isDeny ? 'Reason' : 'Comment'\n});\n\nexport const createRequestCommentSchema = (isDeny = false) => {\n  const schema = schemaFields(isDeny);\n  if (isDeny) {\n    schema.validate = [{\n      type: validatorTypes.REQUIRED\n    }];\n  }\n\n  return { fields: [ schema ]};\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FormRenderer from '../common/form-renderer';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Modal } from '@patternfly/react-core';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications';\nimport { createRequestAction } from '../../redux/actions/request-actions';\nimport { createRequestCommentSchema } from '../../forms/request-comment-form.schema';\n\nconst ActionModal = ({\n  history: { push },\n  match: { params: { id }},\n  actionType,\n  addNotification,\n  createRequestAction,\n  closeUrl,\n  postMethod\n}) => {\n  const onSubmit = (data) => {\n    const operationType = { 'Add Comment': 'memo', Approve: 'approve', Deny: 'deny' };\n    const actionName = actionType === 'Add Comment' ? actionType : `${actionType} Request`;\n    return postMethod ?\n      createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => postMethod()).then(() => push(closeUrl))\n      : createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => push(closeUrl));\n  };\n\n  const onCancel = () => {\n    const actionName = actionType === 'Add Comment' ? actionType : `${actionType} Request`;\n    addNotification({\n      variant: 'warning',\n      title: actionName,\n      dismissable: true,\n      description: `${actionName} was cancelled by the user.`\n    });\n    push(closeUrl);\n  };\n\n  return (\n    <Modal\n      isLarge\n      title={ actionType === 'Add Comment' ? `Request #${id}` : `${actionType} Request #${id}` }\n      isOpen\n      onClose={ onCancel }\n    >\n      <FormRenderer\n        schema={ createRequestCommentSchema (actionType === 'Deny') }\n        schemaType=\"default\"\n        onSubmit={ onSubmit }\n        onCancel={ onCancel }\n        formContainer=\"modal\"\n      />\n    </Modal>\n  );\n};\n\nActionModal.defaultProps = {\n  closeUrl: '/requests'\n};\n\nActionModal.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired,\n  addNotification: PropTypes.func.isRequired,\n  createRequestAction: PropTypes.func.isRequired,\n  postMethod: PropTypes.func,\n  id: PropTypes.string,\n  actionType: PropTypes.string,\n  closeUrl: PropTypes.string,\n  match: PropTypes.object,\n  location: PropTypes.object\n};\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  addNotification,\n  createRequestAction\n}, dispatch);\n\nexport default withRouter(connect(null, mapDispatchToProps)(ActionModal));\n","import React, { Fragment, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { TextContent, Text, TextVariants, Level, LevelItem, Button, Bullseye } from '@patternfly/react-core';\nimport { isRequestStateActive } from '../../helpers/shared/helpers';\nimport { fetchRequestContent } from '../../helpers/request/request-helper';\nimport { Spinner } from '@redhat-cloud-services/frontend-components';\n\nexport const ExpandedItem = ({ title = '', detail = '' }) => (\n  <TextContent>\n    <Text className=\"data-table-detail heading\" component={ TextVariants.small }>{ title }</Text>\n    <Text className=\"data-table-detail content\" component={ TextVariants.h5 }>{ detail }</Text>\n  </TextContent>\n);\n\nExpandedItem.propTypes = {\n  title: PropTypes.node,\n  detail: PropTypes.node\n};\n\nconst ExpandableContent = ({ id, number_of_children, state, reason }) => {\n  const requestActive = isRequestStateActive(state) && !number_of_children;\n  const [ requestContent, setRequestContent ] = useState([]);\n  const [ isLoading, setIsLoading ] = useState(true);\n  const [ fetchStarted, setIsFetching ] = useState(false);\n\n  const expandedRequests = useSelector(({ requestReducer: { expandedRequests }}) => expandedRequests);\n\n  useEffect(() => {\n    if (!fetchStarted && isLoading && expandedRequests.includes(id)) {\n      setIsFetching(true);\n      fetchRequestContent(id).then((data) => { setRequestContent(data); setIsLoading(false); }).catch(() => setIsLoading(false));\n    }\n  }, [ expandedRequests ]);\n\n  if (isLoading) {\n    return (<Bullseye>\n      <Spinner/>\n    </Bullseye>);\n  }\n\n  return (\n    <Fragment>\n      <Level>\n        <LevelItem>\n          <ExpandedItem title=\"Product\" detail={ requestContent ? requestContent.product : 'Unknown' } />\n        </LevelItem>\n        { requestActive && <LevelItem>\n          <Link to={ `/requests/approve/${id}` }  className=\"pf-u-mr-md\">\n            <Button variant=\"primary\" aria-label=\"Approve Request\" isDisabled={ !requestActive }>\n              Approve\n            </Button>\n          </Link>\n          <Link to={ `/requests/deny/${id}` }>\n            <Button variant=\"danger\" aria-label=\"Deny Request\">\n              Deny\n            </Button>\n          </Link>\n        </LevelItem>\n        }</Level>\n      <Level>\n        <LevelItem>\n          <ExpandedItem title=\"Portfolio\" detail={ requestContent ? requestContent.portfolio : 'Unknown' }/>\n          <ExpandedItem title=\"Platform\" detail={ requestContent ? requestContent.platform : 'Unknown' }/>\n          <ExpandedItem title=\"Reason\" detail={ reason ? reason : '' }/>\n        </LevelItem>\n      </Level>\n    </Fragment>\n  );\n};\n\nExpandableContent.propTypes = {\n  id: PropTypes.string,\n  content: PropTypes.object,\n  number_of_children: PropTypes.number,\n  uname: PropTypes.string,\n  state: PropTypes.string,\n  reason: PropTypes.string\n};\n\nexport default ExpandableContent;\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button } from '@patternfly/react-core';\n\nimport ExpandableContent from './expandable-content';\nimport { timeAgo }  from '../../helpers/shared/helpers';\n\nexport const createRows = (data) =>\n  data.reduce((acc, { id,\n    name,\n    requester_name,\n    created_at,\n    notified_at,\n    finished_at,\n    state,\n    decision,\n    reason,\n    number_of_children\n  }, key) => ([\n    ...acc, {\n      id,\n      isOpen: false,\n      state,\n      number_of_children,\n      cells: [\n        <Fragment key={ id }><Link to={ `/requests/detail/${id}` }><Button variant=\"link\"> { name } </Button></Link></Fragment>,\n        requester_name,\n        timeAgo(created_at),\n        finished_at ? timeAgo(finished_at) : (notified_at ? timeAgo(notified_at) : timeAgo(created_at)),\n        state,\n        decision\n      ]\n    }, {\n      parent: key * 2,\n      fullWidth: true,\n      cells: [{\n        title: <ExpandableContent id={ id }\n          number_of_children={ number_of_children }\n          state={ state }\n          reason={ reason }/>\n      }]\n    }\n  ]), []);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Text, TextContent, TextVariants } from '@patternfly/react-core';\n\nconst RequestInfoBar = ({ request, requestContent }) => {\n  return (\n    <TextContent>\n      <Text component={ TextVariants.small }>Product: <br/></Text>\n      <Text>{ requestContent ? requestContent.product : '' }</Text>\n      <Text component={ TextVariants.small }>Portfolio: <br/></Text>\n      <Text>{ requestContent ? requestContent.portfolio : '' }</Text>\n      <Text component={ TextVariants.small }>Platform: <br/></Text>\n      <Text>{ requestContent ? requestContent.platform : ' ' }</Text>\n      <Text component={ TextVariants.small }>Requester: </Text>\n      <Text component={ TextVariants.h6 }>{ request.requester_name }</Text>\n      <Text component={ TextVariants.h6 }>Order Parameters: <br/> </Text>\n      { requestContent.params && Object.keys(requestContent.params).map(param => {\n        return ((requestContent.params[param]) &&\n                  <Text key={ param } component={ TextVariants.small }>\n                    { `${param}: ${requestContent.params[param]}` }\n                  </Text>);\n      })\n      }\n    </TextContent>\n  );\n};\n\nRequestInfoBar.propTypes = {\n  request: PropTypes.shape({\n    requester_name: PropTypes.string\n  }).isRequired,\n  requestContent: PropTypes.object\n};\nexport default RequestInfoBar;\n\n","import React from 'react';\nimport { timeAgo }  from '../../../helpers/shared/helpers';\nimport {\n  Stack,\n  TextContent,\n  Text,\n  TextVariants\n} from '@patternfly/react-core';\nimport { CheckCircleIcon, CommentIcon, EnvelopeIcon, OutlinedTimesCircleIcon, AngleDoubleRightIcon, OnRunningIcon } from '@patternfly/react-icons';\nconst operationDisplayName = { memo: 'Comment from', approve: 'Approved by',\n  deny: 'Denied by', notify: 'Notified by', skip: 'Skipped by', cancel: 'Canceled by', start: 'Started by' };\n\nconst operationIcon = {\n  memo: <CommentIcon/>,\n  approve: <CheckCircleIcon style={ { color: 'var(--pf-global--success-color--100)' } }/>,\n  deny: <OutlinedTimesCircleIcon style={ { color: 'var(--pf-global--danger-color--100)' }\t}/>,\n  notify: <EnvelopeIcon/>,\n  skip: <AngleDoubleRightIcon/>,\n  start: <OnRunningIcon/>\n};\n\nexport const ActionTranscript = actionList => {\n  const actions = actionList.actionList;\n  return (\n    <Stack>\n      { actions.map(actionItem =>\n        <div key={ `${actionItem.id}-action` }>\n          <TextContent><Text key={ `${actionItem.id}-action-created_at` } style={ { marginBottom: 0 } }\n            className=\"data-table-detail content\" component={ TextVariants.small }>\n            { timeAgo(actionItem.created_at) }\n          </Text>\n          <Text key={ `${actionItem.id}-action-operation` }  style={ { marginBottom: 0 } }\n            className=\"data-table-detail content\">\n            { operationIcon[actionItem.operation] } { `${operationDisplayName[actionItem.operation]}  ${actionItem.processed_by}` }\n          </Text>\n          { actionItem.comments && <Text key={ `${actionItem.id}-action-comments` } style={ { marginBottom: 0 } }\n            className=\"data-table-detail content\" component={ TextVariants.h6 }>\n            { `${actionItem.comments}` }\n          </Text> } </TextContent>\n          <br/>\n        </div>)\n      }\n    </Stack>\n  );\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { isRequestStateActive } from '../../../helpers/shared/helpers';\nimport { ActionTranscript } from './action-transcript';\n\nimport {\n  Stack,\n  StackItem,\n  Button,\n  DataListItem,\n  DataListItemRow,\n  DataListCell,\n  DataListToggle,\n  DataListItemCells,\n  DataListContent,\n  DropdownItem,\n  Dropdown,\n  DropdownPosition,\n  KebabToggle,\n  TextVariants,\n  TextContent,\n  Level,\n  LevelItem\n} from '@patternfly/react-core';\n\nclass Request extends Component {\n  state = {\n    isKebabOpen: false\n  };\n\n  onKebabToggle = isOpen => {\n    this.setState({\n      isKebabOpen: isOpen\n    });\n  };\n\n  onKebabSelect = () => {\n    this.setState({ isKebabOpen: !this.state.isKebabOpen });\n  };\n\n  buildRequestActionKebab = (request) => {\n    return (\n      <Dropdown\n        position={ DropdownPosition.right }\n        onSelect={ this.onKebabSelect }\n        toggle={ <KebabToggle id={ `request-request-dropdown-${request.id}` } onToggle={ this.onKebabToggle }/> }\n        isOpen={ this.state.isKebabOpen }\n        dropdownItems={ [\n          <DropdownItem aria-label=\"Add Comment\" key={ `add_comment_${request.id}` }>\n            <Link\n              id={ `request-${request.id}-request-comment` }\n              to={ `/requests/detail/${request.id}/add_comment` }\n              className=\"pf-c-dropdown__menu-item\"\n            >\n              Comment\n            </Link>\n          </DropdownItem>\n        ] }\n        isPlain\n      />\n    );\n  };\n\n  fetchRequestDetails = (request) => {\n    return <ActionTranscript actionList={ request.actions }/>;\n  };\n\n  render() {\n    const { item, isExpanded } = this.props;\n    const requestActive = isRequestStateActive(item.state);\n    return (\n      <DataListItem key={ `request-${item.id}` }\n        aria-labelledby={ `check-request-${item.id}` }\n        isExpanded={ isExpanded }>\n        <DataListItemRow>\n          <DataListToggle\n            onClick={ () => this.props.toggleExpand(`request-${item.id}`) }\n            isExpanded={ isExpanded }\n            id={ `request-${item.id}` }\n            aria-labelledby={ `request-${item.id} request-${item.id}` }\n            aria-label=\"Toggle details for\"\n          />\n          <DataListItemCells\n            dataListCells={ [\n              <DataListCell key={ item.id }>\n                <span id={ item.id }>{ `${this.props.idx + 1}. ${item.name}` } </span>\n              </DataListCell>,\n              <DataListCell key={ `${item.id}-state` }>\n                <span style={ { textTransform: 'capitalize' } } id={ `${item.id}-state` }>{ `${item.state}` } </span>\n              </DataListCell>,\n              <DataListCell key={ `${item.id}-action` }>\n                <Level>\n                  <LevelItem>\n                    { (requestActive) &&\n                    <div>\n                      <Link id={ `approve-${item.id}` } to={ `/requests/detail/${item.id}/approve` }>\n                        <Button variant=\"link\" aria-label=\"Approve Request\">\n                          Approve\n                        </Button>\n                      </Link>\n                      <Link id={ `deny-${item.id}` } to={ `/requests/detail/${item.id}/deny` }>\n                        <Button variant=\"link\" className=\"destructive-color\" aria-label=\"Deny Request\">\n                          Deny\n                        </Button>\n                      </Link>\n                    </div> }\n                  </LevelItem>\n                </Level>\n              </DataListCell>,\n              <DataListCell\n                key={ `request-${item.id}` }\n                className=\"pf-c-data-list__action\"\n                aria-labelledby={ `request-${item.id} check-request-action${item.id}` }\n                id={ `workflow-${item.id}` }\n                aria-label=\"Actions\">\n                { requestActive && this.buildRequestActionKebab(item) }\n              </DataListCell>\n            ] }/>\n        </DataListItemRow>\n        <DataListContent aria-label=\"Request Content Details\"\n          isHidden={ !isExpanded }>\n          <Stack gutter=\"md\">\n            <StackItem>\n              <TextContent component={ TextVariants.h6 }>\n                { this.fetchRequestDetails(item) }\n              </TextContent>\n            </StackItem>\n          </Stack>\n        </DataListContent>\n\n      </DataListItem>\n    );\n  };\n}\n\nRequest.propTypes = {\n  isLoading: PropTypes.bool,\n  item: PropTypes.shape({\n    id: PropTypes.string,\n    name: PropTypes.string,\n    state: PropTypes.string,\n    requestActions: PropTypes.shape({\n      data: PropTypes.array\n    })\n  }).isRequired,\n  idx: PropTypes.number,\n  isExpanded: PropTypes.bool.isRequired,\n  toggleExpand: PropTypes.func.isRequired,\n  noItems: PropTypes.string\n};\n\nexport default Request;\n","import React, { Component, Fragment } from 'react';\nimport propTypes from 'prop-types';\nimport { PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components';\nimport { DataList } from '@patternfly/react-core';\nimport Request from './request';\nimport { DataListLoader } from '../../../presentational-components/shared/loader-placeholders';\n\nclass RequestList extends Component {\n  state = {\n    expanded: []\n  };\n\n  toggleExpand = id => this.setState(({ expanded }) => {\n    const index = expanded.indexOf(id);\n    const newExpanded =\n      index >= 0 ? [ ...expanded.slice(0, index), ...expanded.slice(index + 1, expanded.length) ] : [ ...expanded, id ];\n    return ({ expanded: newExpanded });\n  });\n\n  isExpanded = key => {\n    return this.state.expanded.includes(key);\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <div>\n          { this.props.isLoading && (\n            <Fragment>\n              <PageHeader>\n                <PageHeaderTitle title={ this.props.noItems }/>\n              </PageHeader>\n              <DataListLoader/>\n            </Fragment>\n          ) }\n        </div>\n        { this.props.items.length > 0 && (\n          <DataList aria-label=\"Expandable data list\">\n            { this.props.items.map((item, idx) => (\n              <Request\n                key={ item.id }\n                item={ item }\n                idx={ idx }\n                isActive={ idx === 0 }\n                isExpanded={ this.isExpanded(`request-${item.id}`) }\n                toggleExpand={ this.toggleExpand }\n              />)) }\n          </DataList>)\n        }\n      </Fragment>\n    );\n  };\n}\n\nRequestList.propTypes = {\n  isLoading: propTypes.bool,\n  items: propTypes.array,\n  noItems: propTypes.string,\n  active_request: propTypes.number\n};\n\nRequestList.defaultProps = {\n  items: []\n};\n\nexport default RequestList;\n\n","import React, { Fragment }  from 'react';\nimport PropTypes from 'prop-types';\nimport { Title } from '@patternfly/react-core';\nimport RequestList from './request-list';\n\nconst RequestTranscript = ({ request }) => (<Fragment>\n  <Title size=\"sm\" style={ { paddingLeft: '32px' } }> Request transcript </Title>\n  <RequestList items={ request.children && request.children.length > 0 ? request.children : [ request ] }/>\n</Fragment>);\n\nRequestTranscript.propTypes = {\n  request: PropTypes.shape({\n    content: PropTypes.object,\n    children: PropTypes.array\n  }).isRequired\n};\n\nexport default RequestTranscript;\n","import React, { Fragment, useEffect, useReducer } from 'react';\nimport { Route, useParams, useLocation } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Grid, GridItem } from '@patternfly/react-core';\nimport { Section } from '@redhat-cloud-services/frontend-components';\nimport '../../../App.scss';\nimport ActionModal from '../action-modal';\nimport RequestInfoBar from './request-info-bar';\nimport RequestTranscript from './request-transcript';\nimport { fetchRequest, fetchRequestContent } from '../../../redux/actions/request-actions';\nimport { RequestLoader } from '../../../presentational-components/shared/loader-placeholders';\nimport { TopToolbar, TopToolbarTitle } from '../../../presentational-components/shared/top-toolbar';\n\nconst initialState = {\n  isFetching: true\n};\nconst requestState = (state, action) => {\n  switch (action.type) {\n    case 'setFetching':\n      return { ...state, isFetching: action.payload };\n    default:\n      return state;\n  }\n};\n\nconst RequestDetail = () => {\n  const [{ isFetching }, stateDispatch ] = useReducer(requestState, initialState);\n\n  const { selectedRequest, requestContent } = useSelector(\n    ({\n      requestReducer: {\n        requestContent: requestContent,\n        selectedRequest: selectedRequest\n      }\n    }) => ({ selectedRequest, requestContent })\n  );\n  const { id }  = useParams();\n  const location = useLocation();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    Promise.all([ dispatch(fetchRequest(id)), dispatch(fetchRequestContent(id)) ])\n    .then(() => stateDispatch({ type: 'setFetching', payload: false }));\n  }, []);\n\n  const renderRequestDetails = () => {\n    if (isFetching || !selectedRequest || Object.keys(selectedRequest).length === 0) {\n      return (\n        <Section style={ { backgroundColor: 'white', minHeight: '100%' } }>\n          <RequestLoader />\n        </Section>\n      );\n    }\n    else {\n      return (\n        <Fragment>\n          <GridItem md={ 2 } className=\"detail-pane\">\n            <RequestInfoBar request={ selectedRequest } requestContent={ requestContent }/>\n          </GridItem>\n          <GridItem md={ 10 } className=\"detail-pane\">\n            <RequestTranscript request={ selectedRequest } url={ location.url }/>\n          </GridItem>\n        </Fragment>\n      );\n    }\n  };\n\n  return (\n    <Fragment>\n      <Route exact path=\"/requests/detail/:id/add_comment\" render={ props =>\n        <ActionModal { ...props } actionType={ 'Add Comment' } closeUrl={ location.url } /> }/>\n      <Route exact path=\"/requests/detail/:id/approve\" render={ props =>\n        <ActionModal { ...props } actionType={ 'Approve' } closeUrl={ location.url } /> } />\n      <Route exact path=\"/requests/detail/:id/deny\" render={ props =>\n        <ActionModal { ...props } actionType={ 'Deny' } closeUrl={ location.url } /> } />\n      <TopToolbar\n        breadcrumbs={ [{ title: 'Request Queue', to: '/requests', id: 'requests' }] }\n        paddingBottom={ true }\n      >\n        <TopToolbarTitle title={ `Request ${id}` } />\n      </TopToolbar>\n      <Section type=\"content\">\n        <Grid gutter=\"md\">\n          { renderRequestDetails() }\n        </Grid>\n      </Section>\n    </Fragment>\n  );\n};\n\nexport default RequestDetail;\n","import React, { Fragment, useEffect, useReducer } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport { expandable } from '@patternfly/react-table';\nimport { fetchRequests, expandRequest } from '../../redux/actions/request-actions';\nimport ActionModal from './action-modal';\nimport { createRows } from './request-table-helpers';\nimport { TableToolbarView } from '../../presentational-components/shared/table-toolbar-view';\nimport RequestDetail from './request-detail/request-detail';\nimport { isRequestStateActive } from '../../helpers/shared/helpers';\nimport { TopToolbar, TopToolbarTitle } from '../../presentational-components/shared/top-toolbar';\nimport AppTabs from '../../smart-components/app-tabs/app-tabs';\nimport { defaultSettings } from '../../helpers/shared/pagination';\nimport asyncDebounce from '../../utilities/async-debounce';\nimport { scrollToTop } from '../../helpers/shared/helpers';\n\nconst columns = [{\n  title: 'Name',\n  cellFormatters: [ expandable ]\n},\n'Requester',\n'Opened',\n'Updated',\n'Status',\n'Decision'\n];\n\nconst debouncedFilter = asyncDebounce(\n  (filter, dispatch, filteringCallback, meta = defaultSettings) => {\n    filteringCallback(true);\n    dispatch(fetchRequests(filter, meta)).then(() =>\n      filteringCallback(false)\n    );\n  },\n  1000\n);\nconst initialState = {\n  filterValue: '',\n  isOpen: false,\n  isFetching: true,\n  isFiltering: false\n};\n\nconst requestsListState = (state, action) => {\n  switch (action.type) {\n    case 'setFetching':\n      return { ...state, isFetching: action.payload };\n    case 'setFilterValue':\n      return { ...state, filterValue: action.payload };\n    case 'setFilteringFlag':\n      return { ...state, isFiltering: action.payload };\n    default:\n      return state;\n  }\n};\n\nconst Requests = () => {\n  const [{ filterValue, isFetching, isFiltering }, stateDispatch ] = useReducer(\n    requestsListState,\n    initialState\n  );\n  const { data, meta } = useSelector(\n    ({ requestReducer: { requests }}) => requests\n  );\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    dispatch(\n      fetchRequests(filterValue, defaultSettings)\n    ).then(() => stateDispatch({ type: 'setFetching', payload: false }));\n    scrollToTop();\n  }, []);\n\n  const handleFilterChange = (value) => {\n    stateDispatch({ type: 'setFilterValue', payload: value });\n    debouncedFilter(\n      value,\n      dispatch,\n      (isFiltering) =>\n        stateDispatch({ type: 'setFilteringFlag', payload: isFiltering }),\n      {\n        ...meta,\n        offset: 0\n      }\n    );\n  };\n\n  const tabItems = [{ eventKey: 0, title: 'Request queue', name: '/requests' },\n    { eventKey: 1, title: 'Workflows', name: '/workflows' }];\n\n  const routes = () => <Fragment>\n    <Route exact path=\"/requests/add_comment/:id\" render={ props => <ActionModal { ...props }\n      actionType={ 'Add Comment' }\n      postMethod={ fetchRequests } /> }/>\n    <Route exact path=\"/requests/approve/:id\" render={ props => <ActionModal { ...props } actionType={ 'Approve' }\n      postMethod={ fetchRequests }/> } />\n    <Route exact path=\"/requests/deny/:id\" render={ props => <ActionModal { ...props } actionType={ 'Deny' }\n      postMethod={ fetchRequests }/> } />\n  </Fragment>;\n\n  const areActionsDisabled = (requestData) => requestData &&\n    requestData.props ? !isRequestStateActive(requestData.props.state) || requestData.props.number_of_children > 0 : true;\n\n  const actionResolver = (requestData) => {\n    return (requestData && requestData.name && areActionsDisabled(requestData.name.title) ? null :\n      [\n        {\n          title: 'Comment',\n          onClick: () =>\n            history.push(`/requests/add_comment/${requestData.id}`)\n        }\n      ]);\n  };\n\n  const handlePagination = (_apiProps, pagination) => {\n    stateDispatch({ type: 'setFetching', payload: true });\n    dispatch(fetchRequests(filterValue, pagination))\n    .then(() => stateDispatch({ type: 'setFetching', payload: false }))\n    .catch(() => stateDispatch({ type: 'setFetching', payload: false }));\n  };\n\n  const onCollapse = (id, setRows, setOpen) => {\n    dispatch(expandRequest(id));\n    setRows((rows) => setOpen(rows, id));\n  };\n\n  const renderRequestsList = () => {\n    return (\n      <Fragment>\n        <TopToolbar>\n          <TopToolbarTitle title=\"Approval\"/>\n          <AppTabs tabItems={ tabItems }/>\n        </TopToolbar>\n        <TableToolbarView\n          data={ data }\n          createRows={ createRows }\n          columns={ columns }\n          fetchData={ handlePagination }\n          routes={ routes }\n          actionResolver={ actionResolver }\n          titlePlural=\"requests\"\n          titleSingular=\"request\"\n          pagination={ meta }\n          handlePagination={ handlePagination }\n          filterValue={ filterValue }\n          onFilterChange={ handleFilterChange }\n          isLoading={ isFetching || isFiltering }\n          onCollapse={ onCollapse }\n        />\n      </Fragment>);\n  };\n\n  return (\n    <Switch>\n      <Route path={ '/requests/detail/:id' } render={ props => <RequestDetail { ...props }/> } />\n      <Route path={ '/requests' } render={ () => renderRequestsList() } />\n    </Switch>\n  );\n};\n\nRequests.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }),\n  requests: PropTypes.array,\n  isLoading: PropTypes.bool\n};\n\nRequests.defaultProps = {\n  requests: [],\n  isLoading: false\n};\n\nexport default Requests;\n","import { getRbacGroupApi, getAxiosInstance } from '../shared/user-login';\nimport { RBAC_API_BASE } from '../../utilities/constants';\n\nconst api = getRbacGroupApi();\n\nexport async function getRbacGroups() {\n  return await api.listGroups();\n}\n\nexport async function fetchGroupNames(groupRefs) {\n  if (groupRefs) {\n    return Promise.all(groupRefs.map(async id => {\n      try {\n        const group = await api.getGroup(id);\n        return group.name;\n      } catch (error) {\n        if (error.status !== 404) {\n          throw error;\n        }\n        else {\n          return id;\n        }\n      }\n    }));\n  }\n}\n\nexport const fetchGroupName = (id) =>\n  getAxiosInstance().get(`${RBAC_API_BASE}/groups/${id}/`)\n  .then((data) => data.name).catch((error) => {\n    if (error.status !== 404) {\n      throw error;\n    } else {\n      return id;\n    }\n  });\n\nexport const fetchFilterGroups = (filterValue) =>\n  getAxiosInstance().get(`${RBAC_API_BASE}/groups/${filterValue.length > 0\n    ? `?name=${filterValue}`\n    : ''}`)\n  .then(({ data }) => data.map(({ uuid, name }) => ({ label: name, value: uuid })));\n\n","import { getWorkflowApi, getTemplateApi, getAxiosInstance } from '../shared/user-login';\nimport { fetchGroupNames } from '../group/group-helper';\nimport { defaultSettings } from '../shared/pagination';\nimport { APPROVAL_API_BASE } from '../../utilities/constants';\n\nconst workflowApi = getWorkflowApi();\nconst templateApi = getTemplateApi();\n\nexport function fetchWorkflows(filter = '', pagination = defaultSettings) {\n  const paginationQuery = `&limit=${pagination.limit}&offset=${pagination.offset}`;\n  const filterQuery = `&filter[name][contains_i]=${filter}`;\n  return getAxiosInstance().get(\n    `${APPROVAL_API_BASE}/workflows/?${filterQuery}${paginationQuery}`\n  );\n}\n\nexport async function fetchWorkflowsWithGroups({ appName = undefined,\n  objectId = undefined,\n  objectType = undefined,\n  limit = 10,\n  offset = 0,\n  filter = '' }) {\n  const wfData = await workflowApi.listWorkflows(appName, objectId, objectType, limit, offset, filter);\n  const workflows = wfData.data;\n  return Promise.all(workflows.map(async wf => {\n    const wfWithGroups = await fetchGroupNames(wf.group_refs);\n    return { ...wf, group_names: wfWithGroups };\n  })).then(data => ({\n    ...wfData,\n    data\n  }));\n}\n\nexport async function fetchWorkflowWithGroups(id) {\n  const wfData = await workflowApi.showWorkflow(id);\n  const  wfWithGroups = await fetchGroupNames(wfData.group_refs);\n  return { ...wfData, group_names: wfWithGroups };\n}\n\nexport async function fetchWorkflow(id) {\n  return await workflowApi.showWorkflow(id);\n}\n\nexport function updateWorkflow(data) {\n  return workflowApi.updateWorkflow(data.id, data);\n}\n\nexport  function addWorkflow(workflow) {\n  return templateApi.listTemplates().then(({ data }) => {\n    // workaround for v1. Need to pass template ID with the workflow. Assigning to first template\n    if (!data[0]) {\n      throw new Error('No template exists');\n    }\n\n    return data[0].id;\n\n  }).then(id => workflowApi.addWorkflowToTemplate(id, workflow, {}));\n}\n\nexport async function removeWorkflow(workflowId) {\n  return await workflowApi.destroyWorkflow(workflowId);\n}\n\nexport async function removeWorkflows(selectedWorkflows) {\n  return Promise.all(selectedWorkflows.map(async workflowId => await workflowApi.destroyWorkflow(workflowId)));\n}\n\n","import * as ActionTypes from '../action-types';\nimport * as WorkflowHelper from '../../helpers/workflow/workflow-helper';\n\nexport const fetchWorkflows = (filter, pagination) => ({\n  type: ActionTypes.FETCH_WORKFLOWS,\n  payload: WorkflowHelper.fetchWorkflows(filter, pagination)\n});\n\nexport const fetchWorkflow = apiProps => ({\n  type: ActionTypes.FETCH_WORKFLOW,\n  payload: WorkflowHelper.fetchWorkflowWithGroups(apiProps)\n});\n\nexport const addWorkflow = (workflowData) => ({\n  type: ActionTypes.ADD_WORKFLOW,\n  payload: WorkflowHelper.addWorkflow(workflowData),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success adding workflow',\n        description: 'The workflow was added successfully.'\n      },\n      rejected: {\n        variant: 'danger',\n        title: 'Failed adding workflow',\n        description: 'The workflow was not added successfuly.'\n      }\n    }\n  }\n});\n\nexport const updateWorkflow = (workflowData) => ({\n  type: ActionTypes.UPDATE_WORKFLOW,\n  payload: WorkflowHelper.updateWorkflow(workflowData),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success updating workflow',\n        description: 'The workflow was updated successfully.'\n      },\n      rejected: {\n        variant: 'danger',\n        title: 'Failed updating workflow',\n        description: 'The workflow was not updated successfuly.'\n      }\n    }\n  }\n});\n\nexport const removeWorkflow = (workflow) => ({\n  type: ActionTypes.REMOVE_WORKFLOW,\n  payload: WorkflowHelper.removeWorkflow(workflow),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success removing workflow',\n        description: 'The workflow was removed successfully.'\n      }\n    }\n  }\n});\n\nexport const removeWorkflows = (workflows) => ({\n  type: ActionTypes.REMOVE_WORKFLOWS,\n  payload: WorkflowHelper.removeWorkflows(workflows),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success removing workflows',\n        description: 'The selected workflows were removed successfully.'\n      }\n    }\n  }\n});\n\nexport const expandWorkflow = (id) => ({\n  type: ActionTypes.EXPAND_WORKFLOW,\n  payload: id\n});\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Grid,\n  GridItem,\n  Stack,\n  StackItem,\n  Text,\n  TextContent,\n  TextVariants,\n  Title\n} from '@patternfly/react-core';\n\nconst SummaryContent = ({ formData }) => {\n  const { name, description, wfGroups } = formData ? formData : { name: '', description: '', wfGroups: []};\n  return (\n    <Fragment>\n      <Stack gutter=\"md\">\n        <StackItem>\n          <Title size=\"xl\"> Review </Title>\n        </StackItem>\n        <StackItem>\n          <Stack gutter=\"md\">\n            <StackItem>\n              <TextContent>\n                <Text className=\"data-table-detail heading\" component={ TextVariants.h5 }>\n                    Review and confirm your inputs. If there is anything incorrect, click Back and revise.</Text>\n              </TextContent>\n            </StackItem>\n            <StackItem>\n              <Grid gutter=\"md\">\n                <GridItem span={ 2 }>\n                  <Text className=\"data-table-detail heading\" component={ TextVariants.h5 }>Workflow name</Text>\n                </GridItem>\n                <GridItem span={ 10 }>\n                  <Text className=\"data-table-detail content\" component={ TextVariants.p }>{ name }</Text>\n                </GridItem>\n              </Grid>\n              <Grid gutter=\"md\">\n                <GridItem span={ 2 }>\n                  <Text className=\"data-table-detail heading\" component={ TextVariants.h5 }>Description</Text>\n                </GridItem>\n                <GridItem span={ 10 }>\n                  <Text className=\"data-table-detail content\" component={ TextVariants.p }>{ description }</Text>\n                </GridItem>\n              </Grid>\n              { (wfGroups !== undefined) && wfGroups.map((stage, idx)  =>\n              { return (<Fragment key={ `Group-${idx}` }>\n                <Grid gutter=\"md\">\n                  <GridItem span={ 2 }>\n                    <Text key={ stage.value } className=\"data-table-detail heading\" component={ TextVariants.h5 }>\n                      { `Group ${idx + 1}` }\n                    </Text>\n                  </GridItem>\n                  <GridItem span={ 10 }>\n                    <Text key={ stage.label } className=\"data-table-detail content\" component={ TextVariants.p }>\n                      { `${wfGroups[idx].label}` }\n                    </Text>\n                  </GridItem>\n                </Grid>\n              </Fragment>); })\n              }\n            </StackItem>\n          </Stack>\n        </StackItem>\n      </Stack>\n    </Fragment>\n  );\n};\n\nSummaryContent.propTypes = {\n  formData: PropTypes.object\n};\n\nexport default SummaryContent;\n\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Form,\n  FormGroup,\n  Stack,\n  StackItem,\n  TextInput,\n  TextArea,\n  Title\n} from '@patternfly/react-core';\n\nconst StageInformation = ({ formData, handleChange, title = undefined }) => {\n  const { name, description } = formData;\n\n  return (\n    <Fragment>\n      <Stack gutter=\"md\">\n        <StackItem>\n          <Title size=\"md\"> { title || 'Enter your information' } </Title>\n        </StackItem>\n        <StackItem>\n          <Form>\n            <FormGroup\n              label=\"Workflow name\"\n              isRequired\n              fieldId=\"workflow-name\"\n            >\n              <TextInput\n                isRequired\n                type=\"text\"\n                id=\"workflow-name\"\n                name=\"workflow-name\"\n                aria-describedby=\"workflow-name\"\n                value={ name }\n                onChange={ (_, event) => handleChange({ name: event.currentTarget.value }) }\n              />\n            </FormGroup>\n            <FormGroup label=\"Description\" fieldId=\"workflow-description\">\n              <TextArea\n                type=\"text\"\n                id=\"workflow-description\"\n                name=\"workflow-description\"\n                value={ description }\n                onChange={ (_, event) => handleChange({ description: event.currentTarget.value }) }\n              />\n            </FormGroup>\n          </Form>\n        </StackItem>\n      </Stack>\n    </Fragment>\n  );\n};\n\nStageInformation.propTypes = {\n  name: PropTypes.string,\n  description: PropTypes.string,\n  title: PropTypes.string,\n  formData: PropTypes.object,\n  handleChange: PropTypes.func.isRequired\n};\n\nexport default StageInformation;\n","import { FETCH_RBAC_GROUPS } from '../action-types';\nimport * as GroupHelper from '../../helpers/group/group-helper';\n\nexport const fetchRbacGroups = () => ({\n  type: FETCH_RBAC_GROUPS,\n  payload: GroupHelper.getRbacGroups().then(({ data }) => [\n    ...data.map(({ uuid, name }) => ({ value: uuid, label: name }))\n  ])\n});\n","import React, { Fragment, useState, useEffect } from 'react';\nimport { PlusIcon, TrashIcon } from '@patternfly/react-icons';\nimport PropTypes from 'prop-types';\nimport AsyncSelect from 'react-select/async';\nimport asyncDebounce from '../../../utilities/async-debounce';\nimport { fetchFilterGroups } from '../../../helpers/group/group-helper';\nimport { WorkflowStageLoader } from '../../../presentational-components/shared/loader-placeholders';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Button,\n  FormGroup,\n  Grid,\n  GridItem,\n  Stack,\n  StackItem,\n  Title\n} from '@patternfly/react-core';\nimport { fetchRbacGroups } from '../../../redux/actions/group-actions';\n\nconst SetStages = ({ formData, handleChange, title }) => {\n  const [ isExpanded, setExpanded ] = useState(false);\n  const [ stageValues, setStageValues ] = useState([]);\n  const [ stageIndex, setStageIndex ] = useState(1);\n  const [ inputValue, setInputValue ] = useState([]);\n  const [ isFetching, setIsFetching ] = useState([]);\n\n  const defaultOptions = useSelector(({ groupReducer: { groups }}) => groups || []);\n\n  const onInputChange = (newValue) => {\n    const value = newValue.replace(/\\W/g, '');\n    setInputValue(value);\n  };\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    setIsFetching(true);\n    dispatch(\n      fetchRbacGroups()).then(() => setIsFetching(false));\n  }, []);\n\n  useEffect(() => {\n    setStageValues(formData.wfGroups ? formData.wfGroups : []);\n    setStageIndex(formData.wfGroups ? formData.wfGroups.length : 1);\n  }, [ formData.wfGroups ]);\n\n  const onToggle = (isExpanded) => {\n    setExpanded(isExpanded);\n  };\n\n  const onStageChange = (value, index) => {\n    const values = stageValues;\n    values[index] = value;\n    setStageValues(values);\n    handleChange({ wfGroups: values });\n  };\n\n  const addStage = () => {\n    setStageValues([ ...stageValues, undefined ]);\n    setStageIndex(stageIndex + 1);\n  };\n\n  const removeStage = (idx) => {\n    const i = parseInt(idx.target.id);\n    const values = [ ...stageValues.filter((_, j) => i !== j) ];\n    setStageValues(values);\n    setStageIndex(stageIndex - 1);\n    handleChange({ wfGroups: values });\n  };\n\n  const loadGroupOptions = (inputValue) => fetchFilterGroups(inputValue);\n\n  const createStageInput = (idx) => (\n    <StackItem key={ `Stack_${idx + 1}` }>\n      <FormGroup\n        label={ `Group ${idx + 1}` }\n        fieldId={ `${idx + 1}_stage_label` }\n      >\n        <Grid gutter=\"md\">\n          <GridItem span={ 8 }>\n            <AsyncSelect\n              cacheOptions\n              isClearable\n              label={ `${idx + 1} Group` }\n              aria-label={ `${idx + 1} Group` }\n              onToggle={ onToggle }\n              key={ `stage-${idx + 1}` }\n              onChange={ (e) => onStageChange(e, idx) }\n              value={ stageValues[idx] }\n              inpuValue={ inputValue }\n              isexpanded={ isExpanded }\n              loadOptions={ asyncDebounce(loadGroupOptions) }\n              defaultOptions={ defaultOptions }\n              onInputChange={ (e) => onInputChange(e, idx) }\n            />\n          </GridItem>\n          <GridItem span={ 1 } style={ { display: 'flex' } }>\n            { idx > 0 && <Button variant=\"link\" isInline key={ idx } id={ idx } onClick={ removeStage }>\n              <TrashIcon/> { 'Remove' }\n            </Button> }\n          </GridItem>\n        </Grid>\n      </FormGroup>\n    </StackItem>\n  );\n\n  return (\n    <Fragment>\n      <Stack gutter=\"md\">\n        <StackItem>\n          <Title size=\"md\">{ title || 'Set groups' }</Title>\n        </StackItem>\n        <StackItem>\n          { isFetching && <WorkflowStageLoader/> }\n          { !isFetching &&\n          <Stack gutter=\"sm\">\n            { stageValues.map((_stage, idx) => createStageInput(idx)) }\n            <StackItem style={ { borderTop: 10 } }>\n              <Button id=\"add-workflow-stage\" variant=\"link\" isInline onClick={ addStage }>\n                <PlusIcon/> { `Add ${ stageValues.length > 0 ? 'another' : 'a'} group` }\n              </Button>\n            </StackItem>\n          </Stack> }\n        </StackItem>\n      </Stack>\n    </Fragment>\n  );\n};\n\nSetStages.propTypes = {\n  name: PropTypes.string,\n  description: PropTypes.string,\n  title: PropTypes.string,\n  formData: PropTypes.object,\n  handleChange: PropTypes.func\n};\n\nexport default SetStages;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport { Wizard } from '@patternfly/react-core';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications';\nimport { addWorkflow, fetchWorkflow } from '../../../redux/actions/workflow-actions';\nimport SummaryContent from './summary-content';\nimport StageInformation from './stage-information';\nimport SetStages from './set-stages';\n\nconst AddWorkflow = ({\n  history: { push },\n  addWorkflow,\n  addNotification,\n  postMethod,\n  rbacGroups\n}) => {\n  const [ formData, setValues ] = useState({});\n\n  const handleChange = data => {\n    setValues({ ...formData,  ...data });\n  };\n\n  const steps = [\n    { name: 'General information', component: <StageInformation formData={ formData } handleChange={ handleChange } /> },\n    { name: 'Set groups', component: <SetStages formData={ formData }\n      handleChange={ handleChange } options={ rbacGroups } /> },\n    { name: 'Review', component: <SummaryContent formData={ formData }\n      options={ rbacGroups } />, nextButtonText: 'Confirm' }\n  ];\n\n  const onSave = () => {\n    const { name, description, wfGroups } = formData;\n    const workflowData = { name, description, group_refs: wfGroups.map(group => group.value) };\n    return addWorkflow(workflowData).then(() => postMethod()).then(() => (push('/workflows')));\n  };\n\n  const onCancel = () => {\n    addNotification({\n      variant: 'warning',\n      title: 'Creating workflow',\n      dismissable: true,\n      description: 'Creating workflow was cancelled by the user.'\n    });\n    push('/workflows');\n  };\n\n  return (\n    <Wizard\n      title={ 'Create workflow' }\n      isOpen\n      onClose={ onCancel }\n      onSave={ onSave  }\n      steps={ steps }\n    />\n  );\n};\n\nAddWorkflow.defaultProps = {\n  rbacGroups: [],\n  initialValues: {}\n};\n\nAddWorkflow.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired,\n  addWorkflow: PropTypes.func.isRequired,\n  match: PropTypes.object,\n  addNotification: PropTypes.func.isRequired,\n  fetchWorkflow: PropTypes.func.isRequired,\n  postMethod: PropTypes.func.isRequired,\n  rbacGroups: PropTypes.arrayOf(PropTypes.shape({\n    value: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]).isRequired,\n    label: PropTypes.string.isRequired\n  })).isRequired\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    rbacGroups: state.groupReducer.groups\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  addNotification,\n  addWorkflow,\n  fetchWorkflow\n}, dispatch);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(AddWorkflow));\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport { ActionGroup, Button, FormGroup, Modal, Split, SplitItem, Stack, StackItem } from '@patternfly/react-core';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications';\nimport { addWorkflow, updateWorkflow, fetchWorkflow } from '../../redux/actions/workflow-actions';\nimport { WorkflowStageLoader } from '../../presentational-components/shared/loader-placeholders';\nimport StageInformation from './add-stages/stage-information';\nimport '../../App.scss';\n\nconst EditWorkflowInfoModal = ({\n  history: { push },\n  match: { params: { id }},\n  addNotification,\n  fetchWorkflow,\n  updateWorkflow,\n  postMethod,\n  workflow,\n  isFetching\n}) => {\n  const [ formData, setFormData ] = useState({});\n\n  const handleChange = data => setFormData({ ...formData, ...data });\n\n  useEffect(() => {\n    fetchWorkflow(id).then((data) => setFormData({ ...formData, ...data.value }));\n  }, []);\n\n  const onSave = () => {\n    const { name, description } = formData;\n    const workflowData = { id, name, description };\n    updateWorkflow(workflowData).then(() => postMethod()).then(() => push('/workflows'));\n  };\n\n  const onCancel = () => {\n    addNotification({\n      variant: 'warning',\n      title: `Edit workflow's groups`,\n      dismissable: true,\n      description: `Edit workflow's groups was cancelled by the user.`\n    });\n    push('/workflows');\n  };\n\n  return (\n    <Modal\n      title={ `Edit workflow's information` }\n      width={ '40%' }\n      isOpen\n      onClose={ onCancel }>\n      <Stack gutter=\"md\">\n        <StackItem>\n          <FormGroup fieldId=\"edito-workflow-info-modal-info\">\n            { isFetching && <WorkflowStageLoader/> }\n            { !isFetching && (\n              <StageInformation formData={ formData }\n                handleChange={ handleChange }\n                title={ `Make any changes to workflow ${workflow.name}` }/>) }\n          </FormGroup>\n        </StackItem>\n        <StackItem>\n          <ActionGroup>\n            <Split gutter=\"md\">\n              <SplitItem>\n                <Button\n                  aria-label={ 'Save' }\n                  id=\"save-edit-workflow-info\"\n                  variant=\"primary\"\n                  type=\"submit\"\n                  isDisabled={ isFetching }\n                  onClick={ onSave }>Save</Button>\n              </SplitItem>\n              <SplitItem>\n                <Button\n                  id=\"cancel-edit-workflow-info\"\n                  aria-label='Cancel'\n                  variant='secondary'\n                  type='button'\n                  onClick={ onCancel }>Cancel</Button>\n              </SplitItem>\n            </Split>\n          </ActionGroup>\n        </StackItem>\n      </Stack>\n    </Modal>\n  );\n};\n\nEditWorkflowInfoModal.defaultProps = {\n  isFetching: false\n};\n\nEditWorkflowInfoModal.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired,\n  match: PropTypes.object,\n  addNotification: PropTypes.func.isRequired,\n  fetchWorkflow: PropTypes.func.isRequired,\n  postMethod: PropTypes.func.isRequired,\n  updateWorkflow: PropTypes.func.isRequired,\n  workflow: PropTypes.object,\n  id: PropTypes.string,\n  editType: PropTypes.string,\n  isFetching: PropTypes.bool\n};\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  addNotification,\n  addWorkflow,\n  updateWorkflow,\n  fetchWorkflow\n}, dispatch);\n\nconst mapStateToProps = ({ workflowReducer: { workflow, isRecordLoading }}) => ({\n  workflow,\n  isFetching: isRecordLoading\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(EditWorkflowInfoModal));\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport { ActionGroup, Button, FormGroup, Modal, Split, SplitItem, Stack, StackItem } from '@patternfly/react-core';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications';\nimport { addWorkflow, updateWorkflow, fetchWorkflow } from '../../redux/actions/workflow-actions';\nimport { fetchRbacGroups } from '../../redux/actions/group-actions';\nimport { WorkflowStageLoader } from '../../presentational-components/shared/loader-placeholders';\nimport SetStages from './add-stages/set-stages';\nimport '../../App.scss';\n\nconst EditWorkflowStagesModal = ({\n  history: { push },\n  match: { params: { id }},\n  addNotification,\n  fetchWorkflow,\n  updateWorkflow,\n  postMethod,\n  isFetching\n}) => {\n  const [ formData, setValues ] = useState({});\n\n  const handleChange = data => {\n    setValues({ ...formData, ...data });\n  };\n\n  const initialValues = (wfData) => {\n    const stageOptions = wfData.group_refs.map((group, idx) => {\n      return { label: (wfData.group_names[idx] ? wfData.group_names[idx] : group), value: group };\n    });\n    const data = { ...wfData, wfGroups: stageOptions };\n    return data;\n  };\n\n  useEffect(() => {\n    fetchWorkflow(id).then((result) => setValues(initialValues(result.value)));\n  }, []);\n\n  const onSave = () => {\n    const { wfGroups } = formData;\n    const workflowData = { group_refs: wfGroups.map(group => group.value)  };\n    updateWorkflow({ id, ...workflowData }).then(() => postMethod()).then(()=>push('/workflows'));\n  };\n\n  const onCancel = () => {\n    addNotification({\n      variant: 'warning',\n      title: `Edit workflow's groups`,\n      dismissable: true,\n      description: `Edit workflow's stages was cancelled by the user.`\n    });\n    push('/workflows');\n  };\n\n  return (\n    <Modal\n      title={ `Edit workflow's groups` }\n      width={ '40%' }\n      isOpen\n      onClose={ onCancel }>\n      <Stack gutter=\"md\">\n        <StackItem>\n          <FormGroup fieldId=\"workflow-stages-formgroup\">\n            { isFetching && <WorkflowStageLoader/> }\n            { !isFetching && (\n              <StackItem className=\"stages-modal\">\n                <SetStages className=\"stages-modal\" formData={ formData }\n                  handleChange={ handleChange }\n                  title={ `Add or remove ${formData.name}'s groups` }/>\n              </StackItem>) }\n          </FormGroup>\n        </StackItem>\n        <StackItem>\n          <ActionGroup>\n            <Split gutter=\"md\">\n              <SplitItem>\n                <Button aria-label={ 'Save' }\n                  variant=\"primary\"\n                  type=\"submit\"\n                  isDisabled={ isFetching }\n                  onClick={ onSave }>Save</Button>\n              </SplitItem>\n              <SplitItem>\n                <Button  aria-label='Cancel'\n                  variant='secondary'\n                  type='button'\n                  onClick={ onCancel }>Cancel</Button>\n              </SplitItem>\n            </Split>\n          </ActionGroup>\n        </StackItem>\n      </Stack>\n    </Modal>\n  );\n};\n\nEditWorkflowStagesModal.defaultProps = {\n  rbacGroups: [],\n  isFetching: false\n};\n\nEditWorkflowStagesModal.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }),\n  addWorkflow: PropTypes.func.isRequired,\n  match: PropTypes.object,\n  addNotification: PropTypes.func.isRequired,\n  fetchWorkflow: PropTypes.func.isRequired,\n  fetchRbacGroups: PropTypes.func.isRequired,\n  postMethod: PropTypes.func.isRequired,\n  updateWorkflow: PropTypes.func.isRequired,\n  id: PropTypes.string,\n  editType: PropTypes.string,\n  rbacGroups: PropTypes.arrayOf(PropTypes.shape({\n    value: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]).isRequired,\n    label: PropTypes.string.isRequired\n  })).isRequired,\n  isFetching: PropTypes.bool,\n  item: PropTypes.shape({\n    id: PropTypes.string,\n    name: PropTypes.string\n  })\n};\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  addNotification,\n  addWorkflow,\n  updateWorkflow,\n  fetchWorkflow,\n  fetchRbacGroups\n}, dispatch);\n\nconst mapStateToProps = ({ workflowReducer: { isRecordLoading }}) => ({\n  isFetching: isRecordLoading\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(EditWorkflowStagesModal));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { FormattedMessage } from 'react-intl';\nimport { Modal, Button, Bullseye, Text, TextContent, TextVariants } from '@patternfly/react-core';\nimport { removeWorkflow, removeWorkflows } from '../../redux/actions/workflow-actions';\n\nconst RemoveWorkflowModal = ({\n  history: { goBack, push },\n  match: { params: { id: workflowId  }},\n  ids,\n  removeWorkflow,\n  removeWorkflows,\n  fetchData,\n  setSelectedWorkflows\n}) => {\n  if (!workflowId && (!ids || ids.length === 0)) {\n    return null;\n  }\n\n  const onSubmit = () => { return ((workflowId ? removeWorkflow(workflowId) : removeWorkflows(ids))\n  .then(setSelectedWorkflows([])).then(fetchData()).then(push('/workflows')));\n  };\n\n  const onCancel = () => goBack();\n\n  return (\n    <Modal\n      isOpen\n      isSmall\n      width={ '40%' }\n      title={ '' }\n      onClose={ onCancel }\n      actions={ [\n        <Button id=\"cancel-remove-workflow\" key=\"cancel\" variant=\"secondary\" type=\"button\" onClick={ onCancel }>\n          Cancel\n        </Button>,\n        <Button id=\"submit-remove-workflow\" key=\"submit\" variant=\"primary\" type=\"button\" onClick={ onSubmit }>\n          Confirm\n        </Button>\n      ] }\n    >\n      <Bullseye>\n        <TextContent>\n          <Text component={ TextVariants.h1 }>\n            <FormattedMessage\n              id=\"remove-workflow-modal\"\n              defaultMessage={ `Removing {count, number} {count, plural,\n              one {workflow}\n              other {workflows}\n            }` }\n              values={ {\n                count: workflowId !== undefined ? 1 : ids.length\n              } }\n            />\n          </Text>\n        </TextContent>\n      </Bullseye>\n    </Modal>\n  );\n};\n\nRemoveWorkflowModal.propTypes = {\n  history: PropTypes.shape({\n    goBack: PropTypes.func.isRequired,\n    push: PropTypes.func.isRequired\n  }).isRequired,\n  match: PropTypes.object,\n  removeWorkflows: PropTypes.func.isRequired,\n  removeWorkflow: PropTypes.func.isRequired,\n  fetchData: PropTypes.func.isRequired,\n  setSelectedWorkflows: PropTypes.func.isRequired,\n  workflowId: PropTypes.string,\n  ids: PropTypes.array\n};\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  removeWorkflow,\n  removeWorkflows\n}, dispatch);\n\nexport default withRouter(connect(null, mapDispatchToProps)(RemoveWorkflowModal));\n","import React, { Fragment, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { TextContent, Text, TextVariants } from '@patternfly/react-core';\nimport { useSelector } from 'react-redux';\nimport { fetchGroupName } from '../../helpers/group/group-helper';\nimport { Skeleton, SkeletonSize } from '@redhat-cloud-services/frontend-components';\n\nconst ExpandableContent = ({ description, groupRefs, id }) => {\n  const [ groupNames, setGroupNames ] = useState([]);\n  const [ isLoaded, setIsLoaded ] = useState();\n  const [ fetching, setFetching ] = useState();\n\n  const expandedWorkflows = useSelector(({ workflowReducer: { expandedWorkflows }}) => expandedWorkflows);\n\n  const fetchGroupNames = () => Promise.all(groupRefs.map((ref) => fetchGroupName(ref)));\n\n  useEffect(() => {\n    if (!isLoaded && expandedWorkflows.includes(id) && !fetching) {\n      setFetching(true);\n      fetchGroupNames(groupRefs).then((data) => { setGroupNames(data); setIsLoaded(true); }).catch(() => setIsLoaded(true));\n    }\n  }, [ expandedWorkflows ]);\n\n  return (\n    <Fragment>\n      <TextContent>\n        <Text className=\"data-table-detail heading\" component={ TextVariants.small }>Description</Text>\n        <Text className=\"data-table-detail content\" component={ TextVariants.h5 }>{ description }</Text>\n      </TextContent>\n      <TextContent>\n        <Fragment>\n          <Text className=\"data-table-detail heading\" component={ TextVariants.small }>Groups</Text>\n          { isLoaded ?\n            <Text className=\"data-table-detail content\"\n              component={ TextVariants.h5 }>\n              { groupNames.join(',') }\n            </Text> :\n            <div>\n              <Skeleton size={ SkeletonSize.sm } />\n            </div> }\n        </Fragment>\n      </TextContent>\n    </Fragment>\n  );\n};\n\nExpandableContent.propTypes = {\n  description: PropTypes.string,\n  groupRefs: PropTypes.array.isRequired,\n  id: PropTypes.string.isRequired\n};\n\nexport default ExpandableContent;\n","import React from 'react';\n\nimport ExpandableContent from './expandable-content';\n\nexport const createRows = (data) =>\n  data.filter(item => {\n    return (item.name !== 'Always approve');\n  }).reduce((acc,\n    {\n      id,\n      name,\n      description,\n      sequence,\n      group_refs\n    }, key) => ([\n    ...acc, {\n      id,\n      isOpen: false,\n      selected: false,\n      cells: [ name, description, sequence ]\n    }, {\n      parent: key * 2,\n      cells: [{ title: <ExpandableContent\n        description={ description }\n        groupRefs={ group_refs }\n        id={ id }\n      /> }]\n    }\n  ]), []);\n\n","import React, { Fragment, useEffect, useReducer, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Link, useHistory } from 'react-router-dom';\nimport { ToolbarGroup, ToolbarItem, Button } from '@patternfly/react-core';\nimport { expandable } from '@patternfly/react-table';\nimport { fetchWorkflows, expandWorkflow } from '../../redux/actions/workflow-actions';\nimport AddWorkflow from './add-stages/add-stages-wizard';\nimport EditWorkflowInfo from './edit-workflow-info-modal';\nimport EditWorkflowStages from './edit-workflow-stages-modal';\nimport RemoveWorkflow from './remove-workflow-modal';\nimport { createRows } from './workflow-table-helpers';\nimport { TableToolbarView } from '../../presentational-components/shared/table-toolbar-view';\nimport { TopToolbar, TopToolbarTitle } from '../../presentational-components/shared/top-toolbar';\nimport AppTabs from '../../smart-components/app-tabs/app-tabs';\nimport { defaultSettings } from '../../helpers/shared/pagination';\nimport asyncDebounce from '../../utilities/async-debounce';\nimport { scrollToTop } from '../../helpers/shared/helpers';\n\nconst columns = [{\n  title: 'Name',\n  cellFormatters: [ expandable ]\n},\n'Description',\n'Sequence'\n];\n\nconst debouncedFilter = asyncDebounce(\n  (filter, dispatch, filteringCallback, meta = defaultSettings) => {\n    filteringCallback(true);\n    dispatch(fetchWorkflows(filter, meta)).then(() =>\n      filteringCallback(false)\n    );\n  },\n  1000\n);\nconst initialState = {\n  filterValue: '',\n  isOpen: false,\n  isFetching: true,\n  isFiltering: false\n};\n\nconst workflowsListState = (state, action) => {\n  switch (action.type) {\n    case 'setFetching':\n      return { ...state, isFetching: action.payload };\n    case 'setFilterValue':\n      return { ...state, filterValue: action.payload };\n    case 'setFilteringFlag':\n      return { ...state, isFiltering: action.payload };\n    default:\n      return state;\n  }\n};\n\nconst Workflows = () => {\n  const [ selectedWorkflows, setSelectedWorkflows ] = useState([]);\n  const [{ filterValue, isFetching, isFiltering }, stateDispatch ] = useReducer(\n    workflowsListState,\n    initialState\n  );\n  const { data, meta } = useSelector(\n    ({ workflowReducer: { workflows }}) => workflows\n  );\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    dispatch(\n      fetchWorkflows(filterValue, defaultSettings)\n    ).then(() => stateDispatch({ type: 'setFetching', payload: false }));\n    scrollToTop();\n  }, []);\n\n  const handleFilterChange = (value) => {\n    stateDispatch({ type: 'setFilterValue', payload: value });\n    debouncedFilter(\n      value,\n      dispatch,\n      (isFiltering) =>\n        stateDispatch({ type: 'setFilteringFlag', payload: isFiltering }),\n      {\n        ...meta,\n        offset: 0\n      }\n    );\n  };\n\n  const tabItems = [{ eventKey: 0, title: 'Request queue', name: '/requests' },\n    { eventKey: 1, title: 'Workflows', name: '/workflows' }];\n\n  const handlePagination = (_apiProps, pagination) => {\n    stateDispatch({ type: 'setFetching', payload: true });\n    dispatch(fetchWorkflows(filterValue, pagination))\n    .then(() => stateDispatch({ type: 'setFetching', payload: false }))\n    .catch(() => stateDispatch({ type: 'setFetching', payload: false }));\n  };\n\n  const routes = () => <Fragment>\n    <Route exact path=\"/workflows/add-workflow\" render={ props => <AddWorkflow { ...props }\n      postMethod={ handlePagination } /> }/>\n    <Route exact path=\"/workflows/edit-info/:id\" render={ props => <EditWorkflowInfo editType='info' { ...props }\n      postMethod={ handlePagination } /> }/>\n    <Route exact path=\"/workflows/edit-stages/:id\" render={ props => <EditWorkflowStages editType='stages' { ...props }\n      postMethod={ handlePagination } /> }/>\n    <Route exact path=\"/workflows/remove/:id\"\n      render={ props => <RemoveWorkflow { ...props }\n        fetchData={ handlePagination }\n        setSelectedWorkflows={ setSelectedWorkflows } /> }/>\n    <Route exact path=\"/workflows/remove\"\n      render={ props => <RemoveWorkflow { ...props }\n        ids={ selectedWorkflows }\n        fetchData={ handlePagination }\n        setSelectedWorkflows={ setSelectedWorkflows } /> }/>\n  </Fragment>;\n\n  const actionResolver = (workflowData, { rowIndex }) => rowIndex % 2 === 1 ?\n    null\n    : [\n      {\n        title: 'Edit info',\n        onClick: (_event, _rowId, workflow) =>\n          history.push(`/workflows/edit-info/${workflow.id}`)\n      },\n\n      {\n        title: 'Edit groups',\n        onClick: (_event, _rowId, workflow) =>\n          history.push(`/workflows/edit-stages/${workflow.id}`)\n      },\n\n      {\n        title: 'Delete',\n        style: { color: 'var(--pf-global--danger-color--100)'\t},\n        onClick: (_event, _rowId, workflow) =>\n          history.push(`/workflows/remove/${workflow.id}`)\n      }\n    ];\n\n  const setCheckedItems = (checkedWorkflows) =>\n    setSelectedWorkflows(checkedWorkflows.map(wf => wf.id));\n\n  const anyWorkflowsSelected = selectedWorkflows.length > 0;\n\n  const toolbarButtons = () => <ToolbarGroup className={ `pf-u-pl-lg top-toolbar` }>\n    <ToolbarItem>\n      <Link id=\"add-workflow-link\" to=\"/workflows/add-workflow\">\n        <Button\n          variant=\"primary\"\n          aria-label=\"Create workflow\"\n        >\n          Create workflow\n        </Button>\n      </Link>\n    </ToolbarItem>\n    <ToolbarItem>\n      <Link id=\"remove-multiple-workflows\" className={ anyWorkflowsSelected ? '' : 'disabled-link' } to={ { pathname: '/workflows/remove' } }>\n        <Button\n          variant=\"link\"\n          isDisabled={ !anyWorkflowsSelected }\n          style={ { color: anyWorkflowsSelected ? 'var(--pf-global--danger-color--100)' : 'var(--pf-global--disabled-color--100)'\t} }\n          aria-label=\"Delete Workflow\"\n        >\n          Delete\n        </Button>\n      </Link>\n    </ToolbarItem>\n  </ToolbarGroup>;\n\n  const onCollapse = (id, setRows, setOpen) => {\n    dispatch(expandWorkflow(id));\n    setRows((rows) => setOpen(rows, id));\n  };\n\n  return (\n    <Fragment>\n      <TopToolbar>\n        <TopToolbarTitle title=\"Approval\"/>\n        <AppTabs tabItems={ tabItems }/>\n      </TopToolbar>\n      <TableToolbarView\n        data={ data }\n        isSelectable={ true }\n        createRows={ createRows }\n        columns={ columns }\n        fetchData={ handlePagination }\n        routes={ routes }\n        actionResolver={ actionResolver }\n        titlePlural=\"workflows\"\n        titleSingular=\"workflow\"\n        pagination={ meta }\n        setCheckedItems={ setCheckedItems }\n        toolbarButtons={ toolbarButtons }\n        filterValue={ filterValue }\n        onFilterChange={ handleFilterChange }\n        isLoading={ isFetching || isFiltering }\n        onCollapse={ onCollapse }\n      />\n    </Fragment>\n  );\n};\n\nWorkflows.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired,\n  workflows: PropTypes.array,\n  isLoading: PropTypes.bool,\n  selectedWorkflows: PropTypes.array\n};\n\nWorkflows.defaultProps = {\n  workflows: [],\n  rbacGroups: {},\n  isLoading: false\n};\n\nexport default Workflows;\n","import {\n  FETCH_REQUEST,\n  FETCH_REQUEST_CONTENT,\n  FETCH_REQUESTS,\n  EXPAND_REQUEST\n} from '../../redux/action-types';\n\n// Initial State\nexport const requestsInitialState = {\n  requests: {\n    data: [],\n    meta: {\n      count: 0,\n      limit: 10,\n      offset: 0\n    }\n  },\n  filterValue: '',\n  isRequestDataLoading: false,\n  expandedRequests: []\n};\n\nconst setLoadingState = state => ({ ...state, isRequestDataLoading: true, expandedRequests: []});\nconst setRequests = (state, { payload }) => ({ ...state, requests: payload, isRequestDataLoading: false });\nconst selectRequest = (state, { payload }) => ({ ...state, selectedRequest: payload, isRequestDataLoading: false });\nconst setRequestContent = (state, { payload }) => ({ ...state, requestContent: payload, isRequestDataLoading: false });\nconst setexpandRequest = (state, { payload }) => ({ ...state, expandedRequests: [ ...state.expandedRequests, payload ]});\n\nexport default {\n  [`${FETCH_REQUESTS}_PENDING`]: setLoadingState,\n  [`${FETCH_REQUESTS}_FULFILLED`]: setRequests,\n  [`${FETCH_REQUEST}_PENDING`]: setLoadingState,\n  [`${FETCH_REQUEST}_FULFILLED`]: selectRequest,\n  [`${FETCH_REQUEST_CONTENT}_PENDING`]: setLoadingState,\n  [`${FETCH_REQUEST_CONTENT}_FULFILLED`]: setRequestContent,\n  [EXPAND_REQUEST]: setexpandRequest\n};\n","import {\n  FETCH_WORKFLOW,\n  FETCH_WORKFLOWS,\n  EXPAND_WORKFLOW\n} from '../../redux/action-types';\n\n// Initial State\nexport const workflowsInitialState = {\n  workflows: {\n    data: [],\n    meta: {\n      count: 0,\n      limit: 10,\n      offset: 0\n    }\n  },\n  workflow: {},\n  filterValue: '',\n  isLoading: false,\n  isRecordLoading: false,\n  expandedWorkflows: []\n};\n\nconst setLoadingState = state => ({ ...state, isLoading: true, expandedWorkflows: []});\nconst setRecordLoadingState = state => ({ ...state, isRecordLoading: true });\nconst setWorkflows = (state, { payload }) => ({ ...state, workflows: payload, isLoading: false });\nconst selectWorkflow = (state, { payload }) => ({ ...state, workflow: payload, isRecordLoading: false });\nconst expandWorkflow = (state, { payload }) => ({ ...state, expandedWorkflows: [ ...state.expandedWorkflows, payload ]});\n\nexport default {\n  [`${FETCH_WORKFLOWS}_PENDING`]: setLoadingState,\n  [`${FETCH_WORKFLOWS}_FULFILLED`]: setWorkflows,\n  [`${FETCH_WORKFLOW}_PENDING`]: setRecordLoadingState,\n  [`${FETCH_WORKFLOW}_FULFILLED`]: selectWorkflow,\n  [EXPAND_WORKFLOW]: expandWorkflow\n};\n","import {\n  FETCH_RBAC_GROUPS,\n  FETCH_GROUP_NAMES\n} from '../action-types';\n\n// Initial State\nexport const groupsInitialState = {\n  groups: [],\n  isLoading: false\n};\n\nconst setLoadingState = state => ({ ...state, isLoading: true });\nconst setGroups = (state, { payload }) => ({ ...state, groups: payload, isLoading: false });\nconst setGroupNames = (state, { payload }) => ({ ...state, groupNames: payload, isLoading: false });\n\nexport default {\n  [`${FETCH_RBAC_GROUPS}_PENDING`]: setLoadingState,\n  [`${FETCH_RBAC_GROUPS}_FULFILLED`]: setGroups,\n  [`${FETCH_GROUP_NAMES}_PENDING`]: setLoadingState,\n  [`${FETCH_GROUP_NAMES}_FULFILLED`]: setGroupNames\n};\n","\nimport promiseMiddleware from 'redux-promise-middleware';\nimport ReducerRegistry, { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/files/ReducerRegistry';\nimport { notifications, notificationsMiddleware } from '@redhat-cloud-services/frontend-components-notifications/';\n\nimport reduxLogger from 'redux-logger';\nimport thunk from 'redux-thunk';\nimport requestReducer, { requestsInitialState } from '../redux/reducers/request-reducer';\nimport workflowReducer, { workflowsInitialState } from '../redux/reducers/workflow-reducer';\nimport groupReducer, { groupsInitialState } from '../redux/reducers/group-reducer';\n\nconst registry = new ReducerRegistry({}, [ thunk, promiseMiddleware(), notificationsMiddleware({\n  errorTitleKey: [ 'message' ],\n  errorDescriptionKey: [ 'errors', 'stack' ]\n}), reduxLogger ]);\n\nregistry.register({\n  requestReducer: applyReducerHash(requestReducer, requestsInitialState),\n  workflowReducer: applyReducerHash(workflowReducer, workflowsInitialState),\n  groupReducer: applyReducerHash(groupReducer, groupsInitialState),\n  notifications\n});\n\nexport default registry.getStore();\n","import { Route, Switch, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport React, { lazy, Suspense } from 'react';\nimport { RequestLoader } from './presentational-components/shared/loader-placeholders';\n\n/**\n * Aysnc imports of components\n *\n * https://webpack.js.org/guides/code-splitting/\n * https://reactjs.org/docs/code-splitting.html\n *\n * pros:\n *      1) code splitting\n *      2) can be used in server-side rendering\n * cons:\n *      1) naming chunk names adds unnecessary docs to code,\n *         see the difference with DashboardMap and InventoryDeployments.\n *\n */\nconst Requests = lazy(() => import('./smart-components/request/requests'));\nconst Workflows = lazy(() => import('./smart-components/workflow/workflows'));\n\nconst paths = {\n  approval: '/',\n  requests: '/requests',\n  workflows: '/workflows'\n};\n\nconst InsightsRoute = ({ rootClass, ...rest }) => {\n  const root = document.getElementById('root');\n  root.removeAttribute('class');\n  root.classList.add(`page__${rootClass}`, 'pf-l-page__main', 'pf-c-page__main');\n  root.setAttribute('role', 'main');\n  return (<Route { ...rest } />);\n};\n\nInsightsRoute.propTypes = {\n  rootClass: PropTypes.string\n};\n\n/**\n * the Switch component changes routes depending on the path.\n *\n * Route properties:\n *      exact - path must match exactly,\n *      path - https://prod.foo.redhat.com:1337/insights/advisor/rules\n *      component - component to be rendered when a route has been chosen.\n */\nexport const Routes = () => (\n  <Suspense fallback={ <RequestLoader /> }>\n    <Switch>\n      <InsightsRoute path={ paths.requests } component={ Requests } rootClass=\"requests\"/>\n      <InsightsRoute path={ paths.workflows } component={ Workflows } rootClass=\"workflows\" />\n      { /* Finally, catch all unmatched routes */ }\n      <Route render={ () => <Redirect to={ paths.requests } /> } />\n    </Switch>\n  </Suspense>\n);\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Routes } from './Routes';\nimport './App.scss';\nimport { Main } from '@redhat-cloud-services/frontend-components';\nimport { NotificationsPortal } from '@redhat-cloud-services/frontend-components-notifications/';\nimport { AppPlaceholder } from './presentational-components/shared/loader-placeholders';\nimport { IntlProvider } from 'react-intl';\n\nimport '@redhat-cloud-services/frontend-components-notifications/index.css';\nimport './App.scss';\n\nclass App extends Component {\n  state = {\n    chromeNavAvailable: true,\n    auth: false\n  }\n\n  componentDidMount () {\n    insights.chrome.init();\n    insights.chrome.auth.getUser().then(() => this.setState({ auth: true }));\n    insights.chrome.identifyApp('approval');\n  }\n\n  render () {\n    const { auth } = this.state;\n    if (!auth) {\n      return <AppPlaceholder />;\n    }\n\n    return (\n      <IntlProvider locale=\"en\">\n        <React.Fragment>\n          <NotificationsPortal />\n          <Main style={ { marginLeft: 0, padding: 0 } }>\n            <Routes />\n          </Main>\n        </React.Fragment>\n      </IntlProvider>\n    );\n  }\n}\n\nApp.propTypes = {\n  history: PropTypes.object\n};\n\nexport default withRouter (connect()(App));\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './utilities/store';\nimport App from './App';\n\nconst pathName = window.location.pathname.split('/');\npathName.shift();\n\nlet release = '/';\n\nif (pathName[0] === 'beta') {\n  release = `/${pathName.shift()}/`;\n}\n\nReactDOM.render(\n  <Provider store={ store }>\n    <Router basename={ `${release}${pathName[0]}/${pathName[1]}/${pathName[2]}` }>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById('root')\n);\n","import axios from 'axios';\n\nimport { APPROVAL_API_BASE, RBAC_API_BASE } from '../../utilities/constants';\nimport { GroupApi } from '@redhat-cloud-services/rbac-client';\nimport { WorkflowApi, ActionApi, RequestApi, TemplateApi } from '@redhat-cloud-services/approval-client';\n\nconst axiosInstance = axios.create();\n\nconst resolveInterceptor = response => response.data || response;\nconst errorInterceptor = (error = {}) => {\n  throw { ...error.response };\n};\n\n// check identity before each request. If the token is expired it will log out user\naxiosInstance.interceptors.request.use(async config => {\n  await window.insights.chrome.auth.getUser();\n  return config;\n});\naxiosInstance.interceptors.response.use(resolveInterceptor);\naxiosInstance.interceptors.response.use(null, errorInterceptor);\n\n// Approval Apis\n\nconst workflowApi = new WorkflowApi(undefined, APPROVAL_API_BASE, axiosInstance);\nconst actionApi = new ActionApi(undefined, APPROVAL_API_BASE, axiosInstance);\nconst requestApi = new RequestApi(undefined, APPROVAL_API_BASE, axiosInstance);\nconst templateApi = new TemplateApi(undefined, APPROVAL_API_BASE, axiosInstance);\n\nconst rbacGroupApi = new GroupApi(undefined, RBAC_API_BASE, axiosInstance);\n\n// Approval APIs\nexport function getRequestApi() {\n  return requestApi;\n}\n\nexport function getTemplateApi() {\n  return templateApi;\n}\n\nexport function getWorkflowApi() {\n  return workflowApi;\n}\n\nexport function getActionApi() {\n  return actionApi;\n}\n\nexport function getRbacGroupApi() {\n  return rbacGroupApi;\n}\n\nexport function getAxiosInstance() {\n  return axiosInstance;\n}\n\nconst grapqlInstance = axios.create();\ngrapqlInstance.interceptors.request.use(async (config) => {\n  await window.insights.chrome.auth.getUser();\n  return config;\n});\n/**\n * Graphql does not return error response when the qery fails.\n * Instead it returns 200 response with error object.\n * We catch it and throw it to trigger notification middleware\n */\ngrapqlInstance.interceptors.response.use(({ data }) => {\n  if (data.errors) {\n    throw {\n      message: data.errors[0].errorType,\n      data: data.errors[0].message\n    };\n  }\n\n  return data;\n});\n\nexport function getGraphqlInstance() {\n  return grapqlInstance;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport { Breadcrumb, BreadcrumbItem } from '@patternfly/react-core';\n\nconst ApprovalBreadcrumbs = ({ breadcrumbs }) => breadcrumbs\n  ? (\n    <Breadcrumb>\n      { Object.values(breadcrumbs).map(item => (\n        <BreadcrumbItem key={ item.title } isActive={ item.isActive }>\n          { (item.to && <NavLink exact to={ item.to }>{ item.title }</NavLink>) || item.title }\n        </BreadcrumbItem>\n      )) }\n    </Breadcrumb>\n  ) : null;\n\nApprovalBreadcrumbs.propTypes = {\n  breadcrumbs: PropTypes.arrayOf(PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    isActive: PropTypes.bool,\n    to: PropTypes.string\n  }))\n};\n\nexport default ApprovalBreadcrumbs;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Level, LevelItem, Text, TextContent, TextVariants  } from '@patternfly/react-core';\nimport { ToolbarTitlePlaceholder } from './loader-placeholders';\nimport ApprovalBreadcrumbs from './breadcrubms';\n\nimport './top-toolbar.scss';\n\nexport const TopToolbar = ({ children,  breadcrumbs, paddingBottom }) => (\n  <div className={ `pf-u-pt-lg pf-u-pr-lg pf-u-pl-lg ${paddingBottom ? 'pf-u-pb-sm' : ''} top-toolbar` }>\n    { breadcrumbs && (<Level className=\"pf-u-mb-md\">\n      <ApprovalBreadcrumbs breadcrumbs={ breadcrumbs } />\n    </Level>)\n    }\n    { children }\n  </div>\n);\n\nTopToolbar.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node\n  ]).isRequired,\n  breadcrumbs: PropTypes.array,\n  paddingBottom: PropTypes.bool\n};\n\nTopToolbar.defaultProps = {\n  paddingBottom: false\n};\n\nexport const TopToolbarTitle = ({ title, description, children }) => (\n  <Fragment>\n    <Level>\n      <LevelItem>\n        <TextContent className=\"pf-u-mb-sm\">\n          { <Text component={ TextVariants.h1 }>{ title || <ToolbarTitlePlaceholder /> }</Text> }\n        </TextContent>\n        { description &&\n              <TextContent className=\"pf-u-pt-sm pf-u-mb-md\">\n                <Text component={ TextVariants.p }>{ description }</Text>\n              </TextContent> }\n      </LevelItem>\n      { children }\n    </Level>\n  </Fragment>\n);\n\nTopToolbarTitle.propTypes = {\n  title: PropTypes.string,\n  description: PropTypes.string,\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node)\n  ])\n};\n"],"sourceRoot":""}