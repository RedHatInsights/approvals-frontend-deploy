{"version":3,"sources":["webpack:///./src/messages/form.messages.js","webpack:///./src/messages/action-modal.messages.js","webpack:///./src/helpers/request/request-helper.js","webpack:///./src/redux/actions/request-actions.js","webpack:///./src/smart-components/request/request-actions.js","webpack:///./src/forms/request-comment-form.schema.js","webpack:///./src/smart-components/request/action-modal.js","webpack:///./src/smart-components/request/request-detail/request-info-bar.js","webpack:///./src/smart-components/request/request-detail/action-transcript.js","webpack:///./src/smart-components/request/request-detail/request.js","webpack:///./src/smart-components/request/request-detail/request-list.js","webpack:///./src/smart-components/request/request-detail/request-transcript.js","webpack:///./src/smart-components/request/request-detail/request-detail.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/components/cjs/PageHeader.js"],"names":["formMessages","defineMessages","require","createApprovalTitle","id","defaultMessage","generalInformation","setGroups","enterInfo","approvalProcessName","enterApprovalName","description","nameTaken","selectPlaceholder","summary","groups","create","actionModalMessages","requestTitle","requestActionTitle","actionName","fulfilledAction","failedAction","successTitle","failedTitle","actionApi","getActionApi","graphqlInstance","getGraphqlInstance","sortPropertiesMapper","property","opened","requester","status","filterQuery","filterValue","query","name","push","decision","forEach","dec","join","fetchRequests","filter","pagination","defaultSettings","persona","undefined","sortBy","paginationQuery","Math","max","limit","offset","sortQuery","direction","fetchUrl","APPROVAL_API_BASE","fetchHeaders","getAxiosInstance","method","url","headers","fetchRequestTranscript","requestId","parent_id","APPROVAL_APPROVER_PERSONA","APPROVAL_REQUESTER_PERSONA","data","then","requests","fetchRequestCapabilities","isParent","fetchRequestWithSubrequests","a","requestData","length","number_of_children","result","map","request","find","item","metadata","createRequestAction","actionIn","createAction","dispatch","getState","requestReducer","finalPagination","meta","type","ActionTypes","payload","RequestHelper","fetchRequest","apiProps","fetchRequestContent","intl","notifications","fulfilled","variant","title","formatMessage","rejected","sortRequests","setFilterValueRequests","clearFilterValueRequests","resetRequestList","RequestActions","denyLink","approveLink","commentLink","canApproveDeny","canComment","useIntl","state","approveDenyAllowed","isRequestStateActive","commentAllowed","style","display","Fragment","to","pathname","search","className","aria-label","requestsMessages","approveRequest","approveTitle","denyTitle","commentTitle","propTypes","PropTypes","string","object","isRequired","bool","defaultProps","createRequestCommentSchema","isDeny","fields","component","componentTypes","TEXTAREA","label","reasonTitle","validate","validatorTypes","REQUIRED","actionTypeToMsg","Approve","Deny","ActionModal","actionType","closeUrl","postMethod","useHistory","useQuery","onCancel","Modal","isOpen","onClose","schema","onSubmit","operationType","addCommentTitle","operation","routes","index","func","oneOfType","shape","patname","connect","bindActionCreators","RequestInfoBar","requestContent","Stack","hasGutter","StackItem","key","Card","CardBody","Title","headingLevel","size","TextContent","Text","commonMessages","product","TextVariants","p","portfolio","platform","requesterColumn","requester_name","orderNumber","order_id","CardTitle","parameters","params","Object","keys","param","operationInfo","memo","displayName","commentFrom","icon","approve","approvedBy","deny","deniedBy","notify","notifiedBy","skip","skippedBy","start","startedBy","cancel","canceledBy","error","errorBy","ActionTranscript","actionList","actionItem","small","timeAgo","created_at","untranslatedMessage","operationDisplayName","by","processed_by","comments","EmptyTable","centered","noRecords","array","Request","isExpanded","toggleExpand","indexpath","userRoles","useContext","UserContext","isApprovalAdmin","useIsApprovalAdmin","checkCapability","capability","user_capabilities","DataListItem","aria-labelledby","DataListItemRow","DataListToggle","onClick","toogleDetailsFor","DataListItemCells","dataListCells","DataListCell","group_name","textTransform","addComment","DataListContent","requestContentDetails","isHidden","h6","actions","requestActions","RequestList","isLoading","items","noItems","useState","expanded","setExpanded","indexOf","newExpanded","slice","PageHeader","DataList","expandableDataList","idx","isActive","includes","active_request","number","RequestTranscript","requestTranscript","content","initialState","isFetching","requestState","action","RequestDetail","requestBreadcrumbs","useReducer","stateDispatch","useSelector","selectedRequest","location","useLocation","useDispatch","useEffect","Promise","all","approvalPersona","updateRequest","exact","path","render","props","breadcrumbs","paddingBottom","Section","Grid","backgroundColor","minHeight","GridItem","md","lg","_interopDefault","e","default","defineProperty","exports","value","_extends","objectWithoutProperties","React__default","classNames","configContext","Title_js","t","r","children","_objectWithoutProperties","s","createElement","ThemeContext","Consumer","arguments","_defineProperty","concat","any","PageHeaderTitle","node"],"mappings":"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","file":"js/lib~all-request-detail~request-detail~31ecd969.0c1298471d6fa8d78678.js","sourcesContent":["const { defineMessages } = require('react-intl');\n\nconst formMessages = defineMessages({\n  createApprovalTitle: {\n    id: 'formMessages.createApprovalTitle',\n    defaultMessage: 'Create approval process'\n  },\n  generalInformation: {\n    id: 'formMessages.generalInformation',\n    defaultMessage: 'General information'\n  },\n  setGroups: {\n    id: 'formMessages.setGroups',\n    defaultMessage: 'Set groups'\n  },\n  enterInfo: {\n    id: 'formMessages.enterInfo',\n    defaultMessage: 'Enter your information'\n  },\n  approvalProcessName: {\n    id: 'formMessages.approvalProcessName',\n    defaultMessage: 'Name'\n  },\n  enterApprovalName: {\n    id: 'formMessages.enterApprovalName',\n    defaultMessage: 'Enter a name for the approval process'\n  },\n  description: {\n    id: 'formMessages.description',\n    defaultMessage: 'Description'\n  },\n  nameTaken: {\n    id: 'formMessages.nameTaken',\n    defaultMessage: 'Name has already been taken'\n  },\n  selectPlaceholder: {\n    id: 'formMessages.selectPlaceholder',\n    defaultMessage: 'Select...'\n  },\n  summary: {\n    id: 'formMessages.summary',\n    defaultMessage: 'Summary'\n  },\n  groups: {\n    id: 'formMessages.groups',\n    defaultMessage: 'Groups'\n  },\n  create: {\n    id: 'formMessages.create',\n    defaultMessage: 'Create'\n  }\n});\n\nexport default formMessages;\n","const { defineMessages } = require('react-intl');\n\nconst actionModalMessages = defineMessages({\n  requestTitle: {\n    id: 'actionModal.requestTitle',\n    defaultMessage: 'Request #{id}'\n  },\n  requestActionTitle: {\n    id: 'actionModal.requestTitle',\n    defaultMessage: '{actionType} Request #{id}'\n  },\n  actionName: {\n    id: 'actionModal.actionName',\n    defaultMessage: '{actionType} Request'\n  },\n  fulfilledAction: {\n    id: 'actionModal.fullfiledAction',\n    defaultMessage: 'The {actionName} was successful.'\n  },\n  failedAction: {\n    id: 'actionModal.failedAction',\n    defaultMessage: 'The {actionName} action failed.'\n  },\n  successTitle: {\n    id: 'actionModal.successTitle',\n    defaultMessage: 'Success'\n  },\n  failedTitle: {\n    id: 'actionModal.failedTitle',\n    defaultMessage: '{actionName} error'\n  }\n});\n\nexport default actionModalMessages;\n","import { getActionApi, getAxiosInstance, getGraphqlInstance } from '../shared/user-login';\nimport { APPROVAL_API_BASE } from '../../utilities/constants';\nimport { defaultSettings } from '../shared/pagination';\nimport { APPROVAL_REQUESTER_PERSONA, APPROVAL_APPROVER_PERSONA } from '../shared/helpers';\n\nconst actionApi = getActionApi();\nconst graphqlInstance = getGraphqlInstance();\n\nconst sortPropertiesMapper = (property) => ({\n  'request-id': 'id',\n  opened: 'created_at',\n  requester: 'requester_name',\n  status: 'state'\n}[property] || property\n);\n\nconst filterQuery = (filterValue) => {\n  const query = [];\n  if (filterValue.name) {\n    query.push(`filter[name][contains_i]=${filterValue.name}`);\n  }\n\n  if (filterValue.requester) {\n    query.push(`filter[requester_name][contains_i]=${filterValue.requester}`);\n  }\n\n  if (filterValue.decision) {\n    filterValue.decision.forEach(dec => {\n      query.push(`filter[decision][eq][]=${dec}`);\n    });\n  }\n\n  return query.join('&');\n};\n\nexport function fetchRequests(filter = {}, pagination = defaultSettings, persona = undefined, sortBy) {\n  const paginationQuery = `&limit=${Math.max(pagination.limit, 10)}&offset=${pagination.offset}`;\n  const sortQuery = `&sort_by=${sortPropertiesMapper(sortBy.property)}:${sortBy.direction}`;\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/?${filterQuery(filter)}${paginationQuery}${sortQuery}`;\n  const fetchHeaders = persona ? { 'x-rh-persona': persona } : undefined;\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n}\n\nconst requestTranscriptQuery = (parent_id) => `query {\n  requests(id: \"${parent_id}\") {\n    id\n    name\n    number_of_children\n    decision\n    description\n    group_name\n    number_of_finished_children\n    state\n    requester_name\n    actions {\n      id\n      operation\n      comments\n      created_at\n      processed_by\n    }\n    requests {\n      id\n      name\n      number_of_children\n      decision\n      description\n      group_name\n      number_of_finished_children\n      state\n      workflow_id\n      parent_id\n      actions {\n        id\n        operation\n        comments\n        created_at\n        processed_by\n      }\n    }\n  }\n}`;\n\nexport const fetchRequestTranscript = (requestId, persona) => {\n  const fetchHeaders = (persona && persona !== APPROVAL_APPROVER_PERSONA) ? { 'x-rh-persona': persona }\n    : { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return graphqlInstance({ method: 'post', url: `${APPROVAL_API_BASE}/graphql`,\n    headers: fetchHeaders, data: { query: requestTranscriptQuery(requestId) }})\n  .then(({ data: { requests }}) => requests);\n};\n\nexport const fetchRequestContent = (id) => {\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/${id}/content`;\n  const fetchHeaders = { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n};\n\nexport const fetchRequestCapabilities = (id, isParent) => {\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/${id}${isParent ? '/requests' : ''}`;\n  const fetchHeaders = { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n};\n\nexport async function fetchRequestWithSubrequests(id, persona) {\n  const requestData = await fetchRequestTranscript(id, persona);\n\n  if (!requestData || requestData.length === 0) { return {}; }\n\n  if (persona === APPROVAL_APPROVER_PERSONA) {\n    if (requestData && requestData.length > 0 && requestData[0].number_of_children > 0) {\n      const result = await fetchRequestCapabilities(id, true);\n\n      if (result && result.data) {\n        requestData[0].requests = requestData[0].requests.map(request => {\n          return {\n            ...result.data.find((item) => (item.id === request.id) && item.metadata),\n            ...request\n          };\n        });\n      }\n    }\n    else {\n      const request = await fetchRequestCapabilities(id, false);\n      if (request) {\n        requestData[0] = { ...requestData[0], metadata: request.metadata };\n      }\n    }\n  }\n\n  return requestData[0];\n}\n\nexport const createRequestAction = (requestId, actionIn) => actionApi.createAction(requestId, actionIn);\n","import * as ActionTypes from '../action-types';\nimport * as RequestHelper from '../../helpers/request/request-helper';\nimport { defaultSettings } from '../../helpers/shared/pagination';\nimport actionModalMessages from '../../messages/action-modal.messages';\n\nexport const fetchRequests = (persona, pagination) => (dispatch, getState) => {\n  const { sortBy, requests, filterValue } = getState().requestReducer;\n\n  let finalPagination = pagination || defaultSettings;\n\n  if (!pagination && requests) {\n    const { limit, offset } = requests.meta;\n    finalPagination = { limit, offset };\n  }\n\n  return dispatch({\n    type: ActionTypes.FETCH_REQUESTS,\n    payload: RequestHelper.fetchRequests(filterValue, finalPagination, persona, sortBy)\n  });\n};\n\nexport const fetchRequest = (apiProps, persona) => ({\n  type: ActionTypes.FETCH_REQUEST,\n  payload: RequestHelper.fetchRequestWithSubrequests(apiProps, persona)\n});\n\nexport const fetchRequestContent = (apiProps, persona) => ({\n  type: ActionTypes.FETCH_REQUEST_CONTENT,\n  payload: RequestHelper.fetchRequestContent(apiProps, persona)\n});\n\nexport const createRequestAction = (actionName, requestId, actionIn, intl) => ({\n  type: ActionTypes.CREATE_REQUEST_ACTION,\n  payload: RequestHelper.createRequestAction(requestId, actionIn),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: intl.formatMessage(actionModalMessages.successTitle),\n        description: intl.formatMessage(actionModalMessages.fulfilledAction, { actionName })\n      },\n      rejected: {\n        variant: 'danger',\n        title: intl.formatMessage(actionModalMessages.failedTitle, { actionName }),\n        description: intl.formatMessage(actionModalMessages.failedAction, { actionName })\n      }\n    }\n  }\n});\n\nexport const sortRequests = (sortBy) => ({\n  type: ActionTypes.SORT_REQUESTS,\n  payload: sortBy\n});\n\nexport const setFilterValueRequests = (filterValue, type) => ({\n  type: ActionTypes.SET_FILTER_REQUESTS,\n  payload: { filterValue, type }\n});\n\nexport const clearFilterValueRequests = () => ({\n  type: ActionTypes.CLEAR_FILTER_REQUESTS\n});\n\nexport const resetRequestList = () => ({\n  type: ActionTypes.RESET_REQUEST_LIST\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\nimport { Button } from '@patternfly/react-core';\nimport { Link } from 'react-router-dom';\n\nimport requestsMessages from '../../messages/requests.messages';\nimport { isRequestStateActive } from '../../helpers/shared/helpers';\n\nconst RequestActions = ({\n  denyLink,\n  approveLink,\n  commentLink,\n  request,\n  canApproveDeny,\n  canComment\n}) => {\n  const intl = useIntl();\n\n  const { id, state } = request;\n  const approveDenyAllowed = isRequestStateActive(state) && canApproveDeny;\n  const commentAllowed = isRequestStateActive(state) && canComment;\n\n  return (\n    <div style={ { display: 'flex' } }>\n      { approveDenyAllowed && (<React.Fragment>\n        <Link\n          to={ { pathname: approveLink, search: `request=${id}` } }\n          className=\"pf-u-mr-sm\"\n          id={ `approve-${request.id}` }\n        >\n          <Button\n            variant=\"primary\"\n            aria-label={ intl.formatMessage(requestsMessages.approveRequest) }\n          >\n            { intl.formatMessage(requestsMessages.approveTitle) }\n          </Button>\n        </Link>\n        <Link\n          to={ { pathname: denyLink, search: `request=${id}` } }\n          className=\"pf-u-mr-sm\"\n          id={ `deny-${request.id}` }\n        >\n          <Button\n            variant=\"danger\"\n            aria-label={ intl.formatMessage(requestsMessages.denyTitle) }\n          >\n            { intl.formatMessage(requestsMessages.denyTitle) }\n          </Button>\n        </Link>\n      </React.Fragment>) }\n      { commentAllowed && <Link\n        to={ { pathname: commentLink, search: `request=${id}` } }\n        id={ `comment-${request.id}` }\n      >\n        <Button\n          variant=\"secondary\"\n          aria-label={ intl.formatMessage(requestsMessages.commentTitle) }\n        >\n          { intl.formatMessage(requestsMessages.commentTitle) }\n        </Button>\n      </Link> }\n    </div>\n  );\n};\n\nRequestActions.propTypes = {\n  denyLink: PropTypes.string,\n  approveLink: PropTypes.string,\n  commentLink: PropTypes.string,\n  request: PropTypes.object.isRequired,\n  canApproveDeny: PropTypes.bool,\n  canComment: PropTypes.bool\n};\n\nRequestActions.defaultProps = {\n  canApproveDeny: true,\n  canComment: true\n};\n\nexport default RequestActions;\n","import componentTypes from '@data-driven-forms/react-form-renderer/dist/cjs/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/dist/cjs/validator-types';\nimport requestsMessages from '../messages/requests.messages';\n\nexport const createRequestCommentSchema = (isDeny = false, intl) => ({\n  fields: [{\n    component: componentTypes.TEXTAREA,\n    name: 'comments',\n    isRequired: isDeny,\n    label: isDeny ? intl.formatMessage(requestsMessages.reasonTitle) : intl.formatMessage(requestsMessages.commentTitle),\n    ...(isDeny && { validate: [{ type: validatorTypes.REQUIRED }]})\n  }]\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FormRenderer from '../common/form-renderer';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Modal } from '@patternfly/react-core';\nimport { createRequestAction } from '../../redux/actions/request-actions';\nimport { createRequestCommentSchema } from '../../forms/request-comment-form.schema';\nimport useQuery from '../../utilities/use-query';\nimport routes from '../../constants/routes';\nimport { useIntl } from 'react-intl';\nimport actionModalMessages from '../../messages/action-modal.messages';\nimport requestsMessages from '../../messages/requests.messages';\n\nconst actionTypeToMsg = {\n  Approve: requestsMessages.approveTitle,\n  Deny: requestsMessages.denyTitle\n};\n\nconst ActionModal = ({\n  actionType,\n  createRequestAction,\n  closeUrl,\n  postMethod\n}) => {\n  const intl = useIntl();\n  const { push } = useHistory();\n  const [{ request: id }] = useQuery([ 'request' ]);\n  const onSubmit = (data) => {\n    const operationType = { 'Add Comment': 'memo', Approve: 'approve', Deny: 'deny' };\n    const actionName = actionType === 'Add Comment'\n      ? intl.formatMessage(requestsMessages.addCommentTitle)\n      : intl.formatMessage(actionModalMessages.actionName, { actionType: intl.formatMessage(actionTypeToMsg[actionType]) }) ;\n\n    return postMethod ?\n      createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data },\n        intl\n      ).then(() => postMethod()).then(() => push(closeUrl))\n      : createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data },\n        intl\n      ).then(() => push(closeUrl));\n  };\n\n  const onCancel = () => push(closeUrl);\n\n  return (\n    <Modal\n      variant=\"large\"\n      title={ actionType === 'Add Comment'\n        ? intl.formatMessage(actionModalMessages.requestTitle, { id })\n        : intl.formatMessage(actionModalMessages.requestActionTitle, { id, actionType: intl.formatMessage(actionTypeToMsg[actionType]) })\n      }\n      isOpen\n      onClose={ onCancel }\n    >\n      <FormRenderer\n        schema={ createRequestCommentSchema(actionType === 'Deny', intl) }\n        onSubmit={ onSubmit }\n        onCancel={ onCancel }\n      />\n    </Modal>\n  );\n};\n\nActionModal.defaultProps = {\n  closeUrl: routes.requests.index\n};\n\nActionModal.propTypes = {\n  createRequestAction: PropTypes.func.isRequired,\n  postMethod: PropTypes.func,\n  actionType: PropTypes.string,\n  closeUrl: PropTypes.oneOfType([ PropTypes.string, PropTypes.shape({ patname: PropTypes.string, search: PropTypes.string }) ])\n};\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  createRequestAction\n}, dispatch);\n\nexport default connect(null, mapDispatchToProps)(ActionModal);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Card, CardBody, CardTitle,\n  Stack,\n  StackItem,\n  Text,\n  TextContent,\n  TextVariants,\n  Title\n} from '@patternfly/react-core';\nimport { useIntl } from 'react-intl';\nimport requestsMessages from '../../../messages/requests.messages';\nimport commonMessages from '../../../messages/common.message';\nimport formMessages from '../../../messages/form.messages';\n\nconst RequestInfoBar = ({ request, requestContent }) => {\n  const intl = useIntl();\n\n  return (\n    <Stack hasGutter>\n      <StackItem key={ 'request-detail-panel' }>\n        <Card>\n          <CardBody>\n            <Stack hasGutter>\n              <StackItem key={ 'request-summary' }>\n                <Title headingLevel=\"h5\" size=\"lg\">\n                  { intl.formatMessage(formMessages.summary) }\n                </Title>\n              </StackItem>\n              <StackItem key={ 'request-product' }>\n                <TextContent>\n                  <Text className={ 'font-14' }>\n                    { intl.formatMessage(commonMessages.product) }\n                  </Text>\n                  <Text id='portfolio-item-name' component={ TextVariants.p }>\n                    { requestContent ? requestContent.product : '' }\n                  </Text>\n                </TextContent>\n              </StackItem>\n              <StackItem key={ 'request-portfolio' }>\n                <TextContent>\n                  <Text className={ 'font-14' }>\n                    { intl.formatMessage(commonMessages.portfolio) }\n                  </Text>\n                  <Text id='portfolio-name' component={ TextVariants.p }>\n                    { requestContent ? requestContent.portfolio : '' }\n                  </Text>\n                </TextContent>\n              </StackItem>\n              <StackItem key={ 'request-platform' }>\n                <TextContent>\n                  <Text className={ 'font-14' }>\n                    { intl.formatMessage(commonMessages.platform) }\n                  </Text>\n                  <Text id='source-name' component={ TextVariants.p }>\n                    { requestContent ? requestContent.platform : ' ' }\n                  </Text>\n                </TextContent>\n              </StackItem>\n              <StackItem key={ 'request-requester' }>\n                <TextContent>\n                  <Text className={ 'font-14' }>{ intl.formatMessage(requestsMessages.requesterColumn) }</Text>\n                  <Text id='requester_name' component={ TextVariants.p }>\n                    { request.requester_name }\n                  </Text>\n                </TextContent>\n              </StackItem>\n              <StackItem key={ 'request-order' }>\n                <TextContent>\n                  <Text className={ 'font-14' }>{ intl.formatMessage(requestsMessages.orderNumber) }</Text>\n                  <Text id='requester_name' component={ TextVariants.p }>\n                    { requestContent ? requestContent.order_id : '' }\n                  </Text>\n                </TextContent>\n              </StackItem>\n            </Stack>\n          </CardBody>\n        </Card>\n      </StackItem>\n      <StackItem key={ 'request-parameters' }>\n        <Card>\n          <CardTitle>\n            <Title headingLevel=\"h5\" size=\"lg\">{ intl.formatMessage(requestsMessages.parameters) }</Title>\n          </CardTitle>\n          <CardBody>\n            <Stack hasGutter>\n              { requestContent.params && Object.keys(requestContent.params).map(param => {\n                return ((requestContent.params[param]) &&\n                      <StackItem key={ `request-${requestContent.params[param]}` }>\n                        <TextContent>\n                          <Text key={ param } className={ 'font-14' }>\n                            { `${param}` }\n                          </Text>\n                          <Text id={ param } component={ TextVariants.p }>\n                            { `${requestContent.params[param]}` }\n                          </Text>\n                        </TextContent>\n                      </StackItem>\n                );\n              })\n              }\n            </Stack>\n          </CardBody>\n        </Card>\n      </StackItem>\n    </Stack>\n  );};\n\nRequestInfoBar.propTypes = {\n  request: PropTypes.shape({\n    requester_name: PropTypes.string,\n    order_id: PropTypes.string\n  }).isRequired,\n  requestContent: PropTypes.object\n};\nexport default RequestInfoBar;\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { timeAgo }  from '../../../helpers/shared/helpers';\nimport {\n  Stack,\n  TextContent,\n  Text,\n  TextVariants\n} from '@patternfly/react-core';\nimport { CheckCircleIcon,\n  CommentIcon,\n  EnvelopeIcon,\n  OutlinedTimesCircleIcon,\n  AngleDoubleRightIcon,\n  OnRunningIcon,\n  ErrorCircleOIcon,\n  ExclamationCircleIcon } from '@patternfly/react-icons';\nimport { EmptyTable } from '@redhat-cloud-services/frontend-components/components/cjs/EmptyTable';\nimport { useIntl } from 'react-intl';\nimport commonMessages from '../../../messages/common.message';\nimport requestsMessages from '../../../messages/requests.messages';\nimport { untranslatedMessage } from '../../../utilities/constants';\n\nconst operationInfo = {\n  memo: { displayName: requestsMessages.commentFrom, icon: <CommentIcon/> },\n  approve: { displayName: requestsMessages.approvedBy, icon: <CheckCircleIcon className=\"pf-u-mr-0 icon-success-fill\"/> },\n  deny: { displayName: requestsMessages.deniedBy, icon: <OutlinedTimesCircleIcon className=\"pf-u-mr-sm icon-danger-fill\"/> },\n  notify: { displayName: requestsMessages.notifiedBy, icon: <EnvelopeIcon/> },\n  skip: { displayName: requestsMessages.skippedBy, icon: <AngleDoubleRightIcon/> },\n  start: { displayName: requestsMessages.startedBy, icon: <OnRunningIcon/> },\n  cancel: { displayName: requestsMessages.canceledBy, icon: <ErrorCircleOIcon className=\"pf-u-mr-sm icon-danger-fill\"/> },\n  error: { displayName: requestsMessages.errorBy, icon: <ExclamationCircleIcon className=\"pf-u-mr-0 icon-danger-fill\"/> }\n};\n\nconst operationIcon = (operation) => operationInfo[operation] ? operationInfo[operation].icon : '';\nconst operationDisplayName = (operation) => operationInfo[operation] ? operationInfo[operation].displayName : untranslatedMessage();\n\nexport const ActionTranscript = ({ actionList }) => {\n  const intl = useIntl();\n\n  return actionList ? (\n    <Stack>\n      { actionList.map(actionItem =>\n        <div key={ `${actionItem.id}-action` }>\n          <TextContent>\n            <Text key={ `${actionItem.id}-action-created_at` }\n              className=\"pf-u-mb-0\" component={ TextVariants.small }>\n              { timeAgo(actionItem.created_at) }\n            </Text>\n            <Text key={ `${actionItem.id}-action-operation` }\n              className=\"pf-u-mb-md\">\n              { operationIcon(actionItem.operation) }&nbsp;\n              { intl.formatMessage(operationDisplayName(actionItem.operation), { by: actionItem.processed_by }) }\n            </Text>\n            { actionItem.comments && (<Text\n              key={ `${actionItem.id}-action-comments` }\n              className=\"pf-u-pt-0\"\n              component={ TextVariants.p }\n            >\n              { actionItem.comments }\n            </Text>) }\n          </TextContent>\n        </div>)\n      }\n    </Stack>\n  ) : <EmptyTable centered aria-label={ intl.formatMessage(commonMessages.noRecords) }/>;\n};\n\nActionTranscript.propTypes = {\n  actionList: PropTypes.array\n};\n","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { useIsApprovalAdmin } from '../../../helpers/shared/helpers';\nimport { ActionTranscript } from './action-transcript';\n\nimport {\n  Stack,\n  StackItem,\n  DataListItem,\n  DataListItemRow,\n  DataListCell,\n  DataListToggle,\n  DataListItemCells,\n  DataListContent,\n  TextVariants,\n  TextContent\n} from '@patternfly/react-core';\nimport UserContext from '../../../user-context';\nimport routes from '../../../constants/routes';\nimport { useIntl } from 'react-intl';\nimport requestsMessages from '../../../messages/requests.messages';\nimport { untranslatedMessage } from '../../../utilities/constants';\nimport RequestActions from '../request-actions';\n\nexport const Request = ({ item, isExpanded, toggleExpand, indexpath }) => {\n  const { userRoles: userRoles } = useContext(UserContext);\n  const isApprovalAdmin = useIsApprovalAdmin(userRoles);\n  const intl = useIntl();\n\n  const checkCapability = (item, capability) => {\n    if (isApprovalAdmin) {\n      return true;\n    }\n\n    return item.metadata && item.metadata.user_capabilities && item.metadata.user_capabilities[capability];\n  };\n\n  return (\n    <DataListItem key={ `request-${item.id}` }\n      aria-labelledby={ `check-request-${item.id}` }\n      isExpanded={ isExpanded }>\n      <DataListItemRow>\n        <DataListToggle\n          onClick={ () => toggleExpand(`request-${item.id}`) }\n          isExpanded={ isExpanded }\n          id={ `request-${item.id}` }\n          aria-labelledby={ `request-${item.id} request-${item.id}` }\n          aria-label={ intl.formatMessage(requestsMessages.toogleDetailsFor) }\n        />\n        <DataListItemCells\n          dataListCells={ [\n            <DataListCell key={ item.id }>\n              <span id={ `${item.id}-name` }>{ item.group_name ? item.group_name : item.name }</span>\n            </DataListCell>,\n            <DataListCell key={ `${item.id}-state` }>\n              <span style={ { textTransform: 'capitalize' } } id={ `${item.id}-state` }>\n                { intl.formatMessage(requestsMessages[item.state] || untranslatedMessage(item.state)) }\n              </span>\n            </DataListCell>,\n            <DataListCell key={ `${item.id}-action` }>\n              <RequestActions\n                approveLink={ indexpath.approve }\n                denyLink={ indexpath.deny }\n                commentLink={ indexpath.addComment }\n                request={ item }\n                canApproveDeny={ checkCapability(item, 'approve') }\n                canComment={ checkCapability(item, 'memo') }\n              />\n            </DataListCell>\n          ] }/>\n      </DataListItemRow>\n      <DataListContent aria-label={ intl.formatMessage(requestsMessages.requestContentDetails) }\n        isHidden={ !isExpanded }>\n        <Stack hasGutter>\n          <StackItem>\n            <TextContent component={ TextVariants.h6 }>\n              <ActionTranscript actionList={ item.actions }/>\n            </TextContent>\n          </StackItem>\n        </Stack>\n      </DataListContent>\n    </DataListItem>\n  );\n};\n\nRequest.propTypes = {\n  item: PropTypes.shape({\n    id: PropTypes.string,\n    name: PropTypes.string,\n    state: PropTypes.string,\n    actions: PropTypes.array,\n    group_name: PropTypes.string.isRequired,\n    requestActions: PropTypes.shape({\n      data: PropTypes.array\n    }),\n    metadata: PropTypes.shape({\n      user_capabilities: PropTypes.object\n    })\n  }).isRequired,\n  isExpanded: PropTypes.bool.isRequired,\n  toggleExpand: PropTypes.func.isRequired,\n  indexpath: PropTypes.object\n};\n\nRequest.defaultProps = {\n  indexpath: routes.request\n};\n","import React, { Fragment, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components/components/cjs/PageHeader';\nimport { DataList } from '@patternfly/react-core';\nimport { Request }  from './request';\nimport { DataListLoader } from '../../../presentational-components/shared/loader-placeholders';\nimport { useIntl } from 'react-intl';\nimport requestsMessages from '../../../messages/requests.messages';\n\nconst RequestList = ({ isLoading, items, noItems, indexpath }) => {\n  const [ expanded, setExpanded ] = useState([]);\n  const intl = useIntl();\n\n  const toggleExpand = id => {\n    const index = expanded.indexOf(id);\n    const newExpanded =\n      index >= 0 ? [ ...expanded.slice(0, index), ...expanded.slice(index + 1, expanded.length) ] : [ ...expanded, id ];\n\n    setExpanded(newExpanded);\n  };\n\n  const isExpanded = key => expanded.includes(key);\n\n  return (\n    <Fragment>\n      <div>\n        { isLoading && (\n          <Fragment>\n            <PageHeader>\n              <PageHeaderTitle title={ noItems }/>\n            </PageHeader>\n            <DataListLoader/>\n          </Fragment>\n        ) }\n      </div>\n      { items.length > 0 && (\n        <DataList aria-label={ intl.formatMessage(requestsMessages.expandableDataList) }>\n          { items.map((item, idx) => (\n            <Request\n              key={ item.id }\n              item={ item }\n              idx={ idx }\n              isActive={ idx === 0 }\n              isExpanded={ isExpanded(`request-${item.id}`) }\n              toggleExpand={ toggleExpand }\n              indexpath={ indexpath }\n            />)) }\n        </DataList>)\n      }\n    </Fragment>\n  );\n};\n\nRequestList.propTypes = {\n  isLoading: PropTypes.bool,\n  items: PropTypes.array,\n  noItems: PropTypes.string,\n  active_request: PropTypes.number,\n  indexpath: PropTypes.object\n};\n\nRequestList.defaultProps = {\n  items: []\n};\n\nexport default RequestList;\n\n","import React, { Fragment }  from 'react';\nimport PropTypes from 'prop-types';\nimport { Title } from '@patternfly/react-core';\nimport RequestList from './request-list';\nimport { useIntl } from 'react-intl';\nimport requestsMessages from '../../../messages/requests.messages';\n\nconst RequestTranscript = ({ request, indexpath }) => {\n  const intl = useIntl();\n\n  return (<Fragment>\n    <Title headingLevel=\"h5\" size=\"lg\" className=\"pf-u-pl-lg pf-u-pb-lg\">{ intl.formatMessage(requestsMessages.requestTranscript) }</Title>\n    <RequestList items={ request.requests && request.requests.length > 0 ? request.requests : [ request ] } indexpath={ indexpath } />\n  </Fragment>);\n};\n\nRequestTranscript.propTypes = {\n  request: PropTypes.shape({\n    content: PropTypes.object,\n    requests: PropTypes.array\n  }).isRequired,\n  indexpath: PropTypes.object\n};\n\nexport default RequestTranscript;\n","import React, { Fragment, useContext, useEffect, useReducer } from 'react';\nimport { Route, useLocation, Switch } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Grid, GridItem } from '@patternfly/react-core';\nimport { Section } from '@redhat-cloud-services/frontend-components/components/cjs/Section';\nimport ActionModal from '../action-modal';\nimport RequestInfoBar from './request-info-bar';\nimport RequestTranscript from './request-transcript';\nimport { fetchRequest, fetchRequestContent } from '../../../redux/actions/request-actions';\nimport { RequestLoader } from '../../../presentational-components/shared/loader-placeholders';\nimport { TopToolbar, TopToolbarTitle } from '../../../presentational-components/shared/top-toolbar';\nimport UserContext from '../../../user-context';\nimport useQuery from '../../../utilities/use-query';\nimport { approvalPersona } from '../../../helpers/shared/helpers';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\nimport requestsMessages from '../../../messages/requests.messages';\n\nconst initialState = {\n  isFetching: true\n};\n\nconst requestState = (state, action) => {\n  switch (action.type) {\n    case 'setFetching':\n      return { ...state, isFetching: action.payload };\n    default:\n      return state;\n  }\n};\n\nconst RequestDetail = ({ requestBreadcrumbs, indexpath }) => {\n  const [{ isFetching }, stateDispatch ] = useReducer(requestState, initialState);\n\n  const { selectedRequest, requestContent } = useSelector(\n    ({\n      requestReducer: {\n        requestContent: requestContent,\n        selectedRequest: selectedRequest\n      }\n    }) => ({ selectedRequest, requestContent })\n  );\n\n  const [{ request: id }] = useQuery([ 'request' ]);\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const { userRoles: userRoles } = useContext(UserContext);\n  const intl = useIntl();\n\n  useEffect(() => {\n    Promise.all([ dispatch(fetchRequest(id, approvalPersona(userRoles))), dispatch(fetchRequestContent(id, approvalPersona(userRoles))) ])\n    .then(() => stateDispatch({ type: 'setFetching', payload: false }));\n  }, []);\n\n  const updateRequest = (id) => {\n    stateDispatch({ type: 'setFetching', payload: true });\n    return dispatch(fetchRequest(id, approvalPersona(userRoles))), dispatch(fetchRequestContent(id, approvalPersona(userRoles)))\n    .then(() => stateDispatch({ type: 'setFetching', payload: false }))\n    .catch(() => stateDispatch({ type: 'setFetching', payload: false }));\n  };\n\n  const renderRequestDetails = () => {\n    if (isFetching || !selectedRequest || Object.keys(selectedRequest).length === 0) {\n      return (\n        <Section style={ { backgroundColor: 'white', minHeight: '100%' } }>\n          <RequestLoader />\n        </Section>\n      );\n    }\n    else {\n      return (\n        <Fragment>\n          <GridItem md={ 4 } lg={ 3 } className=\"info-bar pf-u-p-0\">\n            <RequestInfoBar request={ selectedRequest } requestContent={ requestContent }/>\n          </GridItem>\n          <GridItem md={ 8 } lg={ 9 } className=\"detail-pane pf-u-p-lg\">\n            <RequestTranscript request={ selectedRequest } url={ location.url } indexpath={ indexpath }/>\n          </GridItem>\n        </Fragment>\n      );\n    }\n  };\n\n  return (\n    <Fragment>\n      <Switch>\n        <Route exact path={ indexpath.addComment }>\n          <ActionModal actionType={ 'Add Comment' }\n            postMethod={ () => updateRequest(selectedRequest.id) }\n            closeUrl={ { pathname: indexpath.index, search: `?request=${selectedRequest.id}` } }/>\n        </Route>\n        <Route exact path={ indexpath.approve } render={ props =>\n          <ActionModal { ...props } actionType={ 'Approve' }\n            postMethod={ () => updateRequest(selectedRequest.id) }\n            closeUrl={ { pathname: indexpath.index, search: `?request=${selectedRequest.id}` } } /> } />\n        <Route exact path={ indexpath.deny } render={ props =>\n          <ActionModal { ...props } actionType={ 'Deny' }\n            postMethod={ () => updateRequest(selectedRequest.id) }\n            closeUrl={ { pathname: indexpath.index, search: `?request=${selectedRequest.id}` } } /> } />\n      </Switch>\n      <TopToolbar\n        breadcrumbs={ requestBreadcrumbs }\n        paddingBottom={ true }\n      >\n        <TopToolbarTitle title={ intl.formatMessage(requestsMessages.requestTitle, { id }) } />\n      </TopToolbar>\n      <Section type=\"content\">\n        <Grid hasGutter>\n          { renderRequestDetails() }\n        </Grid>\n      </Section>\n    </Fragment>\n  );\n};\n\nRequestDetail.propTypes = {\n  requestBreadcrumbs: PropTypes.array,\n  indexpath: PropTypes.object\n};\n\nexport default RequestDetail;\n","\"use strict\";function _interopDefault(e){return e&&\"object\"==typeof e&&\"default\"in e?e.default:e}Object.defineProperty(exports,\"__esModule\",{value:!0}),require(\"./_commonjsHelpers-32c5d30b.js\");var _extends=require(\"./extends-7fa7e501.js\"),defineProperty=require(\"./defineProperty-cf06dcaa.js\"),objectWithoutProperties=require(\"./objectWithoutProperties-9e2b4e81.js\"),React=require(\"react\"),React__default=_interopDefault(React),PropTypes=_interopDefault(require(\"prop-types\")),classNames=_interopDefault(require(\"classnames\")),configContext=require(\"./configContext-2e7dee54.js\"),Title_js=require(\"@patternfly/react-core/dist/js/components/Title/Title.js\"),PageHeader=function PageHeader(e){var t=e.className,r=e.children,a=objectWithoutProperties._objectWithoutProperties(e,[\"className\",\"children\"]),s=classNames(t,\"pf-l-page-header\",\"pf-c-page-header\",\"pf-l-page__main-section\",\"pf-c-page__main-section\");return React__default.createElement(configContext.ThemeContext.Consumer,null,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"light\",t=classNames(defineProperty._defineProperty({},\"pf-m-\".concat(e,\"-200\"),\"dark\"===e),defineProperty._defineProperty({},\"pf-m-light\",\"light\"===e));return React__default.createElement(\"section\",_extends._extends({},a,{className:\"\".concat(s,\" \").concat(t),\"widget-type\":\"InsightsPageHeader\"}),r)}))};PageHeader.propTypes={children:PropTypes.any.isRequired,className:PropTypes.string};var PageHeaderTitle=function PageHeaderTitle(e){var t=e.className,r=e.title,a=classNames(t);return React__default.createElement(Title_js.Title,{headingLevel:\"h1\",size:\"2xl\",className:a,\"widget-type\":\"InsightsPageHeaderTitle\"},\" \",r,\" \")};PageHeaderTitle.propTypes={title:PropTypes.node.isRequired,className:PropTypes.string},exports.PageHeader=PageHeader,exports.PageHeaderTitle=PageHeaderTitle;\n"],"sourceRoot":""}