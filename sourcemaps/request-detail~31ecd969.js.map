{"version":3,"sources":["webpack:///./src/redux/actions/request-actions.js","webpack:///./src/helpers/request/request-helper.js","webpack:///./src/forms/request-comment-form.schema.js","webpack:///./src/smart-components/request/action-modal.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/components/cjs/PageHeader.js","webpack:///./src/smart-components/request/request-detail/request-info-bar.js","webpack:///./src/smart-components/request/request-detail/action-transcript.js","webpack:///./src/smart-components/request/request-detail/request.js","webpack:///./src/smart-components/request/request-detail/request-list.js","webpack:///./src/smart-components/request/request-detail/request-transcript.js","webpack:///./src/smart-components/request/request-detail/request-detail.js"],"names":["fetchRequests","persona","pagination","dispatch","getState","requestReducer","sortBy","requests","filterValue","finalPagination","defaultSettings","meta","limit","offset","type","ActionTypes","payload","RequestHelper","fetchRequest","apiProps","fetchRequestContent","createRequestAction","actionName","requestId","actionIn","notifications","fulfilled","variant","title","description","rejected","expandRequest","id","sortRequests","setFilterValueRequests","clearFilterValueRequests","resetRequestList","actionApi","getActionApi","graphqlInstance","getGraphqlInstance","sortPropertiesMapper","property","opened","requester","status","filterQuery","query","name","push","forEach","state","decision","dec","join","filter","undefined","paginationQuery","Math","max","sortQuery","direction","fetchUrl","APPROVAL_API_BASE","fetchHeaders","getAxiosInstance","method","url","headers","fetchRequestTranscript","parent_id","APPROVAL_APPROVER_PERSONA","APPROVAL_REQUESTER_PERSONA","data","then","fetchRequestCapabilities","isParent","fetchRequestWithSubrequests","a","requestData","length","number_of_children","result","map","request","find","item","metadata","createAction","createRequestCommentSchema","isDeny","fields","component","componentTypes","TEXTAREA","isRequired","label","validate","validatorTypes","REQUIRED","ActionModal","actionType","addNotification","closeUrl","postMethod","useHistory","useQuery","onCancel","dismissable","Modal","isLarge","isOpen","onClose","schema","onSubmit","operationType","Approve","Deny","operation","formContainer","defaultProps","routes","index","propTypes","PropTypes","func","string","oneOfType","shape","patname","search","connect","bindActionCreators","module","exports","self","ReferenceError","instance","Constructor","TypeError","_defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","setPrototypeOf","subClass","superClass","create","constructor","value","_setPrototypeOf","o","p","__proto__","_typeof","assertThisInitialized","call","obj","Symbol","iterator","_getPrototypeOf","getPrototypeOf","_interopDefault","e","default","_extends","objectWithoutProperties","React__default","classNames","configContext","Title_js","PageHeader","t","className","r","children","_objectWithoutProperties","s","createElement","ThemeContext","Consumer","arguments","_defineProperty","concat","any","PageHeaderTitle","Title","headingLevel","size","node","RequestInfoBar","requestContent","Stack","gutter","StackItem","Card","CardBody","TextContent","Text","TextVariants","product","portfolio","platform","requester_name","order_id","CardHeader","params","keys","param","object","operationInfo","memo","displayName","icon","approve","deny","notify","skip","start","cancel","error","ActionTranscript","actionList","actions","actionItem","style","marginBottom","small","timeAgo","created_at","operationDisplayName","processed_by","comments","h6","EmptyTable","centered","aria-label","Request","isExpanded","toggleExpand","useState","isKebabOpen","setIsKebabOpen","userRoles","useContext","UserContext","isApprovalAdmin","useIsApprovalAdmin","onKebabToggle","onKebabSelect","checkCapability","capability","user_capabilities","DataListItem","aria-labelledby","DataListItemRow","DataListToggle","onClick","DataListItemCells","dataListCells","DataListCell","group_name","textTransform","Level","LevelItem","isRequestStateActive","to","pathname","Button","Dropdown","position","DropdownPosition","right","onSelect","toggle","KebabToggle","onToggle","dropdownItems","DropdownItem","addComment","isPlain","DataListContent","isHidden","renderActionList","isLoading","bool","requestActions","array","idx","number","noItems","RequestList","expanded","setState","indexOf","slice","includes","this","items","DataList","isActive","Component","active_request","RequestTranscript","content","initialState","isFetching","requestState","action","RequestDetail","useReducer","stateDispatch","useSelector","selectedRequest","location","useLocation","useDispatch","useEffect","Promise","all","approvalPersona","exact","path","render","breadcrumbs","paddingBottom","Section","Grid","backgroundColor","minHeight","GridItem","md","lg"],"mappings":"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","file":"js/request-detail~31ecd969.3f22c0c495bf6e02b726.js","sourcesContent":["import * as ActionTypes from '../action-types';\nimport * as RequestHelper from '../../helpers/request/request-helper';\nimport { defaultSettings } from '../../helpers/shared/pagination';\n\nexport const fetchRequests = (persona, pagination) => (dispatch, getState) => {\n  const { sortBy, requests, filterValue } = getState().requestReducer;\n\n  let finalPagination = pagination || defaultSettings;\n\n  if (!pagination && requests) {\n    const { limit, offset } = requests.meta;\n    finalPagination = { limit, offset };\n  }\n\n  return dispatch({\n    type: ActionTypes.FETCH_REQUESTS,\n    payload: RequestHelper.fetchRequests(filterValue, finalPagination, persona, sortBy)\n  });\n};\n\nexport const fetchRequest = (apiProps, persona) => ({\n  type: ActionTypes.FETCH_REQUEST,\n  payload: RequestHelper.fetchRequestWithSubrequests(apiProps, persona)\n});\n\nexport const fetchRequestContent = (apiProps, persona) => ({\n  type: ActionTypes.FETCH_REQUEST_CONTENT,\n  payload: RequestHelper.fetchRequestContent(apiProps, persona)\n});\n\nexport const createRequestAction = (actionName, requestId, actionIn) => ({\n  type: ActionTypes.CREATE_REQUEST_ACTION,\n  payload: RequestHelper.createRequestAction(requestId, actionIn),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success',\n        description: `The ${actionName} was successful.`\n      },\n      rejected: {\n        variant: 'danger',\n        title: `${actionName} error`,\n        description: `The ${actionName} action failed.`\n      }\n    }\n  }\n});\n\nexport const expandRequest = (id) => ({\n  type: ActionTypes.EXPAND_REQUEST,\n  payload: id\n});\n\nexport const sortRequests = (sortBy) => ({\n  type: ActionTypes.SORT_REQUESTS,\n  payload: sortBy\n});\n\nexport const setFilterValueRequests = (filterValue, type) => ({\n  type: ActionTypes.SET_FILTER_REQUESTS,\n  payload: { filterValue, type }\n});\n\nexport const clearFilterValueRequests = () => ({\n  type: ActionTypes.CLEAR_FILTER_REQUESTS\n});\n\nexport const resetRequestList = () => ({\n  type: ActionTypes.RESET_REQUEST_LIST\n});\n","import { getActionApi, getAxiosInstance, getGraphqlInstance } from '../shared/user-login';\nimport { APPROVAL_API_BASE } from '../../utilities/constants';\nimport { defaultSettings } from '../shared/pagination';\nimport { APPROVAL_REQUESTER_PERSONA, APPROVAL_APPROVER_PERSONA } from '../shared/helpers';\n\nconst actionApi = getActionApi();\nconst graphqlInstance = getGraphqlInstance();\n\nconst sortPropertiesMapper = (property) => ({\n  'request-id': 'id',\n  opened: 'created_at',\n  requester: 'requester_name',\n  status: 'state'\n}[property] || property\n);\n\nconst filterQuery = (filterValue) => {\n  const query = [];\n  if (filterValue.name) {\n    query.push(`filter[name][contains_i]=${filterValue.name}`);\n  }\n\n  if (filterValue.requester) {\n    query.push(`filter[requester_name][contains_i]=${filterValue.requester}`);\n  }\n\n  if (filterValue.status) {\n    filterValue.status.forEach(state => {\n      query.push(`filter[state][eq][]=${state}`);\n    });\n  }\n\n  if (filterValue.decision) {\n    filterValue.decision.forEach(dec => {\n      query.push(`filter[decision][eq][]=${dec}`);\n    });\n  }\n\n  return query.join('&');\n};\n\nexport function fetchRequests(filter = {}, pagination = defaultSettings, persona = undefined, sortBy) {\n  const paginationQuery = `&limit=${Math.max(pagination.limit, 10)}&offset=${pagination.offset}`;\n  const sortQuery = `&sort_by=${sortPropertiesMapper(sortBy.property)}:${sortBy.direction}`;\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/?${filterQuery(filter)}${paginationQuery}${sortQuery}`;\n  const fetchHeaders = persona ? { 'x-rh-persona': persona } : undefined;\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n}\n\nconst requestTranscriptQuery = (parent_id) => `query {\n  requests(id: \"${parent_id}\") {\n    id\n    name\n    number_of_children\n    decision\n    description\n    group_name\n    number_of_finished_children\n    state\n    actions {\n      id\n      operation\n      comments\n      created_at\n      processed_by\n    }\n    requests {\n      id\n      name\n      number_of_children\n      decision\n      description\n      group_name\n      number_of_finished_children\n      state\n      workflow_id\n      parent_id\n      actions {\n        id\n        operation\n        comments\n        created_at\n        processed_by\n      }\n    }\n  }\n}`;\n\nexport const fetchRequestTranscript = (requestId, persona) => {\n  const fetchHeaders = (persona && persona !== APPROVAL_APPROVER_PERSONA) ? { 'x-rh-persona': persona }\n    : { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return graphqlInstance({ method: 'post', url: `${APPROVAL_API_BASE}/graphql`,\n    headers: fetchHeaders, data: { query: requestTranscriptQuery(requestId) }})\n  .then(({ data: { requests }}) => requests);\n};\n\nexport const fetchRequestContent = (id) => {\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/${id}/content`;\n  const fetchHeaders = { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n};\n\nexport const fetchRequestCapabilities = (id, isParent) => {\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/${id}${isParent ? '/requests' : ''}`;\n  const fetchHeaders = { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n};\n\nexport async function fetchRequestWithSubrequests(id, persona) {\n  const requestData = await fetchRequestTranscript(id, persona);\n\n  if (!requestData || requestData.length === 0) { return {}; }\n\n  if (persona === APPROVAL_APPROVER_PERSONA) {\n    if (requestData && requestData.length > 0 && requestData[0].number_of_children > 0) {\n      const result = await fetchRequestCapabilities(id, true);\n\n      if (result && result.data) {\n        requestData[0].requests = requestData[0].requests.map(request => {\n          return {\n            ...result.data.find((item) => (item.id === request.id) && item.metadata),\n            ...request\n          };\n        });\n      }\n    }\n    else {\n      const request = await fetchRequestCapabilities(id, false);\n      if (request) {\n        requestData[0] = { ...requestData[0], metadata: request.metadata };\n      }\n    }\n  }\n\n  return requestData[0];\n}\n\nexport const createRequestAction = (requestId, actionIn) => actionApi.createAction(requestId, actionIn);\n","import componentTypes from '@data-driven-forms/react-form-renderer/dist/cjs/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/dist/cjs/validator-types';\n\nexport const createRequestCommentSchema = (isDeny = false) => ({\n  fields: [{\n    component: componentTypes.TEXTAREA,\n    name: 'comments',\n    isRequired: isDeny,\n    label: isDeny ? 'Reason' : 'Comment',\n    ...(isDeny && { validate: [{ type: validatorTypes.REQUIRED }]})\n  }]\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FormRenderer from '../common/form-renderer';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Modal } from '@patternfly/react-core';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/cjs/actions';\nimport { createRequestAction } from '../../redux/actions/request-actions';\nimport { createRequestCommentSchema } from '../../forms/request-comment-form.schema';\nimport useQuery from '../../utilities/use-query';\nimport routes from '../../constants/routes';\n\nconst ActionModal = ({\n  actionType,\n  addNotification,\n  createRequestAction,\n  closeUrl,\n  postMethod\n}) => {\n  const { push } = useHistory();\n  const [{ request: id }] = useQuery([ 'request' ]);\n\n  const onSubmit = (data) => {\n    const operationType = { 'Add Comment': 'memo', Approve: 'approve', Deny: 'deny' };\n    const actionName = actionType === 'Add Comment' ? actionType : `${actionType} Request`;\n\n    return postMethod ?\n      createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => postMethod()).then(() => push(closeUrl))\n      : createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => push(closeUrl));\n  };\n\n  const onCancel = () => {\n    const actionName = actionType === 'Add Comment' ? actionType : `${actionType} Request`;\n    addNotification({\n      variant: 'warning',\n      title: actionName,\n      dismissable: true,\n      description: `${actionName} was cancelled by the user.`\n    });\n    push(closeUrl);\n  };\n\n  return (\n    <Modal\n      isLarge\n      title={ actionType === 'Add Comment' ? `Request #${id}` : `${actionType} Request #${id}` }\n      isOpen\n      onClose={ onCancel }\n    >\n      <FormRenderer\n        schema={ createRequestCommentSchema(actionType === 'Deny') }\n        onSubmit={ onSubmit }\n        onCancel={ onCancel }\n        formContainer=\"modal\"\n      />\n    </Modal>\n  );\n};\n\nActionModal.defaultProps = {\n  closeUrl: routes.requests.index\n};\n\nActionModal.propTypes = {\n  addNotification: PropTypes.func.isRequired,\n  createRequestAction: PropTypes.func.isRequired,\n  postMethod: PropTypes.func,\n  actionType: PropTypes.string,\n  closeUrl: PropTypes.oneOfType([ PropTypes.string, PropTypes.shape({ patname: PropTypes.string, search: PropTypes.string }) ])\n};\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  addNotification,\n  createRequestAction\n}, dispatch);\n\nexport default connect(null, mapDispatchToProps)(ActionModal);\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","\"use strict\";function _interopDefault(e){return e&&\"object\"==typeof e&&\"default\"in e?e.default:e}Object.defineProperty(exports,\"__esModule\",{value:!0}),require(\"./_commonjsHelpers-32c5d30b.js\");var _extends=require(\"./extends-7fa7e501.js\"),defineProperty=require(\"./defineProperty-cf06dcaa.js\"),objectWithoutProperties=require(\"./objectWithoutProperties-9e2b4e81.js\"),React=require(\"react\"),React__default=_interopDefault(React),PropTypes=_interopDefault(require(\"prop-types\")),classNames=_interopDefault(require(\"classnames\")),configContext=require(\"./configContext-2e7dee54.js\"),Title_js=require(\"@patternfly/react-core/dist/js/components/Title/Title.js\"),PageHeader=function PageHeader(e){var t=e.className,r=e.children,a=objectWithoutProperties._objectWithoutProperties(e,[\"className\",\"children\"]),s=classNames(t,\"pf-l-page-header\",\"pf-c-page-header\",\"pf-l-page__main-section\",\"pf-c-page__main-section\");return React__default.createElement(configContext.ThemeContext.Consumer,null,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"light\",t=classNames(defineProperty._defineProperty({},\"pf-m-\".concat(e,\"-200\"),\"dark\"===e),defineProperty._defineProperty({},\"pf-m-light\",\"light\"===e));return React__default.createElement(\"section\",_extends._extends({},a,{className:\"\".concat(s,\" \").concat(t),\"widget-type\":\"InsightsPageHeader\"}),r)}))};PageHeader.propTypes={children:PropTypes.any.isRequired,className:PropTypes.string};var PageHeaderTitle=function PageHeaderTitle(e){var t=e.className,r=e.title,a=classNames(t);return React__default.createElement(Title_js.Title,{headingLevel:\"h1\",size:\"2xl\",className:a,\"widget-type\":\"InsightsPageHeaderTitle\"},\" \",r,\" \")};PageHeaderTitle.propTypes={title:PropTypes.node.isRequired,className:PropTypes.string},exports.PageHeader=PageHeader,exports.PageHeaderTitle=PageHeaderTitle;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Card, CardBody, CardHeader,\n  Stack,\n  StackItem,\n  Text,\n  TextContent,\n  TextVariants,\n  Title\n} from '@patternfly/react-core';\n\nconst RequestInfoBar = ({ request, requestContent }) => (\n  <Stack gutter=\"md\">\n    <StackItem key={ 'request-detail-panel' }>\n      <Card>\n        <CardBody>\n          <Stack gutter=\"md\">\n            <StackItem key={ 'request-summary' }>\n              <Title headingLevel=\"h5\" size=\"lg\">\n                Summary\n              </Title>\n            </StackItem>\n            <StackItem key={ 'request-product' }>\n              <TextContent>\n                <Text className={ 'font-14' }>\n                      Product\n                </Text>\n                <Text id='portfolio-item-name' component={ TextVariants.p }>\n                  { requestContent ? requestContent.product : '' }\n                </Text>\n              </TextContent>\n            </StackItem>\n            <StackItem key={ 'request-portfolio' }>\n              <TextContent>\n                <Text className={ 'font-14' }>\n                      Portfolio\n                </Text>\n                <Text id='portfolio-name' component={ TextVariants.p }>\n                  { requestContent ? requestContent.portfolio : '' }\n                </Text>\n              </TextContent>\n            </StackItem>\n            <StackItem key={ 'request-platform' }>\n              <TextContent>\n                <Text className={ 'font-14' }>\n                      Platform\n                </Text>\n                <Text id='source-name' component={ TextVariants.p }>\n                  { requestContent ? requestContent.platform : ' ' }\n                </Text>\n              </TextContent>\n            </StackItem>\n            <StackItem key={ 'request-requester' }>\n              <TextContent>\n                <Text className={ 'font-14' }>Requester </Text>\n                <Text id='requester_name' component={ TextVariants.p }>\n                  { request.requester_name }\n                </Text>\n              </TextContent>\n            </StackItem>\n            <StackItem key={ 'request-order' }>\n              <TextContent>\n                <Text className={ 'font-14' }>Order# </Text>\n                <Text id='requester_name' component={ TextVariants.p }>\n                  { requestContent ? requestContent.order_id : '' }\n                </Text>\n              </TextContent>\n            </StackItem>\n          </Stack>\n        </CardBody>\n      </Card>\n    </StackItem>\n    <StackItem key={ 'request-parameters' }>\n      <Card>\n        <CardHeader>\n          <Title headingLevel=\"h5\" size=\"lg\">Parameters</Title>\n        </CardHeader>\n        <CardBody>\n          <Stack gutter=\"md\">\n            { requestContent.params && Object.keys(requestContent.params).map(param => {\n              return ((requestContent.params[param]) &&\n                      <StackItem key={ `request-${requestContent.params[param]}` }>\n                        <TextContent>\n                          <Text key={ param } className={ 'font-14' }>\n                            { `${param}` }\n                          </Text>\n                          <Text id={ param } component={ TextVariants.p }>\n                            { `${requestContent.params[param]}` }\n                          </Text>\n                        </TextContent>\n                      </StackItem>\n              );\n            })\n            }\n          </Stack>\n        </CardBody>\n      </Card>\n    </StackItem>\n  </Stack>\n);\n\nRequestInfoBar.propTypes = {\n  request: PropTypes.shape({\n    requester_name: PropTypes.string,\n    order_id: PropTypes.string\n  }).isRequired,\n  requestContent: PropTypes.object\n};\nexport default RequestInfoBar;\n\n","import React from 'react';\nimport { timeAgo }  from '../../../helpers/shared/helpers';\nimport {\n  Stack,\n  TextContent,\n  Text,\n  TextVariants\n} from '@patternfly/react-core';\nimport { CheckCircleIcon,\n  CommentIcon,\n  EnvelopeIcon,\n  OutlinedTimesCircleIcon,\n  AngleDoubleRightIcon,\n  OnRunningIcon,\n  ErrorCircleOIcon,\n  ExclamationCircleIcon } from '@patternfly/react-icons';\nimport { EmptyTable } from '@redhat-cloud-services/frontend-components/components/cjs/EmptyTable';\n\nconst operationInfo = {\n  memo: { displayName: 'Comment from', icon: <CommentIcon/> },\n  approve: { displayName: 'Approved by', icon: <CheckCircleIcon className=\"pf-u-mr-sm icon-success-fill\"/> },\n  deny: { displayName: 'Denied by', icon: <OutlinedTimesCircleIcon className=\"pf-u-mr-sm icon-danger-fill\"/> },\n  notify: { displayName: 'Notified by', icon: <EnvelopeIcon/> },\n  skip: { displayName: 'Skipped by', icon: <AngleDoubleRightIcon/> },\n  start: { displayName: 'Started by', icon: <OnRunningIcon/> },\n  cancel: { displayName: 'Canceled by', icon: <ErrorCircleOIcon className=\"pf-u-mr-sm icon-danger-fill\"/> },\n  error: { displayName: 'Error', icon: <ExclamationCircleIcon className=\"pf-u-mr-sm icon-danger-fill\"/> }\n};\n\nconst operationIcon = (operation) => operationInfo[operation] ? operationInfo[operation].icon : '';\nconst operationDisplayName = (operation) => operationInfo[operation] ? operationInfo[operation].displayName : '';\n\nexport const ActionTranscript = actionList => {\n  const actions = actionList.actionList;\n  return actions ? (\n    <Stack>\n      { actions.map(actionItem =>\n        <div key={ `${actionItem.id}-action` }>\n          <TextContent><Text key={ `${actionItem.id}-action-created_at` } style={ { marginBottom: 0 } }\n            className=\"data-table-detail content\" component={ TextVariants.small }>\n            { timeAgo(actionItem.created_at) }\n          </Text>\n          <Text key={ `${actionItem.id}-action-operation` }  style={ { marginBottom: 0 } }\n            className=\"data-table-detail content\">\n            { operationIcon(actionItem.operation) } { `${operationDisplayName(actionItem.operation)}  ${actionItem.processed_by}` }\n          </Text>\n          { actionItem.comments && <Text key={ `${actionItem.id}-action-comments` } style={ { marginBottom: 0 } }\n            className=\"data-table-detail content\" component={ TextVariants.h6 }>\n            { `${actionItem.comments}` }\n          </Text> } </TextContent>\n          <br/>\n        </div>)\n      }\n    </Stack>\n  ) : <EmptyTable centered\n    aria-label=\"No records\"/>;\n};\n","import React, { useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { useIsApprovalAdmin, isRequestStateActive } from '../../../helpers/shared/helpers';\nimport { ActionTranscript } from './action-transcript';\n\nimport {\n  Stack,\n  StackItem,\n  Button,\n  DataListItem,\n  DataListItemRow,\n  DataListCell,\n  DataListToggle,\n  DataListItemCells,\n  DataListContent,\n  DropdownItem,\n  Dropdown,\n  DropdownPosition,\n  KebabToggle,\n  TextVariants,\n  TextContent,\n  Level,\n  LevelItem\n} from '@patternfly/react-core';\nimport UserContext from '../../../user-context';\nimport routes from '../../../constants/routes';\n\nexport const Request = ({ item, isExpanded, toggleExpand }) => {\n  const [ isKebabOpen, setIsKebabOpen ] = useState(false);\n  const { userRoles: userRoles } = useContext(UserContext);\n  const isApprovalAdmin = useIsApprovalAdmin(userRoles);\n\n  const onKebabToggle = isOpen => {\n    setIsKebabOpen(isOpen);\n  };\n\n  const onKebabSelect = () => {\n    setIsKebabOpen(isKebabOpen => !isKebabOpen);\n  };\n\n  const checkCapability = (item, capability) => {\n    if (isApprovalAdmin) {\n      return true;\n    }\n\n    return item.metadata && item.metadata.user_capabilities && item.metadata.user_capabilities[capability];\n  };\n\n  const buildRequestActionKebab = (request) => {\n    return (\n      <Dropdown\n        position={ DropdownPosition.right }\n        onSelect={ onKebabSelect }\n        toggle={ <KebabToggle id={ `request-request-dropdown-${request.id}` } onToggle={ onKebabToggle }/> }\n        isOpen={ isKebabOpen }\n        dropdownItems={ [\n          <DropdownItem aria-label=\"Add Comment\" key={ `add_comment_${request.id}` } component=\"button\">\n            <Link\n              id={ `request-${request.id}-request-comment` }\n              to={ {\n                pathname: routes.request.addComment,\n                search: `?request=${request.id}`\n              } }\n              className=\"pf-c-dropdown__menu-item\"\n            >\n              Comment\n            </Link>\n          </DropdownItem>\n        ] }\n        isPlain\n      />\n    );\n  };\n\n  const renderActionList = (request) => {\n    return <ActionTranscript actionList={ request.actions }/>;\n  };\n\n  return (\n    <DataListItem key={ `request-${item.id}` }\n      aria-labelledby={ `check-request-${item.id}` }\n      isExpanded={ isExpanded }>\n      <DataListItemRow>\n        <DataListToggle\n          onClick={ () => toggleExpand(`request-${item.id}`) }\n          isExpanded={ isExpanded }\n          id={ `request-${item.id}` }\n          aria-labelledby={ `request-${item.id} request-${item.id}` }\n          aria-label=\"Toggle details for\"\n        />\n        <DataListItemCells\n          dataListCells={ [\n            <DataListCell key={ item.id }>\n              <span id={ `${item.id}-name` }>{ `${item.group_name ? item.group_name : item.name}` } </span>\n            </DataListCell>,\n            <DataListCell key={ `${item.id}-state` }>\n              <span style={ { textTransform: 'capitalize' } } id={ `${item.id}-state` }>{ `${item.state}` } </span>\n            </DataListCell>,\n            <DataListCell key={ `${item.id}-action` }>\n              <Level>\n                <LevelItem>\n                  { (isRequestStateActive(item.state) && checkCapability(item, 'approve')) &&\n                    <div>\n                      <Link id={ `approve-${item.id}` } to={ { pathname: routes.request.approve, search: `?request=${item.id}` } }>\n                        <Button variant=\"link\" aria-label=\"Approve Request\">\n                          Approve\n                        </Button>\n                      </Link>\n                      <Link id={ `deny-${item.id}` } to={ { pathname: routes.request.deny, search: `?request=${item.id}` } }>\n                        <Button variant=\"link\" className=\"destructive-color\" aria-label=\"Deny Request\">\n                          Deny\n                        </Button>\n                      </Link>\n                    </div> }\n                </LevelItem>\n              </Level>\n            </DataListCell>,\n            <DataListCell\n              key={ `request-${item.id}` }\n              className=\"pf-c-data-list__action\"\n              aria-labelledby={ `request-${item.id} check-request-action${item.id}` }\n              id={ `workflow-${item.id}` }\n              aria-label=\"Actions\">\n              { isRequestStateActive(item.state) && checkCapability(item, 'memo') && buildRequestActionKebab(item) }\n            </DataListCell>\n          ] }/>\n      </DataListItemRow>\n      <DataListContent aria-label=\"Request Content Details\"\n        isHidden={ !isExpanded }>\n        <Stack gutter=\"md\">\n          <StackItem>\n            <TextContent component={ TextVariants.h6 }>\n              { renderActionList(item) }\n            </TextContent>\n          </StackItem>\n        </Stack>\n      </DataListContent>\n    </DataListItem>\n  );\n};\n\nRequest.propTypes = {\n  isLoading: PropTypes.bool,\n  item: PropTypes.shape({\n    id: PropTypes.string,\n    name: PropTypes.string,\n    state: PropTypes.string,\n    group_name: PropTypes.string.isRequired,\n    requestActions: PropTypes.shape({\n      data: PropTypes.array\n    }),\n    metadata: PropTypes.shape({\n      user_capabilities: PropTypes.object\n    })\n  }).isRequired,\n  idx: PropTypes.number,\n  isExpanded: PropTypes.bool.isRequired,\n  toggleExpand: PropTypes.func.isRequired,\n  noItems: PropTypes.string\n};\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components/components/cjs/PageHeader';\nimport { DataList } from '@patternfly/react-core';\nimport { Request }  from './request';\nimport { DataListLoader } from '../../../presentational-components/shared/loader-placeholders';\n\nclass RequestList extends Component {\n  state = {\n    expanded: []\n  };\n\n  toggleExpand = id => this.setState(({ expanded }) => {\n    const index = expanded.indexOf(id);\n    const newExpanded =\n      index >= 0 ? [ ...expanded.slice(0, index), ...expanded.slice(index + 1, expanded.length) ] : [ ...expanded, id ];\n    return ({ expanded: newExpanded });\n  });\n\n  isExpanded = key => {\n    return this.state.expanded.includes(key);\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <div>\n          { this.props.isLoading && (\n            <Fragment>\n              <PageHeader>\n                <PageHeaderTitle title={ this.props.noItems }/>\n              </PageHeader>\n              <DataListLoader/>\n            </Fragment>\n          ) }\n        </div>\n        { this.props.items.length > 0 && (\n          <DataList aria-label=\"Expandable data list\">\n            { this.props.items.map((item, idx) => (\n              <Request\n                key={ item.id }\n                item={ item }\n                idx={ idx }\n                isActive={ idx === 0 }\n                isExpanded={ this.isExpanded(`request-${item.id}`) }\n                toggleExpand={ this.toggleExpand }\n              />)) }\n          </DataList>)\n        }\n      </Fragment>\n    );\n  };\n}\n\nRequestList.propTypes = {\n  isLoading: PropTypes.bool,\n  items: PropTypes.array,\n  noItems: PropTypes.string,\n  active_request: PropTypes.number\n};\n\nRequestList.defaultProps = {\n  items: []\n};\n\nexport default RequestList;\n\n","import React, { Fragment }  from 'react';\nimport PropTypes from 'prop-types';\nimport { Title } from '@patternfly/react-core';\nimport RequestList from './request-list';\n\nconst RequestTranscript = ({ request }) => {\n  return (<Fragment>\n    <Title headingLevel=\"h5\" size=\"lg\" className=\"pf-u-pl-lg pf-u-pb-lg\">Request transcript</Title>\n    <RequestList items={ request.requests && request.requests.length > 0 ? request.requests : [ request ] }/>\n  </Fragment>);\n};\n\nRequestTranscript.propTypes = {\n  request: PropTypes.shape({\n    content: PropTypes.object,\n    requests: PropTypes.array\n  }).isRequired\n};\n\nexport default RequestTranscript;\n","import React, { Fragment, useContext, useEffect, useReducer } from 'react';\nimport { Route, useLocation, Switch } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Grid, GridItem } from '@patternfly/react-core';\nimport { Section } from '@redhat-cloud-services/frontend-components/components/cjs/Section';\nimport ActionModal from '../action-modal';\nimport RequestInfoBar from './request-info-bar';\nimport RequestTranscript from './request-transcript';\nimport { fetchRequest, fetchRequestContent } from '../../../redux/actions/request-actions';\nimport { RequestLoader } from '../../../presentational-components/shared/loader-placeholders';\nimport { TopToolbar, TopToolbarTitle } from '../../../presentational-components/shared/top-toolbar';\nimport UserContext from '../../../user-context';\nimport useQuery from '../../../utilities/use-query';\nimport routes from '../../../constants/routes';\nimport { approvalPersona } from '../../../helpers/shared/helpers';\n\nconst initialState = {\n  isFetching: true\n};\nconst requestState = (state, action) => {\n  switch (action.type) {\n    case 'setFetching':\n      return { ...state, isFetching: action.payload };\n    default:\n      return state;\n  }\n};\n\nconst RequestDetail = () => {\n  const [{ isFetching }, stateDispatch ] = useReducer(requestState, initialState);\n\n  const { selectedRequest, requestContent } = useSelector(\n    ({\n      requestReducer: {\n        requestContent: requestContent,\n        selectedRequest: selectedRequest\n      }\n    }) => ({ selectedRequest, requestContent })\n  );\n\n  const [{ request: id }] = useQuery([ 'request' ]);\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const { userRoles: userRoles } = useContext(UserContext);\n\n  useEffect(() => {\n    Promise.all([ dispatch(fetchRequest(id, approvalPersona(userRoles))), dispatch(fetchRequestContent(id, approvalPersona(userRoles))) ])\n    .then(() => stateDispatch({ type: 'setFetching', payload: false }));\n  }, []);\n\n  const renderRequestDetails = () => {\n    if (isFetching || !selectedRequest || Object.keys(selectedRequest).length === 0) {\n      return (\n        <Section style={ { backgroundColor: 'white', minHeight: '100%' } }>\n          <RequestLoader />\n        </Section>\n      );\n    }\n    else {\n      return (\n        <Fragment>\n          <GridItem md={ 4 } lg={ 3 } className=\"info-bar\">\n            <RequestInfoBar request={ selectedRequest } requestContent={ requestContent }/>\n          </GridItem>\n          <GridItem md={ 8 } lg={ 9 } className=\"detail-pane pf-u-p-lg\">\n            <RequestTranscript request={ selectedRequest } url={ location.url }/>\n          </GridItem>\n        </Fragment>\n      );\n    }\n  };\n\n  return (\n    <Fragment>\n      <Switch>\n        <Route exact path={ routes.request.addComment }>\n          <ActionModal actionType={ 'Add Comment' }\n            closeUrl={ { pathname: routes.request.index, search: `?request=${selectedRequest.id}` } }/>\n        </Route>\n        <Route exact path={ routes.request.approve } render={ props =>\n          <ActionModal { ...props } actionType={ 'Approve' }\n            closeUrl={ { pathname: routes.request.index, search: `?request=${selectedRequest.id}` } } /> } />\n        <Route exact path={ routes.request.deny } render={ props =>\n          <ActionModal { ...props } actionType={ 'Deny' }\n            closeUrl={ { pathname: routes.request.index, search: `?request=${selectedRequest.id}` } } /> } />\n      </Switch>\n      <TopToolbar\n        breadcrumbs={ [\n          { title: 'Request queue', to: routes.requests.index, id: 'requests' },\n          { title: `Request ${id}`, id }\n        ] }\n        paddingBottom={ true }\n      >\n        <TopToolbarTitle title={ `Request ${id}` } />\n      </TopToolbar>\n      <Section type=\"content\">\n        <Grid gutter=\"md\">\n          { renderRequestDetails() }\n        </Grid>\n      </Section>\n    </Fragment>\n  );\n};\n\nexport default RequestDetail;\n"],"sourceRoot":""}