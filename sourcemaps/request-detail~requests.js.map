{"version":3,"sources":["webpack:///./src/forms/request-comment-form.schema.js","webpack:///./src/helpers/request/request-helper.js","webpack:///./src/redux/actions/request-actions.js","webpack:///./src/smart-components/common/form-renderer.js","webpack:///./src/smart-components/request/action-modal.js","webpack:///./src/smart-components/workflow/add-groups/summary-content.js","webpack:///./src/utilities/use-query.js"],"names":["createRequestCommentSchema","isDeny","fields","component","componentTypes","TEXTAREA","name","isRequired","label","validate","type","validatorTypes","REQUIRED","actionApi","getActionApi","graphqlInstance","getGraphqlInstance","sortPropertiesMapper","property","opened","requester","status","filterQuery","filterValue","query","push","forEach","state","decision","dec","join","fetchRequests","filter","pagination","defaultSettings","persona","undefined","sortBy","paginationQuery","Math","max","limit","offset","sortQuery","direction","fetchUrl","APPROVAL_API_BASE","fetchHeaders","getAxiosInstance","method","url","headers","requestTranscriptQuery","parent_id","fetchRequestTranscript","requestId","APPROVAL_APPROVER_PERSONA","APPROVAL_REQUESTER_PERSONA","data","then","requests","fetchRequestContent","id","fetchRequestCapabilities","isParent","fetchRequestWithSubrequests","requestData","length","number_of_children","result","map","request","find","item","metadata","createRequestAction","actionIn","createAction","dispatch","getState","requestReducer","finalPagination","meta","ActionTypes","payload","RequestHelper","fetchRequest","apiProps","actionName","notifications","fulfilled","variant","title","description","rejected","expandRequest","sortRequests","setFilterValueRequests","clearFilterValueRequests","CLEAR_FILTER_REQUESTS","resetRequestList","RESET_REQUEST_LIST","buttonPositioning","modal","buttonOrder","buttonClassName","componentMapperExtended","componentMapper","summary","SummaryContent","FormRenderer","formContainer","rest","props","propTypes","PropTypes","oneOf","defaultProps","ActionModal","actionType","addNotification","closeUrl","postMethod","useHistory","useQuery","onSubmit","operationType","Approve","Deny","operation","onCancel","dismissable","routes","index","func","string","oneOfType","shape","patname","search","mapDispatchToProps","bindActionCreators","connect","useFormApi","values","wfGroups","TextVariants","h5","p","group","idx","value","requiredParams","useLocation","URLSearchParams","reduce","acc","curr","get"],"mappings":"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","file":"js/request-detail~requests.js","sourcesContent":["import componentTypes from '@data-driven-forms/react-form-renderer/dist/cjs/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/dist/cjs/validator-types';\n\nexport const createRequestCommentSchema = (isDeny = false) => ({\n  fields: [{\n    component: componentTypes.TEXTAREA,\n    name: 'comments',\n    isRequired: isDeny,\n    label: isDeny ? 'Reason' : 'Comment',\n    ...(isDeny && { validate: [{ type: validatorTypes.REQUIRED }]})\n  }]\n});\n","import { getActionApi, getAxiosInstance, getGraphqlInstance } from '../shared/user-login';\nimport { APPROVAL_API_BASE } from '../../utilities/constants';\nimport { defaultSettings } from '../shared/pagination';\nimport { APPROVAL_REQUESTER_PERSONA, APPROVAL_APPROVER_PERSONA } from '../shared/helpers';\n\nconst actionApi = getActionApi();\nconst graphqlInstance = getGraphqlInstance();\n\nconst sortPropertiesMapper = (property) => ({\n  'request-id': 'id',\n  opened: 'created_at',\n  requester: 'requester_name',\n  status: 'state'\n}[property] || property\n);\n\nconst filterQuery = (filterValue) => {\n  const query = [];\n  if (filterValue.name) {\n    query.push(`filter[name][contains_i]=${filterValue.name}`);\n  }\n\n  if (filterValue.requester) {\n    query.push(`filter[requester_name][contains_i]=${filterValue.requester}`);\n  }\n\n  if (filterValue.status) {\n    filterValue.status.forEach(state => {\n      query.push(`filter[state][eq][]=${state}`);\n    });\n  }\n\n  if (filterValue.decision) {\n    filterValue.decision.forEach(dec => {\n      query.push(`filter[decision][eq][]=${dec}`);\n    });\n  }\n\n  return query.join('&');\n};\n\nexport function fetchRequests(filter = {}, pagination = defaultSettings, persona = undefined, sortBy) {\n  const paginationQuery = `&limit=${Math.max(pagination.limit, 10)}&offset=${pagination.offset}`;\n  const sortQuery = `&sort_by=${sortPropertiesMapper(sortBy.property)}:${sortBy.direction}`;\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/?${filterQuery(filter)}${paginationQuery}${sortQuery}`;\n  const fetchHeaders = persona ? { 'x-rh-persona': persona } : undefined;\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n}\n\nconst requestTranscriptQuery = (parent_id) => `query {\n  requests(id: \"${parent_id}\") {\n    id\n    name\n    number_of_children\n    decision\n    description\n    group_name\n    number_of_finished_children\n    state\n    actions {\n      id\n      operation\n      comments\n      created_at\n      processed_by\n    }\n    requests {\n      id\n      name\n      number_of_children\n      decision\n      description\n      group_name\n      number_of_finished_children\n      state\n      workflow_id\n      parent_id\n      actions {\n        id\n        operation\n        comments\n        created_at\n        processed_by\n      }\n    }\n  }\n}`;\n\nexport const fetchRequestTranscript = (requestId, persona) => {\n  const fetchHeaders = (persona && persona !== APPROVAL_APPROVER_PERSONA) ? { 'x-rh-persona': persona }\n    : { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return graphqlInstance({ method: 'post', url: `${APPROVAL_API_BASE}/graphql`,\n    headers: fetchHeaders, data: { query: requestTranscriptQuery(requestId) }})\n  .then(({ data: { requests }}) => requests);\n};\n\nexport const fetchRequestContent = (id) => {\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/${id}/content`;\n  const fetchHeaders = { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n};\n\nexport const fetchRequestCapabilities = (id, isParent) => {\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/${id}${isParent ? '/requests' : ''}`;\n  const fetchHeaders = { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n};\n\nexport async function fetchRequestWithSubrequests(id, persona) {\n  const requestData = await fetchRequestTranscript(id, persona);\n\n  if (!requestData || requestData.length === 0) { return {}; }\n\n  if (persona === APPROVAL_APPROVER_PERSONA) {\n    if (requestData && requestData.length > 0 && requestData[0].number_of_children > 0) {\n      const result = await fetchRequestCapabilities(id, true);\n\n      if (result && result.data) {\n        requestData[0].requests = requestData[0].requests.map(request => {\n          return {\n            ...result.data.find((item) => (item.id === request.id) && item.metadata),\n            ...request\n          };\n        });\n      }\n    }\n    else {\n      const request = await fetchRequestCapabilities(id, false);\n      if (request) {\n        requestData[0] = { ...requestData[0], metadata: request.metadata };\n      }\n    }\n  }\n\n  return requestData[0];\n}\n\nexport const createRequestAction = (requestId, actionIn) => actionApi.createAction(requestId, actionIn);\n","import * as ActionTypes from '../action-types';\nimport * as RequestHelper from '../../helpers/request/request-helper';\nimport { defaultSettings } from '../../helpers/shared/pagination';\n\nexport const fetchRequests = (persona, pagination) => (dispatch, getState) => {\n  const { sortBy, requests, filterValue } = getState().requestReducer;\n\n  let finalPagination = pagination || defaultSettings;\n\n  if (!pagination && requests) {\n    const { limit, offset } = requests.meta;\n    finalPagination = { limit, offset };\n  }\n\n  return dispatch({\n    type: ActionTypes.FETCH_REQUESTS,\n    payload: RequestHelper.fetchRequests(filterValue, finalPagination, persona, sortBy)\n  });\n};\n\nexport const fetchRequest = (apiProps, persona) => ({\n  type: ActionTypes.FETCH_REQUEST,\n  payload: RequestHelper.fetchRequestWithSubrequests(apiProps, persona)\n});\n\nexport const fetchRequestContent = (apiProps, persona) => ({\n  type: ActionTypes.FETCH_REQUEST_CONTENT,\n  payload: RequestHelper.fetchRequestContent(apiProps, persona)\n});\n\nexport const createRequestAction = (actionName, requestId, actionIn) => ({\n  type: ActionTypes.CREATE_REQUEST_ACTION,\n  payload: RequestHelper.createRequestAction(requestId, actionIn),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success',\n        description: `The ${actionName} was successful.`\n      },\n      rejected: {\n        variant: 'danger',\n        title: `${actionName} error`,\n        description: `The ${actionName} action failed.`\n      }\n    }\n  }\n});\n\nexport const expandRequest = (id) => ({\n  type: ActionTypes.EXPAND_REQUEST,\n  payload: id\n});\n\nexport const sortRequests = (sortBy) => ({\n  type: ActionTypes.SORT_REQUESTS,\n  payload: sortBy\n});\n\nexport const setFilterValueRequests = (filterValue, type) => ({\n  type: ActionTypes.SET_FILTER_REQUESTS,\n  payload: { filterValue, type }\n});\n\nexport const clearFilterValueRequests = () => ({\n  type: ActionTypes.CLEAR_FILTER_REQUESTS\n});\n\nexport const resetRequestList = () => ({\n  type: ActionTypes.RESET_REQUEST_LIST\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ReactFormRender from '@data-driven-forms/react-form-renderer/dist/cjs/form-renderer';\nimport componentMapper from '@data-driven-forms/pf4-component-mapper/dist/cjs/component-mapper';\nimport FormTemplate from '@data-driven-forms/pf4-component-mapper/dist/cjs/form-template';\n\nimport SummaryContent from '../workflow/add-groups/summary-content';\n\nconst buttonPositioning = {\n  default: {},\n  modal: {\n    buttonOrder: [ 'cancel', 'reset', 'save' ],\n    buttonClassName: 'modal-form-right-align'\n  }\n};\n\nconst componentMapperExtended = {\n  ...componentMapper,\n  summary: SummaryContent\n};\n\nconst FormRenderer = ({ formContainer, ...rest }) => (\n  <div className={ buttonPositioning[formContainer].buttonClassName }>\n    <ReactFormRender\n      componentMapper={ componentMapperExtended }\n      FormTemplate={ (props) => <FormTemplate { ...props } { ...buttonPositioning[formContainer] }/> }\n      { ...rest }\n    />\n  </div>\n);\n\nFormRenderer.propTypes = {\n  formContainer: PropTypes.oneOf([ 'default', 'modal' ])\n};\n\nFormRenderer.defaultProps = {\n  formContainer: 'default'\n};\n\nexport default FormRenderer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FormRenderer from '../common/form-renderer';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Modal } from '@patternfly/react-core';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications';\nimport { createRequestAction } from '../../redux/actions/request-actions';\nimport { createRequestCommentSchema } from '../../forms/request-comment-form.schema';\nimport useQuery from '../../utilities/use-query';\nimport routes from '../../constants/routes';\n\nconst ActionModal = ({\n  actionType,\n  addNotification,\n  createRequestAction,\n  closeUrl,\n  postMethod\n}) => {\n  const { push } = useHistory();\n  const [{ request: id }] = useQuery([ 'request' ]);\n\n  const onSubmit = (data) => {\n    const operationType = { 'Add Comment': 'memo', Approve: 'approve', Deny: 'deny' };\n    const actionName = actionType === 'Add Comment' ? actionType : `${actionType} Request`;\n\n    return postMethod ?\n      createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => postMethod()).then(() => push(closeUrl))\n      : createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => push(closeUrl));\n  };\n\n  const onCancel = () => {\n    const actionName = actionType === 'Add Comment' ? actionType : `${actionType} Request`;\n    addNotification({\n      variant: 'warning',\n      title: actionName,\n      dismissable: true,\n      description: `${actionName} was cancelled by the user.`\n    });\n    push(closeUrl);\n  };\n\n  return (\n    <Modal\n      isLarge\n      title={ actionType === 'Add Comment' ? `Request #${id}` : `${actionType} Request #${id}` }\n      isOpen\n      onClose={ onCancel }\n    >\n      <FormRenderer\n        schema={ createRequestCommentSchema(actionType === 'Deny') }\n        onSubmit={ onSubmit }\n        onCancel={ onCancel }\n        formContainer=\"modal\"\n      />\n    </Modal>\n  );\n};\n\nActionModal.defaultProps = {\n  closeUrl: routes.requests.index\n};\n\nActionModal.propTypes = {\n  addNotification: PropTypes.func.isRequired,\n  createRequestAction: PropTypes.func.isRequired,\n  postMethod: PropTypes.func,\n  actionType: PropTypes.string,\n  closeUrl: PropTypes.oneOfType([ PropTypes.string, PropTypes.shape({ patname: PropTypes.string, search: PropTypes.string }) ])\n};\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  addNotification,\n  createRequestAction\n}, dispatch);\n\nexport default connect(null, mapDispatchToProps)(ActionModal);\n","import React, { Fragment } from 'react';\nimport {\n  Grid,\n  GridItem,\n  Stack,\n  StackItem,\n  Text,\n  TextContent,\n  TextVariants,\n  Title\n} from '@patternfly/react-core';\n\nimport useFormApi from '@data-driven-forms/react-form-renderer/dist/cjs/use-form-api';\n\nconst SummaryContent = () => {\n  const { getState } = useFormApi();\n  const { name, description, wfGroups } = getState().values;\n\n  return (\n    <Fragment>\n      <Stack gutter=\"md\">\n        <StackItem>\n          <Title size=\"xl\"> Review </Title>\n        </StackItem>\n        <StackItem>\n          <Stack gutter=\"md\">\n            <StackItem>\n              <TextContent>\n                <Text className=\"data-table-detail heading\" component={ TextVariants.h5 }>\n                    Review and confirm your inputs. If there is anything incorrect, click Back and revise.</Text>\n              </TextContent>\n            </StackItem>\n            <StackItem>\n              <Grid gutter=\"md\">\n                <GridItem span={ 2 }>\n                  <Text className=\"data-table-detail heading\" component={ TextVariants.h5 }>Name</Text>\n                </GridItem>\n                <GridItem span={ 10 }>\n                  <Text className=\"data-table-detail content\" component={ TextVariants.p }>{ name }</Text>\n                </GridItem>\n              </Grid>\n              <Grid gutter=\"md\">\n                <GridItem span={ 2 }>\n                  <Text className=\"data-table-detail heading\" component={ TextVariants.h5 }>Description</Text>\n                </GridItem>\n                <GridItem span={ 10 }>\n                  <Text className=\"data-table-detail content\" component={ TextVariants.p }>{ description }</Text>\n                </GridItem>\n              </Grid>\n              { wfGroups && wfGroups.length > 0 && wfGroups.map((group, idx) => (\n                <Fragment key={ group.value }>\n                  <Grid gutter=\"md\">\n                    <GridItem span={ 2 }>\n                      <Text className=\"data-table-detail heading\" component={ TextVariants.h5 }>\n                        { idx === 0 ? 'Groups' : '' }\n                      </Text>\n                    </GridItem>\n                    <GridItem span={ 10 }>\n                      <Text className=\"data-table-detail content\" component={ TextVariants.p }>\n                        { group.label }\n                      </Text>\n                    </GridItem>\n                  </Grid>\n                </Fragment>)\n              ) }\n            </StackItem>\n          </Stack>\n        </StackItem>\n      </Stack>\n    </Fragment>\n  );\n};\n\nexport default SummaryContent;\n","import { useLocation } from 'react-router-dom';\n\nconst useQuery = (requiredParams = []) => {\n  const { search } = useLocation();\n  const query = new URLSearchParams(search);\n  return [\n    requiredParams.reduce(\n      (acc, curr) => ({\n        ...acc,\n        [curr]: query.get(curr)\n      }),\n      {}\n    ),\n    search,\n    query\n  ];\n};\n\nexport default useQuery;\n"],"sourceRoot":""}