{"version":3,"sources":["webpack:///./src/constants/routes.js","webpack:///./src/forms/request-comment-form.schema.js","webpack:///./src/helpers/request/request-helper.js","webpack:///./src/presentational-components/shared/pf4-select-wrapper.js","webpack:///./src/redux/actions/request-actions.js","webpack:///./src/smart-components/common/form-renderer.js","webpack:///./src/smart-components/request/action-modal.js","webpack:///./src/utilities/use-query.js"],"names":["routes","requests","index","addComment","approve","deny","request","workflows","add","remove","editInfo","editGroups","editSequence","schemaFields","isDeny","component","componentTypes","TEXTAREA_FIELD","name","type","isRequired","label","createRequestCommentSchema","schema","validate","validatorTypes","REQUIRED","fields","actionApi","getActionApi","graphqlInstance","getGraphqlInstance","sortPropertiesMapper","property","opened","requester","status","fetchRequests","filter","pagination","defaultSettings","persona","undefined","sortBy","filterQuery","paginationQuery","limit","offset","sortQuery","direction","fetchUrl","APPROVAL_API_BASE","fetchHeaders","getAxiosInstance","method","url","headers","requestTranscriptQuery","parent_id","fetchRequestTranscript","requestId","APPROVAL_APPROVER_PERSONA","APPROVAL_REQUESTER_PERSONA","data","query","then","fetchRequestContent","id","fetchRequestCapabilities","isParent","fetchRequestWithSubrequests","requestData","length","number_of_children","result","map","find","item","metadata","createRequestAction","actionIn","createAction","createOptions","options","inputValue","selectOptions","value","Select","input","isReadOnly","isDisabled","FieldProvider","rest","props","toString","propTypes","PropTypes","object","arrayOf","shape","any","string","bool","Pf4SelectWrapper","componentType","helperText","meta","description","hideLabel","error","touched","showError","TextVariants","small","dispatch","getState","requestReducer","finalPagination","ActionTypes","payload","RequestHelper","fetchRequest","apiProps","actionName","notifications","fulfilled","variant","title","rejected","expandRequest","sortRequests","buttonPositioning","modal","buttonOrder","buttonClassName","FormRenderer","componentMapper","formContainer","formFieldsMapper","SELECT","layoutMapper","oneOf","defaultProps","ActionModal","actionType","addNotification","closeUrl","postMethod","useHistory","push","useQuery","onSubmit","operationType","Approve","Deny","operation","onCancel","dismissable","func","match","location","mapDispatchToProps","bindActionCreators","connect","requiredParams","useLocation","search","URLSearchParams","reduce","acc","curr","get"],"mappings":"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","file":"js/request-detail~requests.js","sourcesContent":["const routes = {\n  requests: {\n    index: '/requests',\n    addComment: '/requests/add-comment',\n    approve: '/requests/approve',\n    deny: '/requests/deny'\n  },\n  request: {\n    index: '/request',\n    addComment: '/request/add-comment',\n    approve: '/request/approve',\n    deny: '/request/deny'\n  },\n  workflows: {\n    index: '/workflows',\n    add: '/workflows/add-workflow',\n    remove: '/workflows/remove',\n    editInfo: '/workflows/edit-info',\n    editGroups: '/workflows/edit-groups',\n    editSequence: '/workflows/edit-sequence'\n  }\n};\n\nexport default routes;\n","import { componentTypes, validatorTypes } from '@data-driven-forms/react-form-renderer';\n\nconst schemaFields = (isDeny) =>({\n  component: componentTypes.TEXTAREA_FIELD,\n  name: 'comments',\n  type: 'text',\n  isRequired: isDeny,\n  label: isDeny ? 'Reason' : 'Comment'\n});\n\nexport const createRequestCommentSchema = (isDeny = false) => {\n  const schema = schemaFields(isDeny);\n  if (isDeny) {\n    schema.validate = [{\n      type: validatorTypes.REQUIRED\n    }];\n  }\n\n  return { fields: [ schema ]};\n};\n","import { getActionApi, getAxiosInstance, getGraphqlInstance } from '../shared/user-login';\nimport { APPROVAL_API_BASE } from '../../utilities/constants';\nimport { defaultSettings } from '../shared/pagination';\nimport { APPROVAL_REQUESTER_PERSONA, APPROVAL_APPROVER_PERSONA } from '../shared/helpers';\n\nconst actionApi = getActionApi();\nconst graphqlInstance = getGraphqlInstance();\n\nconst sortPropertiesMapper = (property) => ({\n  opened: 'created_at',\n  requester: 'requester_name',\n  status: 'state'\n}[property] || property);\n\nexport function fetchRequests(filter = '', pagination = defaultSettings, persona = undefined, sortBy) {\n  const filterQuery = `filter[name][contains_i]=${filter}`;\n  const paginationQuery = `&limit=${pagination.limit}&offset=${pagination.offset}`;\n  const sortQuery = `&sort_by=${sortPropertiesMapper(sortBy.property)}:${sortBy.direction}`;\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/?${filterQuery}${paginationQuery}${sortQuery}`;\n  const fetchHeaders = persona ? { 'x-rh-persona': persona } : undefined;\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n}\n\nconst requestTranscriptQuery = (parent_id) => `query {\n  requests(id: \"${parent_id}\") {\n    id\n    name\n    number_of_children\n    decision\n    description\n    group_name\n    number_of_finished_children\n    state\n    actions {\n      id\n      operation\n      comments\n      created_at\n      processed_by\n    }\n    requests {\n      id\n      name\n      number_of_children\n      decision\n      description\n      group_name\n      number_of_finished_children\n      state\n      workflow_id\n      parent_id\n      actions {\n        id\n        operation\n        comments\n        created_at\n        processed_by\n      }\n    }\n  }\n}`;\n\nexport const fetchRequestTranscript = (requestId, persona) => {\n  const fetchHeaders = (persona && persona !== APPROVAL_APPROVER_PERSONA) ? { 'x-rh-persona': persona }\n    : { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return graphqlInstance({ method: 'post', url: `${APPROVAL_API_BASE}/graphql`,\n    headers: fetchHeaders, data: { query: requestTranscriptQuery(requestId) }})\n  .then(({ data: { requests }}) => requests);\n};\n\nexport const fetchRequestContent = (id) => {\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/${id}/content`;\n  const fetchHeaders = { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n};\n\nexport const fetchRequestCapabilities = (id, isParent) => {\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/${id}${isParent ? '/requests' : ''}`;\n  const fetchHeaders = { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n};\n\nexport async function fetchRequestWithSubrequests(id, persona) {\n  const requestData = await fetchRequestTranscript(id, persona);\n\n  if (!requestData || requestData.length === 0) { return {}; }\n\n  if (persona === APPROVAL_APPROVER_PERSONA) {\n    if (requestData && requestData.length > 0 && requestData[0].number_of_children > 0) {\n      const result = await fetchRequestCapabilities(id, true);\n\n      if (result && result.data) {\n        requestData[0].requests = requestData[0].requests.map(request => {\n          return { ...result.data.find((item) => (item.id === request.id) && item.metadata),\n            ...request };\n        });\n      }\n    }\n    else {\n      const request = await fetchRequestCapabilities(id, false);\n      if (request) {\n        requestData[0] = { ...requestData[0], metadata: request.metadata };\n      }\n    }\n  }\n\n  return  { ...requestData[0] };\n}\n\nexport async function createRequestAction (requestId, actionIn) {\n  return await actionApi.createAction(requestId, actionIn);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormSelect, FormSelectOption, FormGroup, TextContent, Text, TextVariants } from '@patternfly/react-core';\n\nconst createOptions = (options, inputValue, isRequired) => {\n  if (inputValue && isRequired) {\n    return options;\n  }\n\n  const selectOptions = [ ...options ];\n  return selectOptions.find(({ value }) => value === undefined)\n    ? [ ...selectOptions ]\n    : [{ label: isRequired ? 'Please choose' : 'None' }, ...selectOptions ];\n};\n\nconst Select = ({\n  input,\n  options,\n  isReadOnly,\n  isDisabled,\n  FieldProvider,\n  isRequired,\n  ...rest\n}) => (\n  <FormSelect { ...input } { ...rest } isDisabled={ isDisabled || isReadOnly }>\n    { createOptions(options, input.value, isRequired).map((props) => (\n      <FormSelectOption key={ props.value || props.label } { ...props } label={ props.label.toString() }/> // eslint-disable-line react/prop-types\n    )) }\n  </FormSelect>\n);\n\nSelect.propTypes = {\n  input: PropTypes.object.isRequired,\n  options: PropTypes.arrayOf(PropTypes.shape({\n    value: PropTypes.any,\n    label: PropTypes.string.isRequired\n  })).isRequired,\n  isReadOnly: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  isRequired: PropTypes.bool,\n  FieldProvider: PropTypes.any\n};\n\nconst Pf4SelectWrapper = ({\n  componentType,\n  label,\n  isRequired,\n  helperText,\n  meta,\n  description,\n  hideLabel,\n  ...rest\n}) => {\n  const { error, touched } = meta;\n  const showError = touched && error;\n\n  return (\n    <FormGroup\n      isRequired={ isRequired }\n      label={ !hideLabel && label }\n      fieldId={ rest.id }\n      isValid={ !showError }\n      helperText={ helperText }\n      helperTextInvalid={ meta.error }\n    >\n      { description && <TextContent><Text component={ TextVariants.small }>{ description }</Text></TextContent> }\n      <Select label={ label } isValid={ !showError } isRequired={ isRequired } { ...rest }/>\n    </FormGroup>\n  );\n};\n\nPf4SelectWrapper.propTypes = {\n  componentType: PropTypes.string,\n  label: PropTypes.string,\n  isRequired: PropTypes.bool,\n  helperText: PropTypes.string,\n  meta: PropTypes.object,\n  description: PropTypes.string,\n  hideLabel: PropTypes.bool\n};\n\nexport default Pf4SelectWrapper;\n","import * as ActionTypes from '../action-types';\nimport * as RequestHelper from '../../helpers/request/request-helper';\nimport { defaultSettings } from '../../helpers/shared/pagination';\n\nexport const fetchRequests = (filter, persona, pagination) => (dispatch, getState) => {\n  const { sortBy, requests } = getState().requestReducer;\n\n  let finalPagination = pagination || defaultSettings;\n\n  if (!pagination && requests) {\n    const { limit, offset } = requests.meta;\n    finalPagination = { limit, offset };\n  }\n\n  return dispatch({\n    type: ActionTypes.FETCH_REQUESTS,\n    payload: RequestHelper.fetchRequests(filter, finalPagination, persona, sortBy)\n  });\n};\n\nexport const fetchRequest = (apiProps, persona) => ({\n  type: ActionTypes.FETCH_REQUEST,\n  payload: RequestHelper.fetchRequestWithSubrequests(apiProps, persona)\n});\n\nexport const fetchRequestContent = (apiProps, persona) => ({\n  type: ActionTypes.FETCH_REQUEST_CONTENT,\n  payload: RequestHelper.fetchRequestContent(apiProps, persona)\n});\n\nexport const createRequestAction = (actionName, requestId, actionIn) => ({\n  type: ActionTypes.CREATE_REQUEST_ACTION,\n  payload: RequestHelper.createRequestAction(requestId, actionIn),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success',\n        description: `The ${actionName} was successful.`\n      },\n      rejected: {\n        variant: 'danger',\n        title: `${actionName} error`,\n        description: `The ${actionName} action failed.`\n      }\n    }\n  }\n});\n\nexport const expandRequest = (id) => ({\n  type: ActionTypes.EXPAND_REQUEST,\n  payload: id\n});\n\nexport const sortRequests = (sortBy) => ({\n  type: ActionTypes.SORT_REQUESTS,\n  payload: sortBy\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactFormRender, { componentTypes } from '@data-driven-forms/react-form-renderer';\nimport { layoutMapper, formFieldsMapper } from '@data-driven-forms/pf4-component-mapper';\nimport Pf4SelectWrapper from '../../presentational-components/shared/pf4-select-wrapper';\n\nconst buttonPositioning = {\n  default: {},\n  modal: {\n    buttonOrder: [ 'cancel', 'reset', 'save' ],\n    buttonClassName: 'modal-form-right-align'\n  }\n};\n\nconst FormRenderer = ({ componentMapper, formContainer, ...rest }) => (\n  <div className={ buttonPositioning[formContainer].buttonClassName }>\n    <ReactFormRender\n      formFieldsMapper={ {\n        ...formFieldsMapper,\n        componentMapper,\n        [componentTypes.SELECT]: Pf4SelectWrapper\n      } }\n      layoutMapper={ layoutMapper }\n      { ...buttonPositioning[formContainer] }\n      { ...rest }\n    />\n  </div>\n);\n\nFormRenderer.propTypes = {\n  componentMapper: PropTypes.object,\n  formContainer: PropTypes.oneOf([ 'default', 'modal' ])\n};\n\nFormRenderer.defaultProps = {\n  componentMapper: {},\n  formContainer: 'default'\n};\n\nexport default FormRenderer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FormRenderer from '../common/form-renderer';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Modal } from '@patternfly/react-core';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications';\nimport { createRequestAction } from '../../redux/actions/request-actions';\nimport { createRequestCommentSchema } from '../../forms/request-comment-form.schema';\nimport useQuery from '../../utilities/use-query';\nimport routes from '../../constants/routes';\n\nconst ActionModal = ({\n  actionType,\n  addNotification,\n  createRequestAction,\n  closeUrl,\n  postMethod\n}) => {\n  const { push } = useHistory();\n  const [{ request: id }] = useQuery([ 'request' ]);\n\n  const onSubmit = (data) => {\n    const operationType = { 'Add Comment': 'memo', Approve: 'approve', Deny: 'deny' };\n    const actionName = actionType === 'Add Comment' ? actionType : `${actionType} Request`;\n    return postMethod ?\n      createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => postMethod()).then(() => push(closeUrl))\n      : createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => push(closeUrl));\n  };\n\n  const onCancel = () => {\n    const actionName = actionType === 'Add Comment' ? actionType : `${actionType} Request`;\n    addNotification({\n      variant: 'warning',\n      title: actionName,\n      dismissable: true,\n      description: `${actionName} was cancelled by the user.`\n    });\n    push(closeUrl);\n  };\n\n  return (\n    <Modal\n      isLarge\n      title={ actionType === 'Add Comment' ? `Request #${id}` : `${actionType} Request #${id}` }\n      isOpen\n      onClose={ onCancel }\n    >\n      <FormRenderer\n        schema={ createRequestCommentSchema (actionType === 'Deny') }\n        schemaType=\"default\"\n        onSubmit={ onSubmit }\n        onCancel={ onCancel }\n        formContainer=\"modal\"\n      />\n    </Modal>\n  );\n};\n\nActionModal.defaultProps = {\n  closeUrl: routes.requests.index\n};\n\nActionModal.propTypes = {\n  addNotification: PropTypes.func.isRequired,\n  createRequestAction: PropTypes.func.isRequired,\n  postMethod: PropTypes.func,\n  id: PropTypes.string,\n  actionType: PropTypes.string,\n  closeUrl: PropTypes.string,\n  match: PropTypes.object,\n  location: PropTypes.object\n};\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  addNotification,\n  createRequestAction\n}, dispatch);\n\nexport default connect(null, mapDispatchToProps)(ActionModal);\n","import { useLocation } from 'react-router-dom';\n\nconst useQuery = (requiredParams = []) => {\n  const { search } = useLocation();\n  const query = new URLSearchParams(search);\n  return [\n    requiredParams.reduce(\n      (acc, curr) => ({\n        ...acc,\n        [curr]: query.get(curr)\n      }),\n      {}\n    ),\n    search,\n    query\n  ];\n};\n\nexport default useQuery;\n"],"sourceRoot":""}