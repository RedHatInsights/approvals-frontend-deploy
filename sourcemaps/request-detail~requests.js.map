{"version":3,"sources":["webpack:///./src/constants/routes.js","webpack:///./src/forms/request-comment-form.schema.js","webpack:///./src/helpers/request/request-helper.js","webpack:///./src/redux/actions/request-actions.js","webpack:///./src/smart-components/common/form-renderer.js","webpack:///./src/smart-components/request/action-modal.js","webpack:///./src/smart-components/workflow/add-groups/summary-content.js","webpack:///./src/utilities/use-query.js"],"names":["routes","requests","index","addComment","approve","deny","request","workflows","add","remove","editInfo","editGroups","editSequence","createRequestCommentSchema","isDeny","fields","component","componentTypes","TEXTAREA","name","isRequired","label","validate","type","validatorTypes","REQUIRED","actionApi","getActionApi","graphqlInstance","getGraphqlInstance","sortPropertiesMapper","property","opened","requester","status","filterQuery","filterValue","query","push","forEach","state","decision","dec","join","fetchRequests","filter","pagination","defaultSettings","persona","undefined","sortBy","paginationQuery","Math","max","limit","offset","sortQuery","direction","fetchUrl","APPROVAL_API_BASE","fetchHeaders","getAxiosInstance","method","url","headers","requestTranscriptQuery","parent_id","fetchRequestTranscript","requestId","APPROVAL_APPROVER_PERSONA","APPROVAL_REQUESTER_PERSONA","data","then","fetchRequestContent","id","fetchRequestCapabilities","isParent","fetchRequestWithSubrequests","requestData","length","number_of_children","result","map","find","item","metadata","createRequestAction","actionIn","createAction","dispatch","getState","requestReducer","finalPagination","meta","ActionTypes","payload","RequestHelper","fetchRequest","apiProps","actionName","notifications","fulfilled","variant","title","description","rejected","expandRequest","sortRequests","setFilterValueRequests","clearFilterValueRequests","CLEAR_FILTER_REQUESTS","buttonPositioning","modal","buttonOrder","buttonClassName","componentMapperExtended","componentMapper","summary","SummaryContent","FormRenderer","formContainer","rest","props","propTypes","PropTypes","oneOf","defaultProps","ActionModal","actionType","addNotification","closeUrl","postMethod","useHistory","useQuery","onSubmit","operationType","Approve","Deny","operation","onCancel","dismissable","func","string","match","object","location","mapDispatchToProps","bindActionCreators","connect","useFormApi","values","wfGroups","TextVariants","h5","p","group","idx","value","requiredParams","useLocation","search","URLSearchParams","reduce","acc","curr","get"],"mappings":"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","file":"js/request-detail~requests.js","sourcesContent":["const routes = {\n  requests: {\n    index: '/requests',\n    addComment: '/requests/add-comment',\n    approve: '/requests/approve',\n    deny: '/requests/deny'\n  },\n  request: {\n    index: '/request',\n    addComment: '/request/add-comment',\n    approve: '/request/approve',\n    deny: '/request/deny'\n  },\n  workflows: {\n    index: '/workflows',\n    add: '/workflows/add-workflow',\n    remove: '/workflows/remove',\n    editInfo: '/workflows/edit-info',\n    editGroups: '/workflows/edit-groups',\n    editSequence: '/workflows/edit-sequence'\n  }\n};\n\nexport default routes;\n","import componentTypes from '@data-driven-forms/react-form-renderer/dist/cjs/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/dist/cjs/validator-types';\n\nexport const createRequestCommentSchema = (isDeny = false) => ({\n  fields: [{\n    component: componentTypes.TEXTAREA,\n    name: 'comments',\n    isRequired: isDeny,\n    label: isDeny ? 'Reason' : 'Comment',\n    ...(isDeny && { validate: [{ type: validatorTypes.REQUIRED }]})\n  }]\n});\n","import { getActionApi, getAxiosInstance, getGraphqlInstance } from '../shared/user-login';\nimport { APPROVAL_API_BASE } from '../../utilities/constants';\nimport { defaultSettings } from '../shared/pagination';\nimport { APPROVAL_REQUESTER_PERSONA, APPROVAL_APPROVER_PERSONA } from '../shared/helpers';\n\nconst actionApi = getActionApi();\nconst graphqlInstance = getGraphqlInstance();\n\nconst sortPropertiesMapper = (property) => ({\n  opened: 'created_at',\n  requester: 'requester_name',\n  status: 'state'\n}[property] || property);\n\nconst filterQuery = (filterValue) => {\n  const query = [];\n  if (filterValue.name) {\n    query.push(`filter[name][contains_i]=${filterValue.name}`);\n  }\n\n  if (filterValue.requester) {\n    query.push(`filter[requester_name][contains_i]=${filterValue.requester}`);\n  }\n\n  if (filterValue.status) {\n    filterValue.status.forEach(state => {\n      query.push(`filter[state][eq][]=${state}`);\n    });\n  }\n\n  if (filterValue.decision) {\n    filterValue.decision.forEach(dec => {\n      query.push(`filter[decision][eq][]=${dec}`);\n    });\n  }\n\n  return query.join('&');\n};\n\nexport function fetchRequests(filter = {}, pagination = defaultSettings, persona = undefined, sortBy) {\n  const paginationQuery = `&limit=${Math.max(pagination.limit, 10)}&offset=${pagination.offset}`;\n  const sortQuery = `&sort_by=${sortPropertiesMapper(sortBy.property)}:${sortBy.direction}`;\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/?${filterQuery(filter)}${paginationQuery}${sortQuery}`;\n  const fetchHeaders = persona ? { 'x-rh-persona': persona } : undefined;\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n}\n\nconst requestTranscriptQuery = (parent_id) => `query {\n  requests(id: \"${parent_id}\") {\n    id\n    name\n    number_of_children\n    decision\n    description\n    group_name\n    number_of_finished_children\n    state\n    actions {\n      id\n      operation\n      comments\n      created_at\n      processed_by\n    }\n    requests {\n      id\n      name\n      number_of_children\n      decision\n      description\n      group_name\n      number_of_finished_children\n      state\n      workflow_id\n      parent_id\n      actions {\n        id\n        operation\n        comments\n        created_at\n        processed_by\n      }\n    }\n  }\n}`;\n\nexport const fetchRequestTranscript = (requestId, persona) => {\n  const fetchHeaders = (persona && persona !== APPROVAL_APPROVER_PERSONA) ? { 'x-rh-persona': persona }\n    : { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return graphqlInstance({ method: 'post', url: `${APPROVAL_API_BASE}/graphql`,\n    headers: fetchHeaders, data: { query: requestTranscriptQuery(requestId) }})\n  .then(({ data: { requests }}) => requests);\n};\n\nexport const fetchRequestContent = (id) => {\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/${id}/content`;\n  const fetchHeaders = { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n};\n\nexport const fetchRequestCapabilities = (id, isParent) => {\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/${id}${isParent ? '/requests' : ''}`;\n  const fetchHeaders = { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n};\n\nexport async function fetchRequestWithSubrequests(id, persona) {\n  const requestData = await fetchRequestTranscript(id, persona);\n\n  if (!requestData || requestData.length === 0) { return {}; }\n\n  if (persona === APPROVAL_APPROVER_PERSONA) {\n    if (requestData && requestData.length > 0 && requestData[0].number_of_children > 0) {\n      const result = await fetchRequestCapabilities(id, true);\n\n      if (result && result.data) {\n        requestData[0].requests = requestData[0].requests.map(request => {\n          return { ...result.data.find((item) => (item.id === request.id) && item.metadata),\n            ...request };\n        });\n      }\n    }\n    else {\n      const request = await fetchRequestCapabilities(id, false);\n      if (request) {\n        requestData[0] = { ...requestData[0], metadata: request.metadata };\n      }\n    }\n  }\n\n  return  { ...requestData[0] };\n}\n\nexport async function createRequestAction (requestId, actionIn) {\n  return await actionApi.createAction(requestId, actionIn);\n}\n","import * as ActionTypes from '../action-types';\nimport * as RequestHelper from '../../helpers/request/request-helper';\nimport { defaultSettings } from '../../helpers/shared/pagination';\n\nexport const fetchRequests = (persona, pagination) => (dispatch, getState) => {\n  const { sortBy, requests, filterValue } = getState().requestReducer;\n\n  let finalPagination = pagination || defaultSettings;\n\n  if (!pagination && requests) {\n    const { limit, offset } = requests.meta;\n    finalPagination = { limit, offset };\n  }\n\n  return dispatch({\n    type: ActionTypes.FETCH_REQUESTS,\n    payload: RequestHelper.fetchRequests(filterValue, finalPagination, persona, sortBy)\n  });\n};\n\nexport const fetchRequest = (apiProps, persona) => ({\n  type: ActionTypes.FETCH_REQUEST,\n  payload: RequestHelper.fetchRequestWithSubrequests(apiProps, persona)\n});\n\nexport const fetchRequestContent = (apiProps, persona) => ({\n  type: ActionTypes.FETCH_REQUEST_CONTENT,\n  payload: RequestHelper.fetchRequestContent(apiProps, persona)\n});\n\nexport const createRequestAction = (actionName, requestId, actionIn) => ({\n  type: ActionTypes.CREATE_REQUEST_ACTION,\n  payload: RequestHelper.createRequestAction(requestId, actionIn),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success',\n        description: `The ${actionName} was successful.`\n      },\n      rejected: {\n        variant: 'danger',\n        title: `${actionName} error`,\n        description: `The ${actionName} action failed.`\n      }\n    }\n  }\n});\n\nexport const expandRequest = (id) => ({\n  type: ActionTypes.EXPAND_REQUEST,\n  payload: id\n});\n\nexport const sortRequests = (sortBy) => ({\n  type: ActionTypes.SORT_REQUESTS,\n  payload: sortBy\n});\n\nexport const setFilterValueRequests = (filterValue, type) => ({\n  type: ActionTypes.SET_FILTER_REQUESTS,\n  payload: { filterValue, type }\n});\n\nexport const clearFilterValueRequests = () => ({\n  type: ActionTypes.CLEAR_FILTER_REQUESTS\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ReactFormRender from '@data-driven-forms/react-form-renderer/dist/cjs/form-renderer';\nimport componentMapper from '@data-driven-forms/pf4-component-mapper/dist/cjs/component-mapper';\nimport FormTemplate from '@data-driven-forms/pf4-component-mapper/dist/cjs/form-template';\n\nimport SummaryContent from '../workflow/add-groups/summary-content';\n\nconst buttonPositioning = {\n  default: {},\n  modal: {\n    buttonOrder: [ 'cancel', 'reset', 'save' ],\n    buttonClassName: 'modal-form-right-align'\n  }\n};\n\nconst componentMapperExtended = {\n  ...componentMapper,\n  summary: SummaryContent\n};\n\nconst FormRenderer = ({ formContainer, ...rest }) => (\n  <div className={ buttonPositioning[formContainer].buttonClassName }>\n    <ReactFormRender\n      componentMapper={ componentMapperExtended }\n      FormTemplate={ (props) => <FormTemplate { ...props } { ...buttonPositioning[formContainer] }/> }\n      { ...rest }\n    />\n  </div>\n);\n\nFormRenderer.propTypes = {\n  formContainer: PropTypes.oneOf([ 'default', 'modal' ])\n};\n\nFormRenderer.defaultProps = {\n  formContainer: 'default'\n};\n\nexport default FormRenderer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FormRenderer from '../common/form-renderer';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Modal } from '@patternfly/react-core';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications';\nimport { createRequestAction } from '../../redux/actions/request-actions';\nimport { createRequestCommentSchema } from '../../forms/request-comment-form.schema';\nimport useQuery from '../../utilities/use-query';\nimport routes from '../../constants/routes';\n\nconst ActionModal = ({\n  actionType,\n  addNotification,\n  createRequestAction,\n  closeUrl,\n  postMethod\n}) => {\n  const { push } = useHistory();\n  const [{ request: id }] = useQuery([ 'request' ]);\n\n  const onSubmit = (data) => {\n    const operationType = { 'Add Comment': 'memo', Approve: 'approve', Deny: 'deny' };\n    const actionName = actionType === 'Add Comment' ? actionType : `${actionType} Request`;\n    return postMethod ?\n      createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => postMethod()).then(() => push(closeUrl))\n      : createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => push(closeUrl));\n  };\n\n  const onCancel = () => {\n    const actionName = actionType === 'Add Comment' ? actionType : `${actionType} Request`;\n    addNotification({\n      variant: 'warning',\n      title: actionName,\n      dismissable: true,\n      description: `${actionName} was cancelled by the user.`\n    });\n    push(closeUrl);\n  };\n\n  return (\n    <Modal\n      isLarge\n      title={ actionType === 'Add Comment' ? `Request #${id}` : `${actionType} Request #${id}` }\n      isOpen\n      onClose={ onCancel }\n    >\n      <FormRenderer\n        schema={ createRequestCommentSchema(actionType === 'Deny') }\n        onSubmit={ onSubmit }\n        onCancel={ onCancel }\n        formContainer=\"modal\"\n      />\n    </Modal>\n  );\n};\n\nActionModal.defaultProps = {\n  closeUrl: routes.requests.index\n};\n\nActionModal.propTypes = {\n  addNotification: PropTypes.func.isRequired,\n  createRequestAction: PropTypes.func.isRequired,\n  postMethod: PropTypes.func,\n  id: PropTypes.string,\n  actionType: PropTypes.string,\n  closeUrl: PropTypes.string,\n  match: PropTypes.object,\n  location: PropTypes.object\n};\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  addNotification,\n  createRequestAction\n}, dispatch);\n\nexport default connect(null, mapDispatchToProps)(ActionModal);\n","import React, { Fragment } from 'react';\nimport {\n  Grid,\n  GridItem,\n  Stack,\n  StackItem,\n  Text,\n  TextContent,\n  TextVariants,\n  Title\n} from '@patternfly/react-core';\n\nimport useFormApi from '@data-driven-forms/react-form-renderer/dist/cjs/use-form-api';\n\nconst SummaryContent = () => {\n  const { getState } = useFormApi();\n  const { name, description, wfGroups } = getState().values;\n\n  return (\n    <Fragment>\n      <Stack gutter=\"md\">\n        <StackItem>\n          <Title size=\"xl\"> Review </Title>\n        </StackItem>\n        <StackItem>\n          <Stack gutter=\"md\">\n            <StackItem>\n              <TextContent>\n                <Text className=\"data-table-detail heading\" component={ TextVariants.h5 }>\n                    Review and confirm your inputs. If there is anything incorrect, click Back and revise.</Text>\n              </TextContent>\n            </StackItem>\n            <StackItem>\n              <Grid gutter=\"md\">\n                <GridItem span={ 2 }>\n                  <Text className=\"data-table-detail heading\" component={ TextVariants.h5 }>Name</Text>\n                </GridItem>\n                <GridItem span={ 10 }>\n                  <Text className=\"data-table-detail content\" component={ TextVariants.p }>{ name }</Text>\n                </GridItem>\n              </Grid>\n              <Grid gutter=\"md\">\n                <GridItem span={ 2 }>\n                  <Text className=\"data-table-detail heading\" component={ TextVariants.h5 }>Description</Text>\n                </GridItem>\n                <GridItem span={ 10 }>\n                  <Text className=\"data-table-detail content\" component={ TextVariants.p }>{ description }</Text>\n                </GridItem>\n              </Grid>\n              { wfGroups && wfGroups.length > 0 && wfGroups.map((group, idx) => (\n                <Fragment key={ group.value }>\n                  <Grid gutter=\"md\">\n                    <GridItem span={ 2 }>\n                      <Text className=\"data-table-detail heading\" component={ TextVariants.h5 }>\n                        { idx === 0 ? 'Groups' : '' }\n                      </Text>\n                    </GridItem>\n                    <GridItem span={ 10 }>\n                      <Text className=\"data-table-detail content\" component={ TextVariants.p }>\n                        { group.label }\n                      </Text>\n                    </GridItem>\n                  </Grid>\n                </Fragment>)\n              ) }\n            </StackItem>\n          </Stack>\n        </StackItem>\n      </Stack>\n    </Fragment>\n  );\n};\n\nexport default SummaryContent;\n","import { useLocation } from 'react-router-dom';\n\nconst useQuery = (requiredParams = []) => {\n  const { search } = useLocation();\n  const query = new URLSearchParams(search);\n  return [\n    requiredParams.reduce(\n      (acc, curr) => ({\n        ...acc,\n        [curr]: query.get(curr)\n      }),\n      {}\n    ),\n    search,\n    query\n  ];\n};\n\nexport default useQuery;\n"],"sourceRoot":""}