{"version":3,"sources":["webpack:///./src/smart-components/request/request-detail/request-info-bar.js","webpack:///./src/smart-components/request/request-detail/action-transcript.js","webpack:///./src/smart-components/request/request-detail/request.js","webpack:///./src/smart-components/request/request-detail/request-list.js","webpack:///./src/smart-components/request/request-detail/request-transcript.js","webpack:///./src/smart-components/request/request-detail/request-detail.js","webpack:///./src/constants/routes.js","webpack:///./src/utilities/use-query.js","webpack:///./src/smart-components/workflow/add-groups/summary-content.js","webpack:///./src/smart-components/common/form-renderer.js","webpack:///./src/redux/actions/request-actions.js","webpack:///./src/helpers/request/request-helper.js","webpack:///./src/forms/request-comment-form.schema.js","webpack:///./src/smart-components/request/action-modal.js"],"names":["RequestInfoBar","request","requestContent","Stack","gutter","StackItem","key","Card","CardBody","Title","headingLevel","size","TextContent","Text","className","id","component","TextVariants","p","product","portfolio","platform","requester_name","order_id","CardHeader","params","Object","keys","map","param","propTypes","PropTypes","shape","string","isRequired","object","operationInfo","memo","displayName","icon","approve","deny","notify","skip","start","cancel","error","ActionTranscript","actionList","actions","actionItem","style","marginBottom","small","timeAgo","created_at","operation","operationDisplayName","processed_by","comments","h6","centered","aria-label","Request","item","isExpanded","toggleExpand","useState","isKebabOpen","setIsKebabOpen","userPersona","useContext","UserContext","onKebabToggle","isOpen","onKebabSelect","checkCapability","capability","isApprovalAdmin","metadata","user_capabilities","DataListItem","aria-labelledby","DataListItemRow","DataListToggle","onClick","DataListItemCells","dataListCells","DataListCell","group_name","name","textTransform","state","Level","LevelItem","isRequestStateActive","to","pathname","routes","search","Button","variant","Dropdown","position","DropdownPosition","right","onSelect","toggle","KebabToggle","onToggle","dropdownItems","DropdownItem","addComment","isPlain","DataListContent","isHidden","renderActionList","isLoading","bool","requestActions","data","array","idx","number","func","noItems","RequestList","expanded","setState","index","indexOf","slice","length","includes","this","props","PageHeader","title","items","DataList","isActive","Component","active_request","defaultProps","RequestTranscript","paddingLeft","requests","content","initialState","isFetching","requestState","action","type","payload","RequestDetail","useReducer","stateDispatch","useSelector","requestReducer","selectedRequest","useQuery","location","useLocation","dispatch","useDispatch","useEffect","Promise","all","fetchRequest","fetchRequestContent","then","exact","path","actionType","closeUrl","render","breadcrumbs","paddingBottom","Section","Grid","backgroundColor","minHeight","GridItem","md","lg","url","workflows","add","remove","editInfo","editGroups","editSequence","requiredParams","query","URLSearchParams","reduce","acc","curr","get","SummaryContent","getState","useFormApi","values","description","wfGroups","h5","span","group","value","label","buttonPositioning","default","modal","buttonOrder","buttonClassName","componentMapperExtended","componentMapper","summary","FormRenderer","formContainer","rest","FormTemplate","oneOf","fetchRequests","persona","pagination","sortBy","filterValue","finalPagination","defaultSettings","meta","limit","offset","ActionTypes","RequestHelper","apiProps","createRequestAction","actionName","requestId","actionIn","notifications","fulfilled","rejected","expandRequest","sortRequests","setFilterValueRequests","clearFilterValueRequests","actionApi","getActionApi","graphqlInstance","getGraphqlInstance","sortPropertiesMapper","property","opened","requester","status","filterQuery","push","forEach","decision","dec","join","filter","undefined","paginationQuery","Math","max","sortQuery","direction","fetchUrl","APPROVAL_API_BASE","fetchHeaders","getAxiosInstance","method","headers","fetchRequestTranscript","parent_id","APPROVAL_APPROVER_PERSONA","APPROVAL_REQUESTER_PERSONA","fetchRequestCapabilities","isParent","fetchRequestWithSubrequests","a","requestData","number_of_children","result","find","createAction","createRequestCommentSchema","isDeny","fields","componentTypes","TEXTAREA","validate","validatorTypes","REQUIRED","ActionModal","addNotification","postMethod","useHistory","onCancel","dismissable","Modal","isLarge","onClose","schema","onSubmit","operationType","Approve","Deny","match","connect","bindActionCreators"],"mappings":"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","file":"js/request-detail.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Card, CardBody, CardHeader,\n  Stack,\n  StackItem,\n  Text,\n  TextContent,\n  TextVariants,\n  Title\n} from '@patternfly/react-core';\n\nconst RequestInfoBar = ({ request, requestContent }) => (\n  <Stack gutter=\"md\">\n    <StackItem key={ 'request-detail-panel' }>\n      <Card>\n        <CardBody>\n          <Stack gutter=\"md\">\n            <StackItem key={ 'request-summary' }>\n              <Title headingLevel=\"h5\" size=\"lg\">\n                    Summary\n              </Title>\n            </StackItem>\n            <StackItem key={ 'request-product' }>\n              <TextContent>\n                <Text className={ 'font-14' }>\n                      Product\n                </Text>\n                <Text id='portfolio-item-name' component={ TextVariants.p }>\n                  { requestContent ? requestContent.product : '' }\n                </Text>\n              </TextContent>\n            </StackItem>\n            <StackItem key={ 'request-portfolio' }>\n              <TextContent>\n                <Text className={ 'font-14' }>\n                      Portfolio\n                </Text>\n                <Text id='portfolio-name' component={ TextVariants.p }>\n                  { requestContent ? requestContent.portfolio : '' }\n                </Text>\n              </TextContent>\n            </StackItem>\n            <StackItem key={ 'request-platform' }>\n              <TextContent>\n                <Text className={ 'font-14' }>\n                      Platform\n                </Text>\n                <Text id='source-name' component={ TextVariants.p }>\n                  { requestContent ? requestContent.platform : ' ' }\n                </Text>\n              </TextContent>\n            </StackItem>\n            <StackItem key={ 'request-requester' }>\n              <TextContent>\n                <Text className={ 'font-14' }>Requester </Text>\n                <Text id='requester_name' component={ TextVariants.p }>\n                  { request.requester_name }\n                </Text>\n              </TextContent>\n            </StackItem>\n            <StackItem key={ 'request-order' }>\n              <TextContent>\n                <Text className={ 'font-14' }>Order# </Text>\n                <Text id='requester_name' component={ TextVariants.p }>\n                  { requestContent ? requestContent.order_id : '' }\n                </Text>\n              </TextContent>\n            </StackItem>\n          </Stack>\n        </CardBody>\n      </Card>\n    </StackItem>\n    <StackItem key={ 'request-parameters' }>\n      <Card>\n        <CardHeader>\n          <Title headingLevel=\"h5\" size=\"lg\">Parameters</Title>\n        </CardHeader>\n        <CardBody>\n          <Stack gutter=\"md\">\n            { requestContent.params && Object.keys(requestContent.params).map(param => {\n              return ((requestContent.params[param]) &&\n                      <StackItem key={ `request-${requestContent.params[param]}` }>\n                        <TextContent>\n                          <Text key={ param } className={ 'font-14' }>\n                            { `${param}` }\n                          </Text>\n                          <Text id={ param } component={ TextVariants.p }>\n                            { `${requestContent.params[param]}` }\n                          </Text>\n                        </TextContent>\n                      </StackItem>\n              );\n            })\n            }\n          </Stack>\n        </CardBody>\n      </Card>\n    </StackItem>\n  </Stack>\n);\n\nRequestInfoBar.propTypes = {\n  request: PropTypes.shape({\n    requester_name: PropTypes.string,\n    order_id: PropTypes.string\n  }).isRequired,\n  requestContent: PropTypes.object\n};\nexport default RequestInfoBar;\n\n","import React from 'react';\nimport { timeAgo }  from '../../../helpers/shared/helpers';\nimport {\n  Stack,\n  TextContent,\n  Text,\n  TextVariants\n} from '@patternfly/react-core';\nimport { CheckCircleIcon,\n  CommentIcon,\n  EnvelopeIcon,\n  OutlinedTimesCircleIcon,\n  AngleDoubleRightIcon,\n  OnRunningIcon,\n  ErrorCircleOIcon,\n  ExclamationCircleIcon } from '@patternfly/react-icons';\nimport { EmptyTable } from '@redhat-cloud-services/frontend-components';\n\nconst operationInfo = {\n  memo: { displayName: 'Comment from', icon: <CommentIcon/> },\n  approve: { displayName: 'Approved by', icon: <CheckCircleIcon className=\"pf-u-mr-sm icon-success-fill\"/> },\n  deny: { displayName: 'Denied by', icon: <OutlinedTimesCircleIcon className=\"pf-u-mr-sm icon-danger-fill\"/> },\n  notify: { displayName: 'Notified by', icon: <EnvelopeIcon/> },\n  skip: { displayName: 'Skipped by', icon: <AngleDoubleRightIcon/> },\n  start: { displayName: 'Started by', icon: <OnRunningIcon/> },\n  cancel: { displayName: 'Canceled by', icon: <ErrorCircleOIcon className=\"pf-u-mr-sm icon-danger-fill\"/> },\n  error: { displayName: 'Error', icon: <ExclamationCircleIcon className=\"pf-u-mr-sm icon-danger-fill\"/> }\n};\n\nconst operationIcon = (operation) => operationInfo[operation] ? operationInfo[operation].icon : '';\nconst operationDisplayName = (operation) => operationInfo[operation] ? operationInfo[operation].displayName : '';\n\nexport const ActionTranscript = actionList => {\n  const actions = actionList.actionList;\n  return actions ? (\n    <Stack>\n      { actions.map(actionItem =>\n        <div key={ `${actionItem.id}-action` }>\n          <TextContent><Text key={ `${actionItem.id}-action-created_at` } style={ { marginBottom: 0 } }\n            className=\"data-table-detail content\" component={ TextVariants.small }>\n            { timeAgo(actionItem.created_at) }\n          </Text>\n          <Text key={ `${actionItem.id}-action-operation` }  style={ { marginBottom: 0 } }\n            className=\"data-table-detail content\">\n            { operationIcon(actionItem.operation) } { `${operationDisplayName(actionItem.operation)}  ${actionItem.processed_by}` }\n          </Text>\n          { actionItem.comments && <Text key={ `${actionItem.id}-action-comments` } style={ { marginBottom: 0 } }\n            className=\"data-table-detail content\" component={ TextVariants.h6 }>\n            { `${actionItem.comments}` }\n          </Text> } </TextContent>\n          <br/>\n        </div>)\n      }\n    </Stack>\n  ) : <EmptyTable centered\n    aria-label=\"No records\"/>;\n};\n","import React, { useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { isApprovalAdmin, isRequestStateActive } from '../../../helpers/shared/helpers';\nimport { ActionTranscript } from './action-transcript';\n\nimport {\n  Stack,\n  StackItem,\n  Button,\n  DataListItem,\n  DataListItemRow,\n  DataListCell,\n  DataListToggle,\n  DataListItemCells,\n  DataListContent,\n  DropdownItem,\n  Dropdown,\n  DropdownPosition,\n  KebabToggle,\n  TextVariants,\n  TextContent,\n  Level,\n  LevelItem\n} from '@patternfly/react-core';\nimport UserContext from '../../../user-context';\nimport routes from '../../../constants/routes';\n\nexport const Request = ({ item, isExpanded, toggleExpand }) => {\n  const [ isKebabOpen, setIsKebabOpen ] = useState(false);\n  const { userPersona: userPersona } = useContext(UserContext);\n\n  const onKebabToggle = isOpen => {\n    setIsKebabOpen(isOpen);\n  };\n\n  const onKebabSelect = () => {\n    setIsKebabOpen(isKebabOpen => !isKebabOpen);\n  };\n\n  const checkCapability = (item, capability) => {\n    if (isApprovalAdmin(userPersona)) {\n      return true;\n    }\n\n    return item.metadata && item.metadata.user_capabilities && item.metadata.user_capabilities[capability];\n  };\n\n  const buildRequestActionKebab = (request) => {\n    return (\n      <Dropdown\n        position={ DropdownPosition.right }\n        onSelect={ onKebabSelect }\n        toggle={ <KebabToggle id={ `request-request-dropdown-${request.id}` } onToggle={ onKebabToggle }/> }\n        isOpen={ isKebabOpen }\n        dropdownItems={ [\n          <DropdownItem aria-label=\"Add Comment\" key={ `add_comment_${request.id}` }>\n            <Link\n              id={ `request-${request.id}-request-comment` }\n              to={ {\n                pathname: routes.request.addComment,\n                search: `?request=${request.id}`\n              } }\n              className=\"pf-c-dropdown__menu-item\"\n            >\n              Comment\n            </Link>\n          </DropdownItem>\n        ] }\n        isPlain\n      />\n    );\n  };\n\n  const renderActionList = (request) => {\n    return <ActionTranscript actionList={ request.actions }/>;\n  };\n\n  return (\n    <DataListItem key={ `request-${item.id}` }\n      aria-labelledby={ `check-request-${item.id}` }\n      isExpanded={ isExpanded }>\n      <DataListItemRow>\n        <DataListToggle\n          onClick={ () => toggleExpand(`request-${item.id}`) }\n          isExpanded={ isExpanded }\n          id={ `request-${item.id}` }\n          aria-labelledby={ `request-${item.id} request-${item.id}` }\n          aria-label=\"Toggle details for\"\n        />\n        <DataListItemCells\n          dataListCells={ [\n            <DataListCell key={ item.id }>\n              <span id={ `${item.id}-name` }>{ `${item.group_name ? item.group_name : item.name}` } </span>\n            </DataListCell>,\n            <DataListCell key={ `${item.id}-state` }>\n              <span style={ { textTransform: 'capitalize' } } id={ `${item.id}-state` }>{ `${item.state}` } </span>\n            </DataListCell>,\n            <DataListCell key={ `${item.id}-action` }>\n              <Level>\n                <LevelItem>\n                  { (isRequestStateActive(item.state) && checkCapability(item, 'approve')) &&\n                    <div>\n                      <Link id={ `approve-${item.id}` } to={ { pathname: routes.request.approve, search: `?request=${item.id}` } }>\n                        <Button variant=\"link\" aria-label=\"Approve Request\">\n                          Approve\n                        </Button>\n                      </Link>\n                      <Link id={ `deny-${item.id}` } to={ { pathname: routes.request.deny, search: `?request=${item.id}` } }>\n                        <Button variant=\"link\" className=\"destructive-color\" aria-label=\"Deny Request\">\n                          Deny\n                        </Button>\n                      </Link>\n                    </div> }\n                </LevelItem>\n              </Level>\n            </DataListCell>,\n            <DataListCell\n              key={ `request-${item.id}` }\n              className=\"pf-c-data-list__action\"\n              aria-labelledby={ `request-${item.id} check-request-action${item.id}` }\n              id={ `workflow-${item.id}` }\n              aria-label=\"Actions\">\n              { isRequestStateActive(item.state) && checkCapability(item, 'memo') && buildRequestActionKebab(item) }\n            </DataListCell>\n          ] }/>\n      </DataListItemRow>\n      <DataListContent aria-label=\"Request Content Details\"\n        isHidden={ !isExpanded }>\n        <Stack gutter=\"md\">\n          <StackItem>\n            <TextContent component={ TextVariants.h6 }>\n              { renderActionList(item) }\n            </TextContent>\n          </StackItem>\n        </Stack>\n      </DataListContent>\n    </DataListItem>\n  );\n};\n\nRequest.propTypes = {\n  isLoading: PropTypes.bool,\n  item: PropTypes.shape({\n    id: PropTypes.string,\n    name: PropTypes.string,\n    state: PropTypes.string,\n    group_name: PropTypes.string.isRequired,\n    requestActions: PropTypes.shape({\n      data: PropTypes.array\n    }),\n    metadata: PropTypes.shape({\n      user_capabilities: PropTypes.array\n    })\n  }).isRequired,\n  idx: PropTypes.number,\n  isExpanded: PropTypes.bool.isRequired,\n  toggleExpand: PropTypes.func.isRequired,\n  noItems: PropTypes.string\n};\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components/components/PageHeader';\nimport { DataList } from '@patternfly/react-core';\nimport { Request }  from './request';\nimport { DataListLoader } from '../../../presentational-components/shared/loader-placeholders';\n\nclass RequestList extends Component {\n  state = {\n    expanded: []\n  };\n\n  toggleExpand = id => this.setState(({ expanded }) => {\n    const index = expanded.indexOf(id);\n    const newExpanded =\n      index >= 0 ? [ ...expanded.slice(0, index), ...expanded.slice(index + 1, expanded.length) ] : [ ...expanded, id ];\n    return ({ expanded: newExpanded });\n  });\n\n  isExpanded = key => {\n    return this.state.expanded.includes(key);\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <div>\n          { this.props.isLoading && (\n            <Fragment>\n              <PageHeader>\n                <PageHeaderTitle title={ this.props.noItems }/>\n              </PageHeader>\n              <DataListLoader/>\n            </Fragment>\n          ) }\n        </div>\n        { this.props.items.length > 0 && (\n          <DataList aria-label=\"Expandable data list\">\n            { this.props.items.map((item, idx) => (\n              <Request\n                key={ item.id }\n                item={ item }\n                idx={ idx }\n                isActive={ idx === 0 }\n                isExpanded={ this.isExpanded(`request-${item.id}`) }\n                toggleExpand={ this.toggleExpand }\n              />)) }\n          </DataList>)\n        }\n      </Fragment>\n    );\n  };\n}\n\nRequestList.propTypes = {\n  isLoading: PropTypes.bool,\n  items: PropTypes.array,\n  noItems: PropTypes.string,\n  active_request: PropTypes.number\n};\n\nRequestList.defaultProps = {\n  items: []\n};\n\nexport default RequestList;\n\n","import React, { Fragment }  from 'react';\nimport PropTypes from 'prop-types';\nimport { Title } from '@patternfly/react-core';\nimport RequestList from './request-list';\n\nconst RequestTranscript = ({ request }) => {\n  return (<Fragment>\n    <Title size=\"sm\" style={ { paddingLeft: '32px' } }> Request transcript </Title>\n    <RequestList items={ request.requests && request.requests.length > 0 ? request.requests : [ request ] }/>\n  </Fragment>);\n};\n\nRequestTranscript.propTypes = {\n  request: PropTypes.shape({\n    content: PropTypes.object,\n    requests: PropTypes.array\n  }).isRequired\n};\n\nexport default RequestTranscript;\n","import React, { Fragment, useContext, useEffect, useReducer } from 'react';\nimport { Route, useLocation, Switch } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Grid, GridItem } from '@patternfly/react-core';\nimport { Section } from '@redhat-cloud-services/frontend-components/components/Section';\nimport ActionModal from '../action-modal';\nimport RequestInfoBar from './request-info-bar';\nimport RequestTranscript from './request-transcript';\nimport { fetchRequest, fetchRequestContent } from '../../../redux/actions/request-actions';\nimport { RequestLoader } from '../../../presentational-components/shared/loader-placeholders';\nimport { TopToolbar, TopToolbarTitle } from '../../../presentational-components/shared/top-toolbar';\nimport UserContext from '../../../user-context';\nimport useQuery from '../../../utilities/use-query';\nimport routes from '../../../constants/routes';\n\nconst initialState = {\n  isFetching: true\n};\nconst requestState = (state, action) => {\n  switch (action.type) {\n    case 'setFetching':\n      return { ...state, isFetching: action.payload };\n    default:\n      return state;\n  }\n};\n\nconst RequestDetail = () => {\n  const [{ isFetching }, stateDispatch ] = useReducer(requestState, initialState);\n\n  const { selectedRequest, requestContent } = useSelector(\n    ({\n      requestReducer: {\n        requestContent: requestContent,\n        selectedRequest: selectedRequest\n      }\n    }) => ({ selectedRequest, requestContent })\n  );\n\n  const [{ request: id }, search ] = useQuery([ 'request' ]);\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const { userPersona: userPersona } = useContext(UserContext);\n\n  useEffect(() => {\n    Promise.all([ dispatch(fetchRequest(id, userPersona)), dispatch(fetchRequestContent(id, userPersona)) ])\n    .then(() => stateDispatch({ type: 'setFetching', payload: false }));\n  }, []);\n\n  const renderRequestDetails = () => {\n    if (isFetching || !selectedRequest || Object.keys(selectedRequest).length === 0) {\n      return (\n        <Section style={ { backgroundColor: 'white', minHeight: '100%' } }>\n          <RequestLoader />\n        </Section>\n      );\n    }\n    else {\n      return (\n        <Fragment>\n          <GridItem md={ 4 } lg={ 3 } className=\"info-bar\">\n            <RequestInfoBar request={ selectedRequest } requestContent={ requestContent }/>\n          </GridItem>\n          <GridItem md={ 8 } lg={ 9 } className=\"detail-pane\">\n            <RequestTranscript request={ selectedRequest } url={ location.url }/>\n          </GridItem>\n        </Fragment>\n      );\n    }\n  };\n\n  return (\n    <Fragment>\n      <Switch>\n        <Route exact path={ routes.request.addComment }>\n          <ActionModal actionType={ 'Add Comment' } closeUrl={ { pathname: routes.request.index, search } }/>\n        </Route>\n        <Route exact path={ routes.request.approve } render={ props =>\n          <ActionModal { ...props } actionType={ 'Approve' } closeUrl={ { pathname: routes.request.index, search } } /> } />\n        <Route exact path={ routes.request.deny } render={ props =>\n          <ActionModal { ...props } actionType={ 'Deny' } closeUrl={ { pathname: routes.request.index, search } }  /> } />\n      </Switch>\n      <TopToolbar\n        breadcrumbs={ [\n          { title: 'Request queue', to: routes.requests.index, id: 'requests' },\n          { title: `Request ${id}`, id }\n        ] }\n        paddingBottom={ true }\n      >\n        <TopToolbarTitle title={ `Request ${id}` } />\n      </TopToolbar>\n      <Section type=\"content\">\n        <Grid gutter=\"md\">\n          { renderRequestDetails() }\n        </Grid>\n      </Section>\n    </Fragment>\n  );\n};\n\nexport default RequestDetail;\n","const routes = {\n  requests: {\n    index: '/requests',\n    addComment: '/requests/add-comment',\n    approve: '/requests/approve',\n    deny: '/requests/deny'\n  },\n  request: {\n    index: '/request',\n    addComment: '/request/add-comment',\n    approve: '/request/approve',\n    deny: '/request/deny'\n  },\n  workflows: {\n    index: '/workflows',\n    add: '/workflows/add-workflow',\n    remove: '/workflows/remove',\n    editInfo: '/workflows/edit-info',\n    editGroups: '/workflows/edit-groups',\n    editSequence: '/workflows/edit-sequence'\n  }\n};\n\nexport default routes;\n","import { useLocation } from 'react-router-dom';\n\nconst useQuery = (requiredParams = []) => {\n  const { search } = useLocation();\n  const query = new URLSearchParams(search);\n  return [\n    requiredParams.reduce(\n      (acc, curr) => ({\n        ...acc,\n        [curr]: query.get(curr)\n      }),\n      {}\n    ),\n    search,\n    query\n  ];\n};\n\nexport default useQuery;\n","import React, { Fragment } from 'react';\nimport {\n  Grid,\n  GridItem,\n  Stack,\n  StackItem,\n  Text,\n  TextContent,\n  TextVariants,\n  Title\n} from '@patternfly/react-core';\n\nimport useFormApi from '@data-driven-forms/react-form-renderer/dist/cjs/use-form-api';\n\nconst SummaryContent = () => {\n  const { getState } = useFormApi();\n  const { name, description, wfGroups } = getState().values;\n\n  return (\n    <Fragment>\n      <Stack gutter=\"md\">\n        <StackItem>\n          <Title size=\"xl\"> Review </Title>\n        </StackItem>\n        <StackItem>\n          <Stack gutter=\"md\">\n            <StackItem>\n              <TextContent>\n                <Text className=\"data-table-detail heading\" component={ TextVariants.h5 }>\n                    Review and confirm your inputs. If there is anything incorrect, click Back and revise.</Text>\n              </TextContent>\n            </StackItem>\n            <StackItem>\n              <Grid gutter=\"md\">\n                <GridItem span={ 2 }>\n                  <Text className=\"data-table-detail heading\" component={ TextVariants.h5 }>Name</Text>\n                </GridItem>\n                <GridItem span={ 10 }>\n                  <Text className=\"data-table-detail content\" component={ TextVariants.p }>{ name }</Text>\n                </GridItem>\n              </Grid>\n              <Grid gutter=\"md\">\n                <GridItem span={ 2 }>\n                  <Text className=\"data-table-detail heading\" component={ TextVariants.h5 }>Description</Text>\n                </GridItem>\n                <GridItem span={ 10 }>\n                  <Text className=\"data-table-detail content\" component={ TextVariants.p }>{ description }</Text>\n                </GridItem>\n              </Grid>\n              { wfGroups && wfGroups.length > 0 && wfGroups.map((group, idx) => (\n                <Fragment key={ group.value }>\n                  <Grid gutter=\"md\">\n                    <GridItem span={ 2 }>\n                      <Text className=\"data-table-detail heading\" component={ TextVariants.h5 }>\n                        { idx === 0 ? 'Groups' : '' }\n                      </Text>\n                    </GridItem>\n                    <GridItem span={ 10 }>\n                      <Text className=\"data-table-detail content\" component={ TextVariants.p }>\n                        { group.label }\n                      </Text>\n                    </GridItem>\n                  </Grid>\n                </Fragment>)\n              ) }\n            </StackItem>\n          </Stack>\n        </StackItem>\n      </Stack>\n    </Fragment>\n  );\n};\n\nexport default SummaryContent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ReactFormRender from '@data-driven-forms/react-form-renderer/dist/cjs/form-renderer';\nimport componentMapper from '@data-driven-forms/pf4-component-mapper/dist/cjs/component-mapper';\nimport FormTemplate from '@data-driven-forms/pf4-component-mapper/dist/cjs/form-template';\n\nimport SummaryContent from '../workflow/add-groups/summary-content';\n\nconst buttonPositioning = {\n  default: {},\n  modal: {\n    buttonOrder: [ 'cancel', 'reset', 'save' ],\n    buttonClassName: 'modal-form-right-align'\n  }\n};\n\nconst componentMapperExtended = {\n  ...componentMapper,\n  summary: SummaryContent\n};\n\nconst FormRenderer = ({ formContainer, ...rest }) => (\n  <div className={ buttonPositioning[formContainer].buttonClassName }>\n    <ReactFormRender\n      componentMapper={ componentMapperExtended }\n      FormTemplate={ (props) => <FormTemplate { ...props } { ...buttonPositioning[formContainer] }/> }\n      { ...rest }\n    />\n  </div>\n);\n\nFormRenderer.propTypes = {\n  formContainer: PropTypes.oneOf([ 'default', 'modal' ])\n};\n\nFormRenderer.defaultProps = {\n  formContainer: 'default'\n};\n\nexport default FormRenderer;\n","import * as ActionTypes from '../action-types';\nimport * as RequestHelper from '../../helpers/request/request-helper';\nimport { defaultSettings } from '../../helpers/shared/pagination';\n\nexport const fetchRequests = (persona, pagination) => (dispatch, getState) => {\n  const { sortBy, requests, filterValue } = getState().requestReducer;\n\n  let finalPagination = pagination || defaultSettings;\n\n  if (!pagination && requests) {\n    const { limit, offset } = requests.meta;\n    finalPagination = { limit, offset };\n  }\n\n  return dispatch({\n    type: ActionTypes.FETCH_REQUESTS,\n    payload: RequestHelper.fetchRequests(filterValue, finalPagination, persona, sortBy)\n  });\n};\n\nexport const fetchRequest = (apiProps, persona) => ({\n  type: ActionTypes.FETCH_REQUEST,\n  payload: RequestHelper.fetchRequestWithSubrequests(apiProps, persona)\n});\n\nexport const fetchRequestContent = (apiProps, persona) => ({\n  type: ActionTypes.FETCH_REQUEST_CONTENT,\n  payload: RequestHelper.fetchRequestContent(apiProps, persona)\n});\n\nexport const createRequestAction = (actionName, requestId, actionIn) => ({\n  type: ActionTypes.CREATE_REQUEST_ACTION,\n  payload: RequestHelper.createRequestAction(requestId, actionIn),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success',\n        description: `The ${actionName} was successful.`\n      },\n      rejected: {\n        variant: 'danger',\n        title: `${actionName} error`,\n        description: `The ${actionName} action failed.`\n      }\n    }\n  }\n});\n\nexport const expandRequest = (id) => ({\n  type: ActionTypes.EXPAND_REQUEST,\n  payload: id\n});\n\nexport const sortRequests = (sortBy) => ({\n  type: ActionTypes.SORT_REQUESTS,\n  payload: sortBy\n});\n\nexport const setFilterValueRequests = (filterValue, type) => ({\n  type: ActionTypes.SET_FILTER_REQUESTS,\n  payload: { filterValue, type }\n});\n\nexport const clearFilterValueRequests = () => ({\n  type: ActionTypes.CLEAR_FILTER_REQUESTS\n});\n","import { getActionApi, getAxiosInstance, getGraphqlInstance } from '../shared/user-login';\nimport { APPROVAL_API_BASE } from '../../utilities/constants';\nimport { defaultSettings } from '../shared/pagination';\nimport { APPROVAL_REQUESTER_PERSONA, APPROVAL_APPROVER_PERSONA } from '../shared/helpers';\n\nconst actionApi = getActionApi();\nconst graphqlInstance = getGraphqlInstance();\n\nconst sortPropertiesMapper = (property) => ({\n  'request-id': 'id',\n  opened: 'created_at',\n  requester: 'requester_name',\n  status: 'state'\n}[property] || property\n);\n\nconst filterQuery = (filterValue) => {\n  const query = [];\n  if (filterValue.name) {\n    query.push(`filter[name][contains_i]=${filterValue.name}`);\n  }\n\n  if (filterValue.requester) {\n    query.push(`filter[requester_name][contains_i]=${filterValue.requester}`);\n  }\n\n  if (filterValue.status) {\n    filterValue.status.forEach(state => {\n      query.push(`filter[state][eq][]=${state}`);\n    });\n  }\n\n  if (filterValue.decision) {\n    filterValue.decision.forEach(dec => {\n      query.push(`filter[decision][eq][]=${dec}`);\n    });\n  }\n\n  return query.join('&');\n};\n\nexport function fetchRequests(filter = {}, pagination = defaultSettings, persona = undefined, sortBy) {\n  const paginationQuery = `&limit=${Math.max(pagination.limit, 10)}&offset=${pagination.offset}`;\n  const sortQuery = `&sort_by=${sortPropertiesMapper(sortBy.property)}:${sortBy.direction}`;\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/?${filterQuery(filter)}${paginationQuery}${sortQuery}`;\n  const fetchHeaders = persona ? { 'x-rh-persona': persona } : undefined;\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n}\n\nconst requestTranscriptQuery = (parent_id) => `query {\n  requests(id: \"${parent_id}\") {\n    id\n    name\n    number_of_children\n    decision\n    description\n    group_name\n    number_of_finished_children\n    state\n    actions {\n      id\n      operation\n      comments\n      created_at\n      processed_by\n    }\n    requests {\n      id\n      name\n      number_of_children\n      decision\n      description\n      group_name\n      number_of_finished_children\n      state\n      workflow_id\n      parent_id\n      actions {\n        id\n        operation\n        comments\n        created_at\n        processed_by\n      }\n    }\n  }\n}`;\n\nexport const fetchRequestTranscript = (requestId, persona) => {\n  const fetchHeaders = (persona && persona !== APPROVAL_APPROVER_PERSONA) ? { 'x-rh-persona': persona }\n    : { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return graphqlInstance({ method: 'post', url: `${APPROVAL_API_BASE}/graphql`,\n    headers: fetchHeaders, data: { query: requestTranscriptQuery(requestId) }})\n  .then(({ data: { requests }}) => requests);\n};\n\nexport const fetchRequestContent = (id) => {\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/${id}/content`;\n  const fetchHeaders = { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n};\n\nexport const fetchRequestCapabilities = (id, isParent) => {\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/${id}${isParent ? '/requests' : ''}`;\n  const fetchHeaders = { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n};\n\nexport async function fetchRequestWithSubrequests(id, persona) {\n  const requestData = await fetchRequestTranscript(id, persona);\n\n  if (!requestData || requestData.length === 0) { return {}; }\n\n  if (persona === APPROVAL_APPROVER_PERSONA) {\n    if (requestData && requestData.length > 0 && requestData[0].number_of_children > 0) {\n      const result = await fetchRequestCapabilities(id, true);\n\n      if (result && result.data) {\n        requestData[0].requests = requestData[0].requests.map(request => {\n          return { ...result.data.find((item) => (item.id === request.id) && item.metadata),\n            ...request };\n        });\n      }\n    }\n    else {\n      const request = await fetchRequestCapabilities(id, false);\n      if (request) {\n        requestData[0] = { ...requestData[0], metadata: request.metadata };\n      }\n    }\n  }\n\n  return  { ...requestData[0] };\n}\n\nexport async function createRequestAction (requestId, actionIn) {\n  return await actionApi.createAction(requestId, actionIn);\n}\n","import componentTypes from '@data-driven-forms/react-form-renderer/dist/cjs/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/dist/cjs/validator-types';\n\nexport const createRequestCommentSchema = (isDeny = false) => ({\n  fields: [{\n    component: componentTypes.TEXTAREA,\n    name: 'comments',\n    isRequired: isDeny,\n    label: isDeny ? 'Reason' : 'Comment',\n    ...(isDeny && { validate: [{ type: validatorTypes.REQUIRED }]})\n  }]\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FormRenderer from '../common/form-renderer';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Modal } from '@patternfly/react-core';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications';\nimport { createRequestAction } from '../../redux/actions/request-actions';\nimport { createRequestCommentSchema } from '../../forms/request-comment-form.schema';\nimport useQuery from '../../utilities/use-query';\nimport routes from '../../constants/routes';\n\nconst ActionModal = ({\n  actionType,\n  addNotification,\n  createRequestAction,\n  closeUrl,\n  postMethod\n}) => {\n  const { push } = useHistory();\n  const [{ request: id }] = useQuery([ 'request' ]);\n\n  const onSubmit = (data) => {\n    const operationType = { 'Add Comment': 'memo', Approve: 'approve', Deny: 'deny' };\n    const actionName = actionType === 'Add Comment' ? actionType : `${actionType} Request`;\n    return postMethod ?\n      createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => postMethod()).then(() => push(closeUrl))\n      : createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => push(closeUrl));\n  };\n\n  const onCancel = () => {\n    const actionName = actionType === 'Add Comment' ? actionType : `${actionType} Request`;\n    addNotification({\n      variant: 'warning',\n      title: actionName,\n      dismissable: true,\n      description: `${actionName} was cancelled by the user.`\n    });\n    push(closeUrl);\n  };\n\n  return (\n    <Modal\n      isLarge\n      title={ actionType === 'Add Comment' ? `Request #${id}` : `${actionType} Request #${id}` }\n      isOpen\n      onClose={ onCancel }\n    >\n      <FormRenderer\n        schema={ createRequestCommentSchema(actionType === 'Deny') }\n        onSubmit={ onSubmit }\n        onCancel={ onCancel }\n        formContainer=\"modal\"\n      />\n    </Modal>\n  );\n};\n\nActionModal.defaultProps = {\n  closeUrl: routes.requests.index\n};\n\nActionModal.propTypes = {\n  addNotification: PropTypes.func.isRequired,\n  createRequestAction: PropTypes.func.isRequired,\n  postMethod: PropTypes.func,\n  id: PropTypes.string,\n  actionType: PropTypes.string,\n  closeUrl: PropTypes.string,\n  match: PropTypes.object,\n  location: PropTypes.object\n};\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  addNotification,\n  createRequestAction\n}, dispatch);\n\nexport default connect(null, mapDispatchToProps)(ActionModal);\n"],"sourceRoot":""}