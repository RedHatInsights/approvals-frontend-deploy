{"version":3,"sources":["webpack:///./src/helpers/shared/pagination.js","webpack:///./src/helpers/shared/helpers.js","webpack:///./src/utilities/constants.js","webpack:///./src/utilities/async-debounce.js","webpack:///./src/helpers/shared/user-login.js","webpack:///./src/presentational-components/shared/breadcrubms.js","webpack:///./src/presentational-components/shared/top-toolbar.js","webpack:///./src/smart-components/app-tabs/app-tabs.js","webpack:///./src/presentational-components/shared/filter-toolbar-item.js","webpack:///./src/smart-components/common/async-pagination.js","webpack:///./src/presentational-components/shared/table-toolbar-view.js","webpack:///./src/helpers/request/request-helper.js","webpack:///./src/redux/actions/request-actions.js","webpack:///./src/presentational-components/shared/pf4-select-wrapper.js","webpack:///./src/smart-components/common/form-renderer.js","webpack:///./src/forms/request-comment-form.schema.js","webpack:///./src/smart-components/request/action-modal.js","webpack:///./src/smart-components/request/expandable-content.js","webpack:///./src/smart-components/request/request-table-helpers.js","webpack:///./src/smart-components/request/request-detail/request-info-bar.js","webpack:///./src/smart-components/request/request-detail/action-transcript.js","webpack:///./src/smart-components/request/request-detail/request.js","webpack:///./src/smart-components/request/request-detail/request-list.js","webpack:///./src/smart-components/request/request-detail/request-transcript.js","webpack:///./src/smart-components/request/request-detail/request-detail.js","webpack:///./src/smart-components/request/requests.js"],"names":["defaultSettings","limit","offset","itemCount","numberOfItems","getCurrentPage","Math","floor","getNewPage","page","activeStates","scrollToTop","document","getElementById","scrollTo","behavior","top","left","isRequestStateActive","state","includes","timeAgo","date","key","type","APPROVAL_API_BASE","process","RBAC_API_BASE","asyncFunction","debounceTime","options","onlyResolvesLast","awesomeDebouncePromise","axiosInstance","axios","create","interceptors","request","use","a","config","window","insights","chrome","auth","getUser","response","data","error","workflowApi","WorkflowApi","undefined","actionApi","ActionApi","requestApi","RequestApi","templateApi","TemplateApi","rbacGroupApi","GroupApi","getRequestApi","getTemplateApi","getWorkflowApi","getActionApi","getRbacGroupApi","getAxiosInstance","grapqlInstance","getGraphqlInstance","errors","message","errorType","ApprovalBreadcrumbs","breadcrumbs","Breadcrumb","Object","values","map","item","BreadcrumbItem","title","isActive","to","exact","propTypes","PropTypes","arrayOf","shape","string","isRequired","bool","TopToolbar","children","paddingBottom","className","Level","oneOfType","node","array","defaultProps","TopToolbarTitle","description","LevelItem","TextContent","Text","component","TextVariants","h1","p","AppTabs","push","history","pathname","location","tabItems","activeTab","find","name","activeKey","eventKey","onSelect","_event","tabIndex","func","withRouter","FilterToolbarItem","searchValue","onFilterChange","placeholder","isClearable","ToolbarItem","TextInput","value","onChange","aria-label","width","height","onClick","AsyncPagination","meta","count","apiProps","apiRequest","isCompact","props","Pagination","perPage","onPerPageSelect","onSetPage","number","debounce","debouncePromise","direction","any","TableToolbarView","isSelectable","createRows","columns","fetchData","toolbarButtons","actionResolver","routes","titlePlural","titleSingular","pagination","setCheckedItems","filterValue","isLoading","onCollapse","useState","rows","setRows","useEffect","setOpen","id","row","isOpen","setSelected","newData","selected","checkedItems","filter","Section","page-type","Toolbar","style","flex","ToolbarGroup","isDisabled","renderToolbar","Table","_index","_isOpen","cells","index","requests","graphqlInstance","fetchRequests","paginationQuery","filterQuery","get","fetchRequestTranscript","requestId","post","query","parent_id","then","fetchRequestActions","listActionsByRequest","fetchRequestContent","fetchRequestWithSubrequests","showRequest","requestData","number_of_children","subRequests","requestActions","actions","createRequestAction","actionIn","createAction","ActionTypes","payload","RequestHelper","actionName","notifications","fulfilled","variant","rejected","Select","input","isReadOnly","FieldProvider","rest","FormSelect","inputValue","selectOptions","label","createOptions","FormSelectOption","toString","object","Pf4SelectWrapper","componentType","helperText","hideLabel","showError","touched","FormGroup","fieldId","isValid","helperTextInvalid","small","buttonPositioning","default","modal","buttonOrder","buttonClassName","FormRenderer","componentMapper","formContainer","formFieldsMapper","componentTypes","SELECT","layoutMapper","oneOf","schemaFields","isDeny","TEXTAREA_FIELD","createRequestCommentSchema","schema","validate","validatorTypes","REQUIRED","fields","ActionModal","match","params","actionType","addNotification","closeUrl","postMethod","onCancel","dismissable","Modal","isLarge","onClose","schemaType","onSubmit","operationType","Approve","Deny","operation","connect","dispatch","bindActionCreators","ExpandedItem","detail","h5","ExpandableContent","reason","requestActive","requestContent","setRequestContent","setIsLoading","fetchStarted","setIsFetching","expandedRequests","useSelector","requestReducer","Bullseye","Spinner","product","Button","portfolio","platform","content","uname","reduce","acc","requester_name","created_at","notified_at","finished_at","decision","parent","fullWidth","RequestInfoBar","h6","keys","param","operationDisplayName","memo","approve","deny","notify","skip","cancel","start","operationIcon","color","ActionTranscript","actionList","Stack","actionItem","marginBottom","processed_by","comments","Request","isKebabOpen","setState","Dropdown","position","DropdownPosition","right","onKebabSelect","toggle","KebabToggle","onToggle","onKebabToggle","dropdownItems","DropdownItem","isPlain","this","isExpanded","DataListItem","aria-labelledby","DataListItemRow","DataListToggle","toggleExpand","DataListItemCells","dataListCells","DataListCell","idx","group_name","textTransform","buildRequestActionKebab","DataListContent","isHidden","gutter","StackItem","fetchRequestDetails","Component","noItems","RequestList","expanded","indexOf","slice","length","PageHeader","items","DataList","active_request","RequestTranscript","Title","size","paddingLeft","initialState","isFetching","requestState","action","RequestDetail","useReducer","stateDispatch","selectedRequest","useParams","useLocation","useDispatch","Promise","all","path","render","url","Grid","backgroundColor","minHeight","GridItem","md","cellFormatters","expandable","debouncedFilter","asyncDebounce","filteringCallback","isFiltering","requestsListState","Requests","useHistory","handleFilterChange","areActionsDisabled","handlePagination","_apiProps","expandRequest"],"mappings":"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","file":"js/requests.js","sourcesContent":["export const defaultSettings = {\n  limit: 50,\n  offset: 0,\n  itemCount: 1,\n  numberOfItems: 50\n};\n\nexport const getCurrentPage = (limit = 1, offset = 0) => Math.floor(offset / limit) + 1;\n\nexport const getNewPage = (page = 1, offset) => (page - 1) * offset;\n","import React from 'react';\nimport { DateFormat } from '@redhat-cloud-services/frontend-components/components/DateFormat';\n\nconst activeStates = [ 'notified' ];\n\nexport const scrollToTop = () => document.getElementById('root').scrollTo({\n  behavior: 'smooth',\n  top: 0,\n  left: 0\n});\n\nexport const getCurrentPage = (limit = 1, offset = 0) => Math.floor(offset / limit) + 1;\n\nexport const getNewPage = (page = 1, offset) => (page - 1) * offset;\n\nexport const isRequestStateActive = (state) => activeStates.includes(state);\n\nexport const timeAgo = (date) => (\n  <span key={ date }>\n    <DateFormat date={ date } type=\"relative\" />\n  </span>\n);\n\n","export const APPROVAL_API_BASE = `${process.env.BASE_PATH}/approval/v1.0`;\nexport const RBAC_API_BASE = `${process.env.BASE_PATH}/rbac/v1`;\n\n","import awesomeDebouncePromise from 'awesome-debounce-promise';\n\nexport default (\n  asyncFunction,\n  debounceTime = 250,\n  options = { onlyResolvesLast: false }\n) => awesomeDebouncePromise(asyncFunction, debounceTime, options);\n","import axios from 'axios';\n\nimport { APPROVAL_API_BASE, RBAC_API_BASE } from '../../utilities/constants';\nimport { GroupApi } from '@redhat-cloud-services/rbac-client';\nimport { WorkflowApi, ActionApi, RequestApi, TemplateApi } from '@redhat-cloud-services/approval-client';\n\nconst axiosInstance = axios.create();\n\nconst resolveInterceptor = response => response.data || response;\nconst errorInterceptor = (error = {}) => {\n  throw { ...error.response };\n};\n\n// check identity before each request. If the token is expired it will log out user\naxiosInstance.interceptors.request.use(async config => {\n  await window.insights.chrome.auth.getUser();\n  return config;\n});\naxiosInstance.interceptors.response.use(resolveInterceptor);\naxiosInstance.interceptors.response.use(null, errorInterceptor);\n\n// Approval Apis\n\nconst workflowApi = new WorkflowApi(undefined, APPROVAL_API_BASE, axiosInstance);\nconst actionApi = new ActionApi(undefined, APPROVAL_API_BASE, axiosInstance);\nconst requestApi = new RequestApi(undefined, APPROVAL_API_BASE, axiosInstance);\nconst templateApi = new TemplateApi(undefined, APPROVAL_API_BASE, axiosInstance);\n\nconst rbacGroupApi = new GroupApi(undefined, RBAC_API_BASE, axiosInstance);\n\n// Approval APIs\nexport function getRequestApi() {\n  return requestApi;\n}\n\nexport function getTemplateApi() {\n  return templateApi;\n}\n\nexport function getWorkflowApi() {\n  return workflowApi;\n}\n\nexport function getActionApi() {\n  return actionApi;\n}\n\nexport function getRbacGroupApi() {\n  return rbacGroupApi;\n}\n\nexport function getAxiosInstance() {\n  return axiosInstance;\n}\n\nconst grapqlInstance = axios.create();\ngrapqlInstance.interceptors.request.use(async (config) => {\n  await window.insights.chrome.auth.getUser();\n  return config;\n});\n/**\n * Graphql does not return error response when the qery fails.\n * Instead it returns 200 response with error object.\n * We catch it and throw it to trigger notification middleware\n */\ngrapqlInstance.interceptors.response.use(({ data }) => {\n  if (data.errors) {\n    throw {\n      message: data.errors[0].errorType,\n      data: data.errors[0].message\n    };\n  }\n\n  return data;\n});\n\nexport function getGraphqlInstance() {\n  return grapqlInstance;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport { Breadcrumb, BreadcrumbItem } from '@patternfly/react-core';\n\nconst ApprovalBreadcrumbs = ({ breadcrumbs }) => breadcrumbs\n  ? (\n    <Breadcrumb>\n      { Object.values(breadcrumbs).map(item => (\n        <BreadcrumbItem key={ item.title } isActive={ item.isActive }>\n          { (item.to && <NavLink exact to={ item.to }>{ item.title }</NavLink>) || item.title }\n        </BreadcrumbItem>\n      )) }\n    </Breadcrumb>\n  ) : null;\n\nApprovalBreadcrumbs.propTypes = {\n  breadcrumbs: PropTypes.arrayOf(PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    isActive: PropTypes.bool,\n    to: PropTypes.string\n  }))\n};\n\nexport default ApprovalBreadcrumbs;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Level, LevelItem, Text, TextContent, TextVariants  } from '@patternfly/react-core';\nimport { ToolbarTitlePlaceholder } from './loader-placeholders';\nimport ApprovalBreadcrumbs from './breadcrubms';\n\nimport './top-toolbar.scss';\n\nexport const TopToolbar = ({ children,  breadcrumbs, paddingBottom }) => (\n  <div className={ `pf-u-pt-lg pf-u-pr-lg pf-u-pl-lg ${paddingBottom ? 'pf-u-pb-sm' : ''} top-toolbar` }>\n    { breadcrumbs && (<Level className=\"pf-u-mb-md\">\n      <ApprovalBreadcrumbs breadcrumbs={ breadcrumbs } />\n    </Level>)\n    }\n    { children }\n  </div>\n);\n\nTopToolbar.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node\n  ]).isRequired,\n  breadcrumbs: PropTypes.array,\n  paddingBottom: PropTypes.bool\n};\n\nTopToolbar.defaultProps = {\n  paddingBottom: false\n};\n\nexport const TopToolbarTitle = ({ title, description, children }) => (\n  <Fragment>\n    <Level>\n      <LevelItem>\n        <TextContent className=\"pf-u-mb-sm\">\n          { <Text component={ TextVariants.h1 }>{ title || <ToolbarTitlePlaceholder /> }</Text> }\n        </TextContent>\n        { description &&\n              <TextContent className=\"pf-u-pt-sm pf-u-mb-md\">\n                <Text component={ TextVariants.p }>{ description }</Text>\n              </TextContent> }\n      </LevelItem>\n      { children }\n    </Level>\n  </Fragment>\n);\n\nTopToolbarTitle.propTypes = {\n  title: PropTypes.string,\n  description: PropTypes.string,\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node)\n  ])\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { Tabs, Tab } from '@patternfly/react-core';\n\nconst AppTabs = ({ history: { push }, location: { pathname }, tabItems }) => {\n  const activeTab = tabItems.find(({ name }) => pathname.includes(name));\n  const handleTabClick = (_event, tabIndex) => push(tabItems[tabIndex].name);\n\n  return (\n    <Tabs className=\"pf-u-mt-sm\" activeKey={ activeTab ? activeTab.eventKey : 0 } onSelect={ handleTabClick }>\n      { tabItems.map((item) => <Tab title={ item.title } key={ item.eventKey } eventKey={ item.eventKey } name={ item.name }/>) }\n    </Tabs>\n  );\n};\n\nAppTabs.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired\n  }),\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }),\n  tabItems: PropTypes.array.isRequired\n};\n\nexport default withRouter(AppTabs);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { SearchIcon, CloseIcon } from '@patternfly/react-icons';\nimport { ToolbarItem, TextInput } from '@patternfly/react-core';\n\nconst FilterToolbarItem = ({\n  searchValue,\n  onFilterChange,\n  placeholder,\n  isClearable\n}) => (\n  <ToolbarItem>\n    <div className=\"toolbar-filter-input-group\">\n      <TextInput\n        placeholder={ placeholder }\n        value={ searchValue }\n        type=\"text\"\n        onChange={ onFilterChange }\n        aria-label={ placeholder }\n      />\n      <span className=\"filter-icons-container\">\n        { (isClearable && searchValue && (\n          <CloseIcon\n            className=\"clear-filter\"\n            width=\"16\"\n            height=\"16\"\n            onClick={ () => onFilterChange('') }\n          />\n        )) || <SearchIcon /> }\n      </span>\n    </div>\n  </ToolbarItem>\n);\n\nFilterToolbarItem.propTypes = {\n  onFilterChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  searchValue: PropTypes.string,\n  isClearable: PropTypes.bool\n};\n\nFilterToolbarItem.defaultProps = {\n  searchValue: '',\n  isClearable: false\n};\n\nexport default FilterToolbarItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport debouncePromise from 'awesome-debounce-promise';\n\nimport { Pagination } from '@patternfly/react-core';\n\nimport { getCurrentPage, getNewPage } from '../../helpers/shared/pagination';\n\nconst AsyncPagination = ({\n  meta: { limit, count, offset },\n  apiProps,\n  apiRequest,\n  className,\n  isCompact,\n  ...props\n}) => {\n  const handleOnPerPageSelect = (_event, limit) =>\n    apiRequest(apiProps, {\n      offset,\n      limit\n    });\n\n  const handleSetPage = (_event, number, debounce) => {\n    const options = {\n      offset: getNewPage(number, limit),\n      limit\n    };\n\n    const request = () => apiRequest(apiProps, options);\n    if (debounce) {\n      return debouncePromise(request, 250)();\n    }\n\n    return request();\n  };\n\n  return (\n    <div className={ className }>\n      <Pagination\n        perPage={ limit || 50 }\n        itemCount={ count || 0 }\n        onPerPageSelect={ handleOnPerPageSelect }\n        page={ getCurrentPage(limit, offset) }\n        onSetPage={ handleSetPage }\n        direction=\"down\"\n        isCompact={ isCompact }\n        { ...props }\n      />\n    </div>\n  );\n};\n\nAsyncPagination.propTypes = {\n  meta: PropTypes.shape({\n    count: PropTypes.number,\n    limit: PropTypes.number.isRequired,\n    offset: PropTypes.number.isRequired\n  }),\n  apiRequest: PropTypes.func.isRequired,\n  apiProps: PropTypes.any,\n  className: PropTypes.string,\n  isCompact: PropTypes.bool\n};\n\nAsyncPagination.defaultProps = {\n  meta: {\n    count: 0,\n    limit: 50,\n    offset: 0\n  },\n  className: '',\n  isCompact: false\n};\n\nexport default AsyncPagination;\n","import React, { useEffect, useState } from 'react';\nimport propTypes from 'prop-types';\nimport { Toolbar, ToolbarGroup, ToolbarItem, Level, LevelItem } from '@patternfly/react-core';\nimport { Table, TableHeader, TableBody } from '@patternfly/react-table';\nimport { defaultSettings  } from '../../helpers/shared/pagination';\nimport FilterToolbar from '../../presentational-components/shared/filter-toolbar-item';\nimport { Section } from '@redhat-cloud-services/frontend-components/components/Section';\nimport { DataListLoader } from './loader-placeholders';\nimport AsyncPagination from '../../smart-components/common/async-pagination';\n\n/**\n * Need to optimize this component\n * There is 7 renders before first table render\n * Should be just 2 - Loader -> Table\n */\n\nexport const TableToolbarView = ({\n  isSelectable,\n  createRows,\n  columns,\n  fetchData,\n  toolbarButtons,\n  data,\n  actionResolver,\n  routes,\n  titlePlural,\n  titleSingular,\n  pagination,\n  setCheckedItems,\n  filterValue,\n  onFilterChange,\n  isLoading,\n  onCollapse\n}) => {\n  const [ rows, setRows ] = useState([]);\n\n  useEffect(() => {\n    setRows(createRows(data));\n  }, [ data ]);\n\n  const setOpen = (data, id) => data.map(row => row.id === id ?\n    {\n      ...row,\n      isOpen: !row.isOpen\n    } : {\n      ...row\n    });\n\n  const setSelected = (data, id) => {\n    const newData = data.map(row => row.id === id ?\n      {\n        ...row,\n        selected: !row.selected\n      } : {\n        ...row\n      });\n\n    const checkedItems = newData.filter(item => (item.id && item.selected));\n    setCheckedItems(checkedItems);\n    return newData;\n  };\n\n  const onCollapseInternal = (_event, _index, _isOpen, { id }) => onCollapse ?\n    onCollapse(id, setRows, setOpen) :\n    setRows((rows) => setOpen(rows, id));\n\n  const selectRow = (_event, selected, index, { id } = {}) => index === -1\n    ? setRows(rows.map(row => ({ ...row, selected })))\n    : setRows((rows) => setSelected(rows, id));\n\n  const renderToolbar = (isLoading) => {\n    return (<Toolbar className={ `pf-u-pt-lg pf-u-pr-lg pf-u-pl-lg pf-u-pb-lg top-toolbar` }>\n      <Level style={ { flex: 1 } }>\n        <LevelItem>\n          <Toolbar>\n            <FilterToolbar onFilterChange={ onFilterChange } searchValue={ filterValue } isClearable={ true }\n              placeholder={ `Filter by ${titleSingular}` }/>\n            { toolbarButtons() }\n          </Toolbar>\n        </LevelItem>\n\n        <LevelItem>\n          <Toolbar>\n            <ToolbarGroup>\n              <ToolbarItem>\n                <AsyncPagination\n                  apiRequest={ fetchData }\n                  isDisabled={ isLoading }\n                  meta={ pagination }\n                  isCompact\n                />\n              </ToolbarItem>\n            </ToolbarGroup>\n          </Toolbar>\n        </LevelItem>\n      </Level>\n    </Toolbar>);\n  };\n\n  return (\n    <Section type=\"content\" page-type={ `tab-${titlePlural}` } id={ `tab-${titlePlural}` }>\n      { routes() }\n      { renderToolbar(isLoading) }\n      { isLoading ? <DataListLoader/> :\n        <Table\n          aria-label={ `${titlePlural} table` }\n          onCollapse={ onCollapseInternal }\n          rows={ rows }\n          cells={ columns }\n          onSelect={ isSelectable && selectRow }\n          actionResolver={ actionResolver }\n          className=\"table-fix\"\n        >\n          <TableHeader />\n          <TableBody />\n        </Table> }\n    </Section>\n  );\n};\n\nTableToolbarView.propTypes = {\n  isSelectable: propTypes.bool,\n  createRows: propTypes.func.isRequired,\n  columns: propTypes.array.isRequired,\n  toolbarButtons: propTypes.func,\n  fetchData: propTypes.func.isRequired,\n  data: propTypes.array,\n  pagination: propTypes.shape({\n    limit: propTypes.number,\n    offset: propTypes.number,\n    count: propTypes.number\n  }),\n  titlePlural: propTypes.string,\n  titleSingular: propTypes.string,\n  routes: propTypes.func,\n  actionResolver: propTypes.func,\n  setCheckedItems: propTypes.func,\n  filterValue: propTypes.string,\n  onFilterChange: propTypes.func,\n  isLoading: propTypes.bool,\n  onCollapse: propTypes.func\n};\n\nTableToolbarView.defaultProps = {\n  requests: [],\n  isLoading: false,\n  pagination: defaultSettings,\n  toolbarButtons: () => null,\n  isSelectable: null,\n  routes: () => null\n};\n","import { getActionApi, getRequestApi, getAxiosInstance, getGraphqlInstance } from '../shared/user-login';\nimport { APPROVAL_API_BASE } from '../../utilities/constants';\nimport { defaultSettings } from '../shared/pagination';\n\nconst requestApi = getRequestApi();\nconst actionApi = getActionApi();\nconst graphqlInstance = getGraphqlInstance();\n\nexport function fetchRequests(filter = '', pagination = defaultSettings) {\n  const paginationQuery = `&limit=${pagination.limit}&offset=${pagination.offset}`;\n  const filterQuery = `&filter[name][contains_i]=${filter}`;\n  return getAxiosInstance().get(\n    `${APPROVAL_API_BASE}/requests/?${filterQuery}${paginationQuery}`\n  );\n}\n\nconst requestTranscriptQuery = (parent_id) => `query {\n  requests (filter: { parent_id: \"${parent_id}\" } ) {\n    actions {\n      id\n      operation \n      comments \n      created_at \n      processed_by\n    }\n    id\n    name\n    number_of_children\n    decision\n    description\n    group_name\n    number_of_finished_children\n    parent_id\n    state\n    workflow_id\n  }\n}`;\n\nexport const fetchRequestTranscript = (requestId) => {\n  return graphqlInstance\n  .post(`${APPROVAL_API_BASE}/graphql`, { query: requestTranscriptQuery(requestId) })\n  .then(({ data: { requests }}) => requests);\n};\n\nexport async function fetchRequest(id) {\n  return await requestApi.showRequest(id);\n}\n\nexport const fetchRequestActions = (id) => {\n  return actionApi.listActionsByRequest(id);\n};\n\nexport const fetchRequestContent = (id) => {\n  return getAxiosInstance().get(`${APPROVAL_API_BASE}/requests/${id}/content`);\n};\n\nexport async function fetchRequestWithActions(id) {\n  let requestData = await requestApi.showRequest(id);\n  const requestActions = await fetchRequestActions(id);\n\n  if (requestData.number_of_children > 0) {\n    const subRequests = await requestApi.listRequestsByRequest(id);\n    const promises = subRequests.data.map(request => fetchRequestWithActions(request.id));\n    const subRequestsWithActions = await Promise.all(promises);\n    requestData = { ...requestData, children: subRequestsWithActions };\n  }\n\n  return  { ...requestData, actions: requestActions };\n}\n\nexport async function fetchRequestWithSubrequests(id) {\n  let requestData = await requestApi.showRequest(id);\n\n  if (requestData.number_of_children > 0) {\n    const subRequests = await fetchRequestTranscript(id);\n    requestData = { ...requestData, children: subRequests };\n  } else {\n    const requestActions = await fetchRequestActions(id);\n    requestData = { ...requestData, actions: requestActions ? requestActions.data : []};\n  }\n\n  return  { ...requestData };\n}\n\nexport async function createRequestAction (requestId, actionIn) {\n  return await actionApi.createAction(requestId, actionIn);\n}\n","import * as ActionTypes from '../action-types';\nimport * as RequestHelper from '../../helpers/request/request-helper';\n\nexport const fetchRequests = (filter, pagination) => ({\n  type: ActionTypes.FETCH_REQUESTS,\n  payload: RequestHelper.fetchRequests(filter, pagination)\n});\n\nexport const fetchRequest = (apiProps) => ({\n  type: ActionTypes.FETCH_REQUEST,\n  payload: RequestHelper.fetchRequestWithSubrequests(apiProps)\n});\n\nexport const fetchRequestContent = (apiProps) => ({\n  type: ActionTypes.FETCH_REQUEST_CONTENT,\n  payload: RequestHelper.fetchRequestContent(apiProps)\n});\n\nexport const createRequestAction = (actionName, requestId, actionIn) => ({\n  type: ActionTypes.CREATE_REQUEST_ACTION,\n  payload: RequestHelper.createRequestAction(requestId, actionIn),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success',\n        description: `The ${actionName} was successful.`\n      },\n      rejected: {\n        variant: 'danger',\n        title: `${actionName} error`,\n        description: `The ${actionName} action failed.`\n      }\n    }\n  }\n});\n\nexport const expandRequest = (id) => ({\n  type: ActionTypes.EXPAND_REQUEST,\n  payload: id\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormSelect, FormSelectOption, FormGroup, TextContent, Text, TextVariants } from '@patternfly/react-core';\n\nconst createOptions = (options, inputValue, isRequired) => {\n  if (inputValue && isRequired) {\n    return options;\n  }\n\n  const selectOptions = [ ...options ];\n  return selectOptions.find(({ value }) => value === undefined)\n    ? [ ...selectOptions ]\n    : [{ label: isRequired ? 'Please choose' : 'None' }, ...selectOptions ];\n};\n\nconst Select = ({\n  input,\n  options,\n  isReadOnly,\n  isDisabled,\n  FieldProvider,\n  isRequired,\n  ...rest\n}) => (\n  <FormSelect { ...input } { ...rest } isDisabled={ isDisabled || isReadOnly }>\n    { createOptions(options, input.value, isRequired).map((props) => (\n      <FormSelectOption key={ props.value || props.label } { ...props } label={ props.label.toString() }/> // eslint-disable-line react/prop-types\n    )) }\n  </FormSelect>\n);\n\nSelect.propTypes = {\n  input: PropTypes.object.isRequired,\n  options: PropTypes.arrayOf(PropTypes.shape({\n    value: PropTypes.any,\n    label: PropTypes.string.isRequired\n  })).isRequired,\n  isReadOnly: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  isRequired: PropTypes.bool,\n  FieldProvider: PropTypes.any\n};\n\nconst Pf4SelectWrapper = ({\n  componentType,\n  label,\n  isRequired,\n  helperText,\n  meta,\n  description,\n  hideLabel,\n  ...rest\n}) => {\n  const { error, touched } = meta;\n  const showError = touched && error;\n\n  return (\n    <FormGroup\n      isRequired={ isRequired }\n      label={ !hideLabel && label }\n      fieldId={ rest.id }\n      isValid={ !showError }\n      helperText={ helperText }\n      helperTextInvalid={ meta.error }\n    >\n      { description && <TextContent><Text component={ TextVariants.small }>{ description }</Text></TextContent> }\n      <Select label={ label } isValid={ !showError } isRequired={ isRequired } { ...rest }/>\n    </FormGroup>\n  );\n};\n\nPf4SelectWrapper.propTypes = {\n  componentType: PropTypes.string,\n  label: PropTypes.string,\n  isRequired: PropTypes.bool,\n  helperText: PropTypes.string,\n  meta: PropTypes.object,\n  description: PropTypes.string,\n  hideLabel: PropTypes.bool\n};\n\nexport default Pf4SelectWrapper;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactFormRender, { componentTypes } from '@data-driven-forms/react-form-renderer';\nimport { layoutMapper, formFieldsMapper } from '@data-driven-forms/pf4-component-mapper';\nimport Pf4SelectWrapper from '../../presentational-components/shared/pf4-select-wrapper';\n\nconst buttonPositioning = {\n  default: {},\n  modal: {\n    buttonOrder: [ 'cancel', 'reset', 'save' ],\n    buttonClassName: 'modal-form-right-align'\n  }\n};\n\nconst FormRenderer = ({ componentMapper, formContainer, ...rest }) => (\n  <div className={ buttonPositioning[formContainer].buttonClassName }>\n    <ReactFormRender\n      formFieldsMapper={ {\n        ...formFieldsMapper,\n        componentMapper,\n        [componentTypes.SELECT]: Pf4SelectWrapper\n      } }\n      layoutMapper={ layoutMapper }\n      { ...buttonPositioning[formContainer] }\n      { ...rest }\n    />\n  </div>\n);\n\nFormRenderer.propTypes = {\n  componentMapper: PropTypes.object,\n  formContainer: PropTypes.oneOf([ 'default', 'modal' ])\n};\n\nFormRenderer.defaultProps = {\n  componentMapper: {},\n  formContainer: 'default'\n};\n\nexport default FormRenderer;\n","import { componentTypes, validatorTypes } from '@data-driven-forms/react-form-renderer';\n\nconst schemaFields = (isDeny) =>({\n  component: componentTypes.TEXTAREA_FIELD,\n  name: 'comments',\n  type: 'text',\n  isRequired: isDeny,\n  label: isDeny ? 'Reason' : 'Comment'\n});\n\nexport const createRequestCommentSchema = (isDeny = false) => {\n  const schema = schemaFields(isDeny);\n  if (isDeny) {\n    schema.validate = [{\n      type: validatorTypes.REQUIRED\n    }];\n  }\n\n  return { fields: [ schema ]};\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FormRenderer from '../common/form-renderer';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Modal } from '@patternfly/react-core';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications';\nimport { createRequestAction } from '../../redux/actions/request-actions';\nimport { createRequestCommentSchema } from '../../forms/request-comment-form.schema';\n\nconst ActionModal = ({\n  history: { push },\n  match: { params: { id }},\n  actionType,\n  addNotification,\n  createRequestAction,\n  closeUrl,\n  postMethod\n}) => {\n  const onSubmit = (data) => {\n    const operationType = { 'Add Comment': 'memo', Approve: 'approve', Deny: 'deny' };\n    const actionName = actionType === 'Add Comment' ? actionType : `${actionType} Request`;\n    return postMethod ?\n      createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => postMethod()).then(() => push(closeUrl))\n      : createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => push(closeUrl));\n  };\n\n  const onCancel = () => {\n    const actionName = actionType === 'Add Comment' ? actionType : `${actionType} Request`;\n    addNotification({\n      variant: 'warning',\n      title: actionName,\n      dismissable: true,\n      description: `${actionName} was cancelled by the user.`\n    });\n    push(closeUrl);\n  };\n\n  return (\n    <Modal\n      isLarge\n      title={ actionType === 'Add Comment' ? `Request #${id}` : `${actionType} Request #${id}` }\n      isOpen\n      onClose={ onCancel }\n    >\n      <FormRenderer\n        schema={ createRequestCommentSchema (actionType === 'Deny') }\n        schemaType=\"default\"\n        onSubmit={ onSubmit }\n        onCancel={ onCancel }\n        formContainer=\"modal\"\n      />\n    </Modal>\n  );\n};\n\nActionModal.defaultProps = {\n  closeUrl: '/requests'\n};\n\nActionModal.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired,\n  addNotification: PropTypes.func.isRequired,\n  createRequestAction: PropTypes.func.isRequired,\n  postMethod: PropTypes.func,\n  id: PropTypes.string,\n  actionType: PropTypes.string,\n  closeUrl: PropTypes.string,\n  match: PropTypes.object,\n  location: PropTypes.object\n};\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  addNotification,\n  createRequestAction\n}, dispatch);\n\nexport default withRouter(connect(null, mapDispatchToProps)(ActionModal));\n","import React, { Fragment, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { TextContent, Text, TextVariants, Level, LevelItem, Button, Bullseye } from '@patternfly/react-core';\nimport { isRequestStateActive } from '../../helpers/shared/helpers';\nimport { fetchRequestContent } from '../../helpers/request/request-helper';\nimport { Spinner } from '@redhat-cloud-services/frontend-components/components/Spinner';\n\nexport const ExpandedItem = ({ title = '', detail = '' }) => (\n  <TextContent>\n    <Text className=\"data-table-detail heading\" component={ TextVariants.small }>{ title }</Text>\n    <Text className=\"data-table-detail content\" component={ TextVariants.h5 }>{ detail }</Text>\n  </TextContent>\n);\n\nExpandedItem.propTypes = {\n  title: PropTypes.node,\n  detail: PropTypes.node\n};\n\nconst ExpandableContent = ({ id, number_of_children, state, reason }) => {\n  const requestActive = isRequestStateActive(state) && !number_of_children;\n  const [ requestContent, setRequestContent ] = useState([]);\n  const [ isLoading, setIsLoading ] = useState(true);\n  const [ fetchStarted, setIsFetching ] = useState(false);\n\n  const expandedRequests = useSelector(({ requestReducer: { expandedRequests }}) => expandedRequests);\n\n  useEffect(() => {\n    if (!fetchStarted && isLoading && expandedRequests.includes(id)) {\n      setIsFetching(true);\n      fetchRequestContent(id).then((data) => { setRequestContent(data); setIsLoading(false); }).catch(() => setIsLoading(false));\n    }\n  }, [ expandedRequests ]);\n\n  if (isLoading) {\n    return (<Bullseye>\n      <Spinner/>\n    </Bullseye>);\n  }\n\n  return (\n    <Fragment>\n      <Level>\n        <LevelItem>\n          <ExpandedItem title=\"Product\" detail={ requestContent ? requestContent.product : 'Unknown' } />\n        </LevelItem>\n        { requestActive && <LevelItem>\n          <Link to={ `/requests/approve/${id}` }  className=\"pf-u-mr-md\">\n            <Button variant=\"primary\" aria-label=\"Approve Request\" isDisabled={ !requestActive }>\n              Approve\n            </Button>\n          </Link>\n          <Link to={ `/requests/deny/${id}` }>\n            <Button variant=\"danger\" aria-label=\"Deny Request\">\n              Deny\n            </Button>\n          </Link>\n        </LevelItem>\n        }</Level>\n      <Level>\n        <LevelItem>\n          <ExpandedItem title=\"Portfolio\" detail={ requestContent ? requestContent.portfolio : 'Unknown' }/>\n          <ExpandedItem title=\"Platform\" detail={ requestContent ? requestContent.platform : 'Unknown' }/>\n          <ExpandedItem title=\"Reason\" detail={ reason ? reason : '' }/>\n        </LevelItem>\n      </Level>\n    </Fragment>\n  );\n};\n\nExpandableContent.propTypes = {\n  id: PropTypes.string,\n  content: PropTypes.object,\n  number_of_children: PropTypes.number,\n  uname: PropTypes.string,\n  state: PropTypes.string,\n  reason: PropTypes.string\n};\n\nexport default ExpandableContent;\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button } from '@patternfly/react-core';\n\nimport ExpandableContent from './expandable-content';\nimport { timeAgo }  from '../../helpers/shared/helpers';\n\nexport const createRows = (data) =>\n  data.reduce((acc, { id,\n    name,\n    requester_name,\n    created_at,\n    notified_at,\n    finished_at,\n    state,\n    decision,\n    reason,\n    number_of_children\n  }, key) => ([\n    ...acc, {\n      id,\n      isOpen: false,\n      state,\n      number_of_children,\n      cells: [\n        <Fragment key={ id }><Link to={ `/requests/detail/${id}` }><Button variant=\"link\"> { name } </Button></Link></Fragment>,\n        requester_name,\n        timeAgo(created_at),\n        finished_at ? timeAgo(finished_at) : (notified_at ? timeAgo(notified_at) : timeAgo(created_at)),\n        state,\n        decision\n      ]\n    }, {\n      parent: key * 2,\n      fullWidth: true,\n      cells: [{\n        title: <ExpandableContent id={ id }\n          number_of_children={ number_of_children }\n          state={ state }\n          reason={ reason }/>\n      }]\n    }\n  ]), []);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Text, TextContent, TextVariants } from '@patternfly/react-core';\n\nconst RequestInfoBar = ({ request, requestContent }) => {\n  return (\n    <TextContent>\n      <Text component={ TextVariants.small }>Product: <br/></Text>\n      <Text>{ requestContent ? requestContent.product : '' }</Text>\n      <Text component={ TextVariants.small }>Portfolio: <br/></Text>\n      <Text>{ requestContent ? requestContent.portfolio : '' }</Text>\n      <Text component={ TextVariants.small }>Platform: <br/></Text>\n      <Text>{ requestContent ? requestContent.platform : ' ' }</Text>\n      <Text component={ TextVariants.small }>Requester: </Text>\n      <Text component={ TextVariants.h6 }>{ request.requester_name }</Text>\n      <Text component={ TextVariants.h6 }>Order Parameters: <br/> </Text>\n      { requestContent.params && Object.keys(requestContent.params).map(param => {\n        return ((requestContent.params[param]) &&\n                  <Text key={ param } component={ TextVariants.small }>\n                    { `${param}: ${requestContent.params[param]}` }\n                  </Text>);\n      })\n      }\n    </TextContent>\n  );\n};\n\nRequestInfoBar.propTypes = {\n  request: PropTypes.shape({\n    requester_name: PropTypes.string\n  }).isRequired,\n  requestContent: PropTypes.object\n};\nexport default RequestInfoBar;\n\n","import React from 'react';\nimport { timeAgo }  from '../../../helpers/shared/helpers';\nimport {\n  Stack,\n  TextContent,\n  Text,\n  TextVariants\n} from '@patternfly/react-core';\nimport { CheckCircleIcon, CommentIcon, EnvelopeIcon, OutlinedTimesCircleIcon, AngleDoubleRightIcon, OnRunningIcon } from '@patternfly/react-icons';\nconst operationDisplayName = { memo: 'Comment from', approve: 'Approved by',\n  deny: 'Denied by', notify: 'Notified by', skip: 'Skipped by', cancel: 'Canceled by', start: 'Started by' };\n\nconst operationIcon = {\n  memo: <CommentIcon/>,\n  approve: <CheckCircleIcon style={ { color: 'var(--pf-global--success-color--100)' } }/>,\n  deny: <OutlinedTimesCircleIcon style={ { color: 'var(--pf-global--danger-color--100)' }\t}/>,\n  notify: <EnvelopeIcon/>,\n  skip: <AngleDoubleRightIcon/>,\n  start: <OnRunningIcon/>\n};\n\nexport const ActionTranscript = actionList => {\n  const actions = actionList.actionList;\n  return (\n    <Stack>\n      { actions.map(actionItem =>\n        <div key={ `${actionItem.id}-action` }>\n          <TextContent><Text key={ `${actionItem.id}-action-created_at` } style={ { marginBottom: 0 } }\n            className=\"data-table-detail content\" component={ TextVariants.small }>\n            { timeAgo(actionItem.created_at) }\n          </Text>\n          <Text key={ `${actionItem.id}-action-operation` }  style={ { marginBottom: 0 } }\n            className=\"data-table-detail content\">\n            { operationIcon[actionItem.operation] } { `${operationDisplayName[actionItem.operation]}  ${actionItem.processed_by}` }\n          </Text>\n          { actionItem.comments && <Text key={ `${actionItem.id}-action-comments` } style={ { marginBottom: 0 } }\n            className=\"data-table-detail content\" component={ TextVariants.h6 }>\n            { `${actionItem.comments}` }\n          </Text> } </TextContent>\n          <br/>\n        </div>)\n      }\n    </Stack>\n  );\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { isRequestStateActive } from '../../../helpers/shared/helpers';\nimport { ActionTranscript } from './action-transcript';\n\nimport {\n  Stack,\n  StackItem,\n  Button,\n  DataListItem,\n  DataListItemRow,\n  DataListCell,\n  DataListToggle,\n  DataListItemCells,\n  DataListContent,\n  DropdownItem,\n  Dropdown,\n  DropdownPosition,\n  KebabToggle,\n  TextVariants,\n  TextContent,\n  Level,\n  LevelItem\n} from '@patternfly/react-core';\n\nclass Request extends Component {\n  state = {\n    isKebabOpen: false\n  };\n\n  onKebabToggle = isOpen => {\n    this.setState({\n      isKebabOpen: isOpen\n    });\n  };\n\n  onKebabSelect = () => {\n    this.setState({ isKebabOpen: !this.state.isKebabOpen });\n  };\n\n  buildRequestActionKebab = (request) => {\n    return (\n      <Dropdown\n        position={ DropdownPosition.right }\n        onSelect={ this.onKebabSelect }\n        toggle={ <KebabToggle id={ `request-request-dropdown-${request.id}` } onToggle={ this.onKebabToggle }/> }\n        isOpen={ this.state.isKebabOpen }\n        dropdownItems={ [\n          <DropdownItem aria-label=\"Add Comment\" key={ `add_comment_${request.id}` }>\n            <Link\n              id={ `request-${request.id}-request-comment` }\n              to={ `/requests/detail/${request.id}/add_comment` }\n              className=\"pf-c-dropdown__menu-item\"\n            >\n              Comment\n            </Link>\n          </DropdownItem>\n        ] }\n        isPlain\n      />\n    );\n  };\n\n  fetchRequestDetails = (request) => {\n    return <ActionTranscript actionList={ request.actions }/>;\n  };\n\n  render() {\n    const { item, isExpanded } = this.props;\n    const requestActive = isRequestStateActive(item.state);\n    return (\n      <DataListItem key={ `request-${item.id}` }\n        aria-labelledby={ `check-request-${item.id}` }\n        isExpanded={ isExpanded }>\n        <DataListItemRow>\n          <DataListToggle\n            onClick={ () => this.props.toggleExpand(`request-${item.id}`) }\n            isExpanded={ isExpanded }\n            id={ `request-${item.id}` }\n            aria-labelledby={ `request-${item.id} request-${item.id}` }\n            aria-label=\"Toggle details for\"\n          />\n          <DataListItemCells\n            dataListCells={ [\n              <DataListCell key={ item.id }>\n                <span id={ `${item.id}-name` }>{ `${this.props.idx + 1}. ${item.parent_id ? item.group_name : item.name}` } </span>\n              </DataListCell>,\n              <DataListCell key={ `${item.id}-state` }>\n                <span style={ { textTransform: 'capitalize' } } id={ `${item.id}-state` }>{ `${item.state}` } </span>\n              </DataListCell>,\n              <DataListCell key={ `${item.id}-action` }>\n                <Level>\n                  <LevelItem>\n                    { (requestActive) &&\n                    <div>\n                      <Link id={ `approve-${item.id}` } to={ `/requests/detail/${item.id}/approve` }>\n                        <Button variant=\"link\" aria-label=\"Approve Request\">\n                          Approve\n                        </Button>\n                      </Link>\n                      <Link id={ `deny-${item.id}` } to={ `/requests/detail/${item.id}/deny` }>\n                        <Button variant=\"link\" className=\"destructive-color\" aria-label=\"Deny Request\">\n                          Deny\n                        </Button>\n                      </Link>\n                    </div> }\n                  </LevelItem>\n                </Level>\n              </DataListCell>,\n              <DataListCell\n                key={ `request-${item.id}` }\n                className=\"pf-c-data-list__action\"\n                aria-labelledby={ `request-${item.id} check-request-action${item.id}` }\n                id={ `workflow-${item.id}` }\n                aria-label=\"Actions\">\n                { requestActive && this.buildRequestActionKebab(item) }\n              </DataListCell>\n            ] }/>\n        </DataListItemRow>\n        <DataListContent aria-label=\"Request Content Details\"\n          isHidden={ !isExpanded }>\n          <Stack gutter=\"md\">\n            <StackItem>\n              <TextContent component={ TextVariants.h6 }>\n                { this.fetchRequestDetails(item) }\n              </TextContent>\n            </StackItem>\n          </Stack>\n        </DataListContent>\n\n      </DataListItem>\n    );\n  };\n}\n\nRequest.propTypes = {\n  isLoading: PropTypes.bool,\n  item: PropTypes.shape({\n    id: PropTypes.string,\n    name: PropTypes.string,\n    state: PropTypes.string,\n    parent_id: PropTypes.string.isRequired,\n    group_name: PropTypes.string.isRequired,\n    requestActions: PropTypes.shape({\n      data: PropTypes.array\n    })\n  }).isRequired,\n  idx: PropTypes.number,\n  isExpanded: PropTypes.bool.isRequired,\n  toggleExpand: PropTypes.func.isRequired,\n  noItems: PropTypes.string\n};\n\nexport default Request;\n","import React, { Component, Fragment } from 'react';\nimport propTypes from 'prop-types';\nimport { PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components/components/PageHeader';\nimport { DataList } from '@patternfly/react-core';\nimport Request from './request';\nimport { DataListLoader } from '../../../presentational-components/shared/loader-placeholders';\n\nclass RequestList extends Component {\n  state = {\n    expanded: []\n  };\n\n  toggleExpand = id => this.setState(({ expanded }) => {\n    const index = expanded.indexOf(id);\n    const newExpanded =\n      index >= 0 ? [ ...expanded.slice(0, index), ...expanded.slice(index + 1, expanded.length) ] : [ ...expanded, id ];\n    return ({ expanded: newExpanded });\n  });\n\n  isExpanded = key => {\n    return this.state.expanded.includes(key);\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <div>\n          { this.props.isLoading && (\n            <Fragment>\n              <PageHeader>\n                <PageHeaderTitle title={ this.props.noItems }/>\n              </PageHeader>\n              <DataListLoader/>\n            </Fragment>\n          ) }\n        </div>\n        { this.props.items.length > 0 && (\n          <DataList aria-label=\"Expandable data list\">\n            { this.props.items.map((item, idx) => (\n              <Request\n                key={ item.id }\n                item={ item }\n                idx={ idx }\n                isActive={ idx === 0 }\n                isExpanded={ this.isExpanded(`request-${item.id}`) }\n                toggleExpand={ this.toggleExpand }\n              />)) }\n          </DataList>)\n        }\n      </Fragment>\n    );\n  };\n}\n\nRequestList.propTypes = {\n  isLoading: propTypes.bool,\n  items: propTypes.array,\n  noItems: propTypes.string,\n  active_request: propTypes.number\n};\n\nRequestList.defaultProps = {\n  items: []\n};\n\nexport default RequestList;\n\n","import React, { Fragment }  from 'react';\nimport PropTypes from 'prop-types';\nimport { Title } from '@patternfly/react-core';\nimport RequestList from './request-list';\n\nconst RequestTranscript = ({ request }) => (<Fragment>\n  <Title size=\"sm\" style={ { paddingLeft: '32px' } }> Request transcript </Title>\n  <RequestList items={ request.children && request.children.length > 0 ? request.children : [ request ] }/>\n</Fragment>);\n\nRequestTranscript.propTypes = {\n  request: PropTypes.shape({\n    content: PropTypes.object,\n    children: PropTypes.array\n  }).isRequired\n};\n\nexport default RequestTranscript;\n","import React, { Fragment, useEffect, useReducer } from 'react';\nimport { Route, useParams, useLocation } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Grid, GridItem } from '@patternfly/react-core';\nimport { Section } from '@redhat-cloud-services/frontend-components/components/Section';\nimport '../../../App.scss';\nimport ActionModal from '../action-modal';\nimport RequestInfoBar from './request-info-bar';\nimport RequestTranscript from './request-transcript';\nimport { fetchRequest, fetchRequestContent } from '../../../redux/actions/request-actions';\nimport { RequestLoader } from '../../../presentational-components/shared/loader-placeholders';\nimport { TopToolbar, TopToolbarTitle } from '../../../presentational-components/shared/top-toolbar';\n\nconst initialState = {\n  isFetching: true\n};\nconst requestState = (state, action) => {\n  switch (action.type) {\n    case 'setFetching':\n      return { ...state, isFetching: action.payload };\n    default:\n      return state;\n  }\n};\n\nconst RequestDetail = () => {\n  const [{ isFetching }, stateDispatch ] = useReducer(requestState, initialState);\n\n  const { selectedRequest, requestContent } = useSelector(\n    ({\n      requestReducer: {\n        requestContent: requestContent,\n        selectedRequest: selectedRequest\n      }\n    }) => ({ selectedRequest, requestContent })\n  );\n  const { id }  = useParams();\n  const location = useLocation();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    Promise.all([ dispatch(fetchRequest(id)), dispatch(fetchRequestContent(id)) ])\n    .then(() => stateDispatch({ type: 'setFetching', payload: false }));\n  }, []);\n\n  const renderRequestDetails = () => {\n    if (isFetching || !selectedRequest || Object.keys(selectedRequest).length === 0) {\n      return (\n        <Section style={ { backgroundColor: 'white', minHeight: '100%' } }>\n          <RequestLoader />\n        </Section>\n      );\n    }\n    else {\n      return (\n        <Fragment>\n          <GridItem md={ 2 } className=\"detail-pane\">\n            <RequestInfoBar request={ selectedRequest } requestContent={ requestContent }/>\n          </GridItem>\n          <GridItem md={ 10 } className=\"detail-pane\">\n            <RequestTranscript request={ selectedRequest } url={ location.url }/>\n          </GridItem>\n        </Fragment>\n      );\n    }\n  };\n\n  return (\n    <Fragment>\n      <Route exact path=\"/requests/detail/:id/add_comment\" render={ props =>\n        <ActionModal { ...props } actionType={ 'Add Comment' } closeUrl={ location.url } /> }/>\n      <Route exact path=\"/requests/detail/:id/approve\" render={ props =>\n        <ActionModal { ...props } actionType={ 'Approve' } closeUrl={ location.url } /> } />\n      <Route exact path=\"/requests/detail/:id/deny\" render={ props =>\n        <ActionModal { ...props } actionType={ 'Deny' } closeUrl={ location.url } /> } />\n      <TopToolbar\n        breadcrumbs={ [{ title: 'Request Queue', to: '/requests', id: 'requests' }] }\n        paddingBottom={ true }\n      >\n        <TopToolbarTitle title={ `Request ${id}` } />\n      </TopToolbar>\n      <Section type=\"content\">\n        <Grid gutter=\"md\">\n          { renderRequestDetails() }\n        </Grid>\n      </Section>\n    </Fragment>\n  );\n};\n\nexport default RequestDetail;\n","import React, { Fragment, useEffect, useReducer } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport { expandable } from '@patternfly/react-table';\nimport { fetchRequests, expandRequest } from '../../redux/actions/request-actions';\nimport ActionModal from './action-modal';\nimport { createRows } from './request-table-helpers';\nimport { TableToolbarView } from '../../presentational-components/shared/table-toolbar-view';\nimport RequestDetail from './request-detail/request-detail';\nimport { isRequestStateActive } from '../../helpers/shared/helpers';\nimport { TopToolbar, TopToolbarTitle } from '../../presentational-components/shared/top-toolbar';\nimport AppTabs from '../../smart-components/app-tabs/app-tabs';\nimport { defaultSettings } from '../../helpers/shared/pagination';\nimport asyncDebounce from '../../utilities/async-debounce';\nimport { scrollToTop } from '../../helpers/shared/helpers';\n\nconst columns = [{\n  title: 'Name',\n  cellFormatters: [ expandable ]\n},\n'Requester',\n'Opened',\n'Updated',\n'Status',\n'Decision'\n];\n\nconst debouncedFilter = asyncDebounce(\n  (filter, dispatch, filteringCallback, meta = defaultSettings) => {\n    filteringCallback(true);\n    dispatch(fetchRequests(filter, meta)).then(() =>\n      filteringCallback(false)\n    );\n  },\n  1000\n);\nconst initialState = {\n  filterValue: '',\n  isOpen: false,\n  isFetching: true,\n  isFiltering: false\n};\n\nconst requestsListState = (state, action) => {\n  switch (action.type) {\n    case 'setFetching':\n      return { ...state, isFetching: action.payload };\n    case 'setFilterValue':\n      return { ...state, filterValue: action.payload };\n    case 'setFilteringFlag':\n      return { ...state, isFiltering: action.payload };\n    default:\n      return state;\n  }\n};\n\nconst Requests = () => {\n  const [{ filterValue, isFetching, isFiltering }, stateDispatch ] = useReducer(\n    requestsListState,\n    initialState\n  );\n  const { data, meta } = useSelector(\n    ({ requestReducer: { requests }}) => requests\n  );\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    dispatch(\n      fetchRequests(filterValue, defaultSettings)\n    ).then(() => stateDispatch({ type: 'setFetching', payload: false }));\n    scrollToTop();\n  }, []);\n\n  const handleFilterChange = (value) => {\n    stateDispatch({ type: 'setFilterValue', payload: value });\n    debouncedFilter(\n      value,\n      dispatch,\n      (isFiltering) =>\n        stateDispatch({ type: 'setFilteringFlag', payload: isFiltering }),\n      {\n        ...meta,\n        offset: 0\n      }\n    );\n  };\n\n  const tabItems = [{ eventKey: 0, title: 'Request queue', name: '/requests' },\n    { eventKey: 1, title: 'Approval processes', name: '/workflows' }];\n\n  const routes = () => <Fragment>\n    <Route exact path=\"/requests/add_comment/:id\" render={ props => <ActionModal { ...props }\n      actionType={ 'Add Comment' }\n      postMethod={ fetchRequests } /> }/>\n    <Route exact path=\"/requests/approve/:id\" render={ props => <ActionModal { ...props } actionType={ 'Approve' }\n      postMethod={ fetchRequests }/> } />\n    <Route exact path=\"/requests/deny/:id\" render={ props => <ActionModal { ...props } actionType={ 'Deny' }\n      postMethod={ fetchRequests }/> } />\n  </Fragment>;\n\n  const areActionsDisabled = (requestData) => requestData &&\n    requestData.props ? !isRequestStateActive(requestData.props.state) || requestData.props.number_of_children > 0 : true;\n\n  const actionResolver = (requestData) => {\n    return (requestData && requestData.name && areActionsDisabled(requestData.name.title) ? null :\n      [\n        {\n          title: 'Comment',\n          onClick: () =>\n            history.push(`/requests/add_comment/${requestData.id}`)\n        }\n      ]);\n  };\n\n  const handlePagination = (_apiProps, pagination) => {\n    stateDispatch({ type: 'setFetching', payload: true });\n    dispatch(fetchRequests(filterValue, pagination))\n    .then(() => stateDispatch({ type: 'setFetching', payload: false }))\n    .catch(() => stateDispatch({ type: 'setFetching', payload: false }));\n  };\n\n  const onCollapse = (id, setRows, setOpen) => {\n    dispatch(expandRequest(id));\n    setRows((rows) => setOpen(rows, id));\n  };\n\n  const renderRequestsList = () => {\n    return (\n      <Fragment>\n        <TopToolbar>\n          <TopToolbarTitle title=\"Approval\"/>\n          <AppTabs tabItems={ tabItems }/>\n        </TopToolbar>\n        <TableToolbarView\n          data={ data }\n          createRows={ createRows }\n          columns={ columns }\n          fetchData={ handlePagination }\n          routes={ routes }\n          actionResolver={ actionResolver }\n          titlePlural=\"requests\"\n          titleSingular=\"request\"\n          pagination={ meta }\n          handlePagination={ handlePagination }\n          filterValue={ filterValue }\n          onFilterChange={ handleFilterChange }\n          isLoading={ isFetching || isFiltering }\n          onCollapse={ onCollapse }\n        />\n      </Fragment>);\n  };\n\n  return (\n    <Switch>\n      <Route path={ '/requests/detail/:id' } render={ props => <RequestDetail { ...props }/> } />\n      <Route path={ '/requests' } render={ () => renderRequestsList() } />\n    </Switch>\n  );\n};\n\nRequests.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }),\n  requests: PropTypes.array,\n  isLoading: PropTypes.bool\n};\n\nRequests.defaultProps = {\n  requests: [],\n  isLoading: false\n};\n\nexport default Requests;\n"],"sourceRoot":""}