{"version":3,"sources":["webpack:///./src/smart-components/request/expandable-content.js","webpack:///./src/smart-components/request/request-table-helpers.js","webpack:///./src/smart-components/request/requests.js","webpack:///./src/constants/routes.js","webpack:///./src/utilities/use-query.js","webpack:///./src/utilities/async-debounce.js","webpack:///./src/redux/actions/request-actions.js","webpack:///./src/presentational-components/shared/breadcrubms.js","webpack:///./src/presentational-components/shared/top-toolbar.js","webpack:///./src/helpers/request/request-helper.js","webpack:///./src/smart-components/app-tabs/app-tabs.js","webpack:///./src/presentational-components/shared/table-empty-state.js","webpack:///./src/presentational-components/shared/pf4-select-wrapper.js","webpack:///./src/smart-components/common/form-renderer.js","webpack:///./src/forms/request-comment-form.schema.js","webpack:///./src/smart-components/request/action-modal.js","webpack:///./src/presentational-components/shared/filter-toolbar-item.js","webpack:///./src/smart-components/common/async-pagination.js","webpack:///./src/presentational-components/shared/bottom-pagination-container.js","webpack:///./src/presentational-components/shared/table-toolbar-view.js"],"names":["ExpandedItem","title","detail","TextContent","Text","className","component","TextVariants","small","h5","propTypes","PropTypes","node","ExpandableContent","id","number_of_children","state","reason","requestActive","isRequestStateActive","useState","requestContent","setRequestContent","isLoading","setIsLoading","fetchStarted","setIsFetching","userPersona","useContext","UserContext","expandedRequests","useSelector","requestReducer","useEffect","includes","fetchRequestContent","then","data","Bullseye","Spinner","Level","LevelItem","product","isApprovalApprover","to","pathname","routes","requests","approve","search","Button","variant","aria-label","isDisabled","deny","portfolio","platform","string","content","object","number","uname","createRows","reduce","acc","key","name","requester_name","created_at","notified_at","finished_at","decision","isOpen","cells","request","index","timeAgo","parent","fullWidth","columns","cellFormatters","expandable","debouncedFilter","asyncDebounce","filter","dispatch","filteringCallback","persona","meta","defaultSettings","fetchRequests","initialState","filterValue","isFetching","isFiltering","requestsListState","action","type","payload","Requests","useReducer","stateDispatch","useDispatch","history","useHistory","scrollToTop","handleFilterChange","value","offset","handlePagination","_apiProps","pagination","isApprovalAdmin","tabItems","eventKey","fetchData","exact","path","routesLinks","addComment","render","props","actionType","postMethod","actionResolver","requestData","areActionsDisabled","onClick","push","titlePlural","titleSingular","onFilterChange","onCollapse","setRows","setOpen","expandRequest","rows","renderEmptyState","Icon","SearchIcon","PrimaryAction","description","array","bool","defaultProps","workflows","add","remove","editInfo","editGroups","editSequence","useQuery","requiredParams","useLocation","query","URLSearchParams","curr","get","asyncFunction","debounceTime","options","onlyResolvesLast","awesomeDebouncePromise","ActionTypes","RequestHelper","fetchRequest","apiProps","createRequestAction","actionName","requestId","actionIn","notifications","fulfilled","rejected","ApprovalBreadcrumbs","breadcrumbs","Breadcrumb","Object","values","map","item","BreadcrumbItem","isActive","arrayOf","shape","isRequired","TopToolbar","children","paddingBottom","oneOfType","TopToolbarTitle","h1","p","actionApi","getActionApi","graphqlInstance","getGraphqlInstance","undefined","paginationQuery","limit","filterQuery","fetchUrl","APPROVAL_API_BASE","fetchHeaders","getAxiosInstance","method","url","headers","fetchRequestTranscript","parent_id","APPROVAL_APPROVER_PERSONA","APPROVAL_REQUESTER_PERSONA","fetchRequestCapabilities","isParent","fetchRequestWithSubrequests","a","length","result","find","metadata","createAction","AppTabs","location","activeTab","activeKey","onSelect","_event","tabIndex","func","withRouter","TableEmptyState","renderDescription","centered","icon","any","Select","input","isReadOnly","FieldProvider","rest","FormSelect","inputValue","selectOptions","label","createOptions","FormSelectOption","toString","Pf4SelectWrapper","componentType","helperText","hideLabel","error","showError","touched","FormGroup","fieldId","isValid","helperTextInvalid","buttonPositioning","default","modal","buttonOrder","buttonClassName","FormRenderer","componentMapper","formContainer","formFieldsMapper","componentTypes","SELECT","layoutMapper","oneOf","schemaFields","isDeny","TEXTAREA_FIELD","createRequestCommentSchema","schema","validate","validatorTypes","REQUIRED","fields","ActionModal","addNotification","closeUrl","onCancel","dismissable","Modal","isLarge","onClose","schemaType","onSubmit","operationType","Approve","Deny","operation","match","connect","bindActionCreators","FilterToolbarItem","searchValue","placeholder","isClearable","ToolbarItem","TextInput","onChange","width","height","AsyncPagination","count","apiRequest","isCompact","Pagination","perPage","itemCount","onPerPageSelect","page","getCurrentPage","onSetPage","debounce","getNewPage","debouncePromise","direction","BottomPaginationContainer","TableToolbarView","isSelectable","toolbarButtons","setCheckedItems","row","setSelected","newData","selected","checkedItems","page-type","Toolbar","style","flex","ToolbarGroup","renderToolbar","Table","_index","_isOpen","dropDirection"],"mappings":"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","file":"js/requests.js","sourcesContent":["import React, { Fragment, useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { TextContent, Text, TextVariants, Level, LevelItem, Button, Bullseye, Spinner } from '@patternfly/react-core';\nimport { isApprovalApprover, isRequestStateActive } from '../../helpers/shared/helpers';\nimport { fetchRequestContent } from '../../helpers/request/request-helper';\nimport UserContext from '../../user-context';\nimport routes from '../../constants/routes';\n\nexport const ExpandedItem = ({ title = '', detail = '' }) => (\n  <TextContent>\n    <Text className=\"data-table-detail heading\" component={ TextVariants.small }>{ title }</Text>\n    <Text className=\"data-table-detail content\" component={ TextVariants.h5 }>{ detail }</Text>\n  </TextContent>\n);\n\nExpandedItem.propTypes = {\n  title: PropTypes.node,\n  detail: PropTypes.node\n};\n\nconst ExpandableContent = ({ id, number_of_children, state, reason }) => {\n  const requestActive = isRequestStateActive(state) && !number_of_children;\n  const [ requestContent, setRequestContent ] = useState([]);\n  const [ isLoading, setIsLoading ] = useState(true);\n  const [ fetchStarted, setIsFetching ] = useState(false);\n  const { userPersona: userPersona } = useContext(UserContext);\n  const expandedRequests = useSelector(({ requestReducer: { expandedRequests }}) => expandedRequests);\n\n  useEffect(() => {\n    if (!fetchStarted && isLoading && expandedRequests.includes(id)) {\n      setIsFetching(true);\n      fetchRequestContent(id).then((data) => { setRequestContent(data); setIsLoading(false); }).catch(() => setIsLoading(false));\n    }\n  }, [ expandedRequests ]);\n\n  if (isLoading) {\n    return (<Bullseye>\n      <Spinner/>\n    </Bullseye>);\n  }\n\n  return (\n    <Fragment>\n      <Level>\n        <LevelItem>\n          <ExpandedItem title=\"Product\" detail={ requestContent ? requestContent.product : 'Unknown' } />\n        </LevelItem>\n        { requestActive && isApprovalApprover(userPersona) && <LevelItem>\n          <Link to={ { pathname: routes.requests.approve, search: `request=${id}` } }  className=\"pf-u-mr-md\">\n            <Button variant=\"primary\" aria-label=\"Approve Request\" isDisabled={ !requestActive }>\n              Approve\n            </Button>\n          </Link>\n          <Link to={ { pathname: routes.requests.deny, search: `request=${id}` } }>\n            <Button variant=\"danger\" aria-label=\"Deny Request\">\n              Deny\n            </Button>\n          </Link>\n        </LevelItem>\n        }</Level>\n      <Level>\n        <LevelItem>\n          <ExpandedItem title=\"Portfolio\" detail={ requestContent ? requestContent.portfolio : 'Unknown' }/>\n          <ExpandedItem title=\"Platform\" detail={ requestContent ? requestContent.platform : 'Unknown' }/>\n          <ExpandedItem title=\"Reason\" detail={ reason ? reason : '' }/>\n        </LevelItem>\n      </Level>\n    </Fragment>\n  );\n};\n\nExpandableContent.propTypes = {\n  id: PropTypes.string,\n  content: PropTypes.object,\n  number_of_children: PropTypes.number,\n  uname: PropTypes.string,\n  state: PropTypes.string,\n  reason: PropTypes.string\n};\n\nexport default ExpandableContent;\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport ExpandableContent from './expandable-content';\nimport { timeAgo }  from '../../helpers/shared/helpers';\nimport routes from '../../constants/routes';\n\nexport const createRows = (data) =>\n  data.reduce((acc, { id,\n    name,\n    requester_name,\n    created_at,\n    notified_at,\n    finished_at,\n    state,\n    decision,\n    reason,\n    number_of_children\n  }, key) => ([\n    ...acc, {\n      id,\n      isOpen: false,\n      state,\n      number_of_children,\n      cells: [\n        <Fragment key={ id }><Link to={ { pathname: routes.request.index, search: `?request=${id}` } }>{ name }</Link></Fragment>,\n        requester_name,\n        timeAgo(created_at),\n        finished_at ? timeAgo(finished_at) : (notified_at ? timeAgo(notified_at) : timeAgo(created_at)),\n        state,\n        decision\n      ]\n    }, {\n      parent: key * 2,\n      fullWidth: true,\n      cells: [{\n        title: <ExpandableContent id={ id }\n          number_of_children={ number_of_children }\n          state={ state }\n          reason={ reason }/>\n      }]\n    }\n  ]), []);\n\n","import React, { Fragment, useEffect, useReducer, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, useHistory } from 'react-router-dom';\nimport { Button } from '@patternfly/react-core';\nimport { expandable } from '@patternfly/react-table';\nimport { fetchRequests, expandRequest } from '../../redux/actions/request-actions';\nimport ActionModal from './action-modal';\nimport { createRows } from './request-table-helpers';\nimport { TableToolbarView } from '../../presentational-components/shared/table-toolbar-view';\nimport { isApprovalAdmin, isApprovalApprover, isRequestStateActive } from '../../helpers/shared/helpers';\nimport { TopToolbar, TopToolbarTitle } from '../../presentational-components/shared/top-toolbar';\nimport AppTabs from '../../smart-components/app-tabs/app-tabs';\nimport { defaultSettings } from '../../helpers/shared/pagination';\nimport asyncDebounce from '../../utilities/async-debounce';\nimport { scrollToTop } from '../../helpers/shared/helpers';\nimport { SearchIcon } from '@patternfly/react-icons/dist/js/index';\nimport TableEmptyState from '../../presentational-components/shared/table-empty-state';\nimport UserContext from '../../user-context';\nimport routesLinks from '../../constants/routes';\n\nconst columns = [{\n  title: 'Name',\n  cellFormatters: [ expandable ]\n},\n'Requester',\n'Opened',\n'Updated',\n'Status',\n'Decision'\n];\n\nconst debouncedFilter = asyncDebounce(\n  (filter, dispatch, filteringCallback, persona, meta = defaultSettings) => {\n    filteringCallback(true);\n    dispatch(fetchRequests(filter, persona, meta)).then(() =>\n      filteringCallback(false)\n    );\n  },\n  1000\n);\nconst initialState = {\n  filterValue: '',\n  isOpen: false,\n  isFetching: true,\n  isFiltering: false\n};\n\nconst requestsListState = (state, action) => {\n  switch (action.type) {\n    case 'setFetching':\n      return { ...state, isFetching: action.payload };\n    case 'setFilterValue':\n      return { ...state, filterValue: action.payload };\n    case 'setFilteringFlag':\n      return { ...state, isFiltering: action.payload };\n    default:\n      return state;\n  }\n};\n\nconst Requests = () => {\n  const [{ filterValue, isFetching, isFiltering }, stateDispatch ] = useReducer(\n    requestsListState,\n    initialState\n  );\n  const { data, meta } = useSelector(\n    ({ requestReducer: { requests }}) => requests\n  );\n\n  const { userPersona: userPersona } = useContext(UserContext);\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    dispatch(\n      fetchRequests(filterValue, defaultSettings, userPersona)\n    ).then(() => stateDispatch({ type: 'setFetching', payload: false }));\n    scrollToTop();\n  }, []);\n\n  const handleFilterChange = (value) => {\n    stateDispatch({ type: 'setFilterValue', payload: value });\n    debouncedFilter(\n      value,\n      dispatch,\n      (isFiltering) =>\n        stateDispatch({ type: 'setFilteringFlag', payload: isFiltering }),\n      {\n        ...meta,\n        offset: 0\n      },\n      userPersona\n    );\n  };\n\n  const tabItems = [{ eventKey: 0, title: 'Request queue', name: '/requests' },\n    { eventKey: 1, title: 'Approval processes', name: '/workflows' }];\n\n  const routes = () => <Fragment>\n    <Route exact path={ routesLinks.requests.addComment } render={ props => <ActionModal { ...props }\n      actionType={ 'Add Comment' }\n      postMethod={ fetchRequests } /> }/>\n    <Route exact path={ routesLinks.requests.approve } render={ props => <ActionModal { ...props } actionType={ 'Approve' }\n      postMethod={ fetchRequests }/> } />\n    <Route exact path={ routesLinks.requests.deny } render={ props => <ActionModal { ...props } actionType={ 'Deny' }\n      postMethod={ fetchRequests }/> } />\n  </Fragment>;\n\n  const areActionsDisabled = (requestData) => requestData &&\n    requestData.state ?\n    !isRequestStateActive(requestData.state) || requestData.number_of_children > 0 || !isApprovalApprover(userPersona) : true;\n\n  const actionResolver = (requestData) => {\n    return (requestData && requestData.id && areActionsDisabled(requestData) ? null :\n      [\n        {\n          title: 'Comment',\n          onClick: () => history.push({\n            pathname: routesLinks.requests.addComment,\n            search: `?request=${requestData.id}`\n          })\n        }\n      ]);\n  };\n\n  const handlePagination = (_apiProps, pagination) => {\n    stateDispatch({ type: 'setFetching', payload: true });\n    dispatch(fetchRequests(filterValue, pagination, userPersona))\n    .then(() => stateDispatch({ type: 'setFetching', payload: false }))\n    .catch(() => stateDispatch({ type: 'setFetching', payload: false }));\n  };\n\n  const onCollapse = (id, setRows, setOpen) => {\n    dispatch(expandRequest(id));\n    setRows((rows) => setOpen(rows, id));\n  };\n\n  return (\n    <Fragment>\n      <TopToolbar>\n        <TopToolbarTitle title=\"Approval\"/>\n        { isApprovalAdmin(userPersona) && <AppTabs tabItems={ tabItems } /> }\n      </TopToolbar>\n      <TableToolbarView\n        data={ data }\n        createRows={ createRows }\n        columns={ columns }\n        fetchData={ handlePagination }\n        routes={ routes }\n        actionResolver={ actionResolver }\n        titlePlural=\"requests\"\n        titleSingular=\"request\"\n        pagination={ meta }\n        handlePagination={ handlePagination }\n        filterValue={ filterValue }\n        onFilterChange={ handleFilterChange }\n        isLoading={ isFetching || isFiltering }\n        onCollapse={ onCollapse }\n        renderEmptyState={ () => (\n          <TableEmptyState\n            title={ filterValue === '' ? 'No requests' : 'No results found' }\n            Icon={ SearchIcon }\n            PrimaryAction={ () =>\n              filterValue !== '' ? (\n                <Button onClick={ () => handleFilterChange('') } variant=\"link\">\n                            Clear all filters\n                </Button>\n              ) : null\n            }\n            description={\n              filterValue === ''\n                ? ''\n                : 'No results match the filter criteria. Remove all filters or clear all filters to show results.'\n            }\n          />\n        ) }\n      />\n    </Fragment>);\n};\n\nRequests.propTypes = {\n  requests: PropTypes.array,\n  isLoading: PropTypes.bool\n};\n\nRequests.defaultProps = {\n  requests: [],\n  isLoading: false\n};\n\nexport default Requests;\n","const routes = {\n  requests: {\n    index: '/requests',\n    addComment: '/requests/add-comment',\n    approve: '/requests/approve',\n    deny: '/requests/deny'\n  },\n  request: {\n    index: '/request',\n    addComment: '/request/add-comment',\n    approve: '/request/approve',\n    deny: '/request/deny'\n  },\n  workflows: {\n    index: '/workflows',\n    add: '/workflows/add-workflow',\n    remove: '/workflows/remove',\n    editInfo: '/workflows/edit-info',\n    editGroups: '/workflows/edit-groups',\n    editSequence: '/workflows/edit-sequence'\n  }\n};\n\nexport default routes;\n","import { useLocation } from 'react-router-dom';\n\nconst useQuery = (requiredParams = []) => {\n  const { search } = useLocation();\n  const query = new URLSearchParams(search);\n  return [\n    requiredParams.reduce(\n      (acc, curr) => ({\n        ...acc,\n        [curr]: query.get(curr)\n      }),\n      {}\n    ),\n    search,\n    query\n  ];\n};\n\nexport default useQuery;\n","import awesomeDebouncePromise from 'awesome-debounce-promise';\n\nexport default (\n  asyncFunction,\n  debounceTime = 250,\n  options = { onlyResolvesLast: false }\n) => awesomeDebouncePromise(asyncFunction, debounceTime, options);\n","import * as ActionTypes from '../action-types';\nimport * as RequestHelper from '../../helpers/request/request-helper';\n\nexport const fetchRequests = (filter, pagination, persona) => ({\n  type: ActionTypes.FETCH_REQUESTS,\n  payload: RequestHelper.fetchRequests(filter, pagination, persona)\n});\n\nexport const fetchRequest = (apiProps, persona) => ({\n  type: ActionTypes.FETCH_REQUEST,\n  payload: RequestHelper.fetchRequestWithSubrequests(apiProps, persona)\n});\n\nexport const fetchRequestContent = (apiProps, persona) => ({\n  type: ActionTypes.FETCH_REQUEST_CONTENT,\n  payload: RequestHelper.fetchRequestContent(apiProps, persona)\n});\n\nexport const createRequestAction = (actionName, requestId, actionIn) => ({\n  type: ActionTypes.CREATE_REQUEST_ACTION,\n  payload: RequestHelper.createRequestAction(requestId, actionIn),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success',\n        description: `The ${actionName} was successful.`\n      },\n      rejected: {\n        variant: 'danger',\n        title: `${actionName} error`,\n        description: `The ${actionName} action failed.`\n      }\n    }\n  }\n});\n\nexport const expandRequest = (id) => ({\n  type: ActionTypes.EXPAND_REQUEST,\n  payload: id\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport { Breadcrumb, BreadcrumbItem } from '@patternfly/react-core';\n\nconst ApprovalBreadcrumbs = ({ breadcrumbs }) => breadcrumbs\n  ? (\n    <Breadcrumb>\n      { Object.values(breadcrumbs).map(item => (\n        <BreadcrumbItem key={ item.title } isActive={ item.isActive }>\n          { (item.to && <NavLink isActive={ () => false } exact to={ item.to }>{ item.title }</NavLink>) || item.title }\n        </BreadcrumbItem>\n      )) }\n    </Breadcrumb>\n  ) : null;\n\nApprovalBreadcrumbs.propTypes = {\n  breadcrumbs: PropTypes.arrayOf(PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    isActive: PropTypes.bool,\n    to: PropTypes.string\n  }))\n};\n\nexport default ApprovalBreadcrumbs;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Level, LevelItem, Text, TextContent, TextVariants  } from '@patternfly/react-core';\nimport { ToolbarTitlePlaceholder } from './loader-placeholders';\nimport ApprovalBreadcrumbs from './breadcrubms';\n\nimport './top-toolbar.scss';\n\nexport const TopToolbar = ({ children,  breadcrumbs, paddingBottom }) => (\n  <div className={ `pf-u-pt-lg pf-u-pr-lg pf-u-pl-lg ${paddingBottom ? 'pf-u-pb-sm' : ''} top-toolbar` }>\n    { breadcrumbs && (<Level className=\"pf-u-mb-md\">\n      <ApprovalBreadcrumbs breadcrumbs={ breadcrumbs } />\n    </Level>)\n    }\n    { children }\n  </div>\n);\n\nTopToolbar.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node\n  ]).isRequired,\n  breadcrumbs: PropTypes.array,\n  paddingBottom: PropTypes.bool\n};\n\nTopToolbar.defaultProps = {\n  paddingBottom: false\n};\n\nexport const TopToolbarTitle = ({ title, description, children }) => (\n  <Fragment>\n    <Level>\n      <LevelItem>\n        <TextContent className=\"pf-u-mb-sm\">\n          { <Text component={ TextVariants.h1 }>{ title || <ToolbarTitlePlaceholder /> }</Text> }\n        </TextContent>\n        { description &&\n              <TextContent className=\"pf-u-pt-sm pf-u-mb-md\">\n                <Text component={ TextVariants.p }>{ description }</Text>\n              </TextContent> }\n      </LevelItem>\n      { children }\n    </Level>\n  </Fragment>\n);\n\nTopToolbarTitle.propTypes = {\n  title: PropTypes.string,\n  description: PropTypes.string,\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node)\n  ])\n};\n","import { getActionApi, getAxiosInstance, getGraphqlInstance } from '../shared/user-login';\nimport { APPROVAL_API_BASE } from '../../utilities/constants';\nimport { defaultSettings } from '../shared/pagination';\nimport { APPROVAL_REQUESTER_PERSONA, APPROVAL_APPROVER_PERSONA } from '../shared/helpers';\n\nconst actionApi = getActionApi();\nconst graphqlInstance = getGraphqlInstance();\n\nexport function fetchRequests(filter = '', pagination = defaultSettings, persona = undefined) {\n  const paginationQuery = `&limit=${pagination.limit}&offset=${pagination.offset}`;\n  const filterQuery = `filter[name][contains_i]=${filter}`;\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/?${filterQuery}${paginationQuery}`;\n  const fetchHeaders = persona ? { 'x-rh-persona': persona } : undefined;\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n}\n\nconst requestTranscriptQuery = (parent_id) => `query {\n  requests(id: \"${parent_id}\") {\n    id\n    name\n    number_of_children\n    decision\n    description\n    group_name\n    number_of_finished_children\n    state\n    actions {\n      id\n      operation\n      comments\n      created_at\n      processed_by\n    }\n    requests {\n      id\n      name\n      number_of_children\n      decision\n      description\n      group_name\n      number_of_finished_children\n      state\n      workflow_id\n      parent_id\n      actions {\n        id\n        operation\n        comments\n        created_at\n        processed_by\n      }\n    }\n  }\n}`;\n\nexport const fetchRequestTranscript = (requestId, persona) => {\n  const fetchHeaders = (persona && persona !== APPROVAL_APPROVER_PERSONA) ? { 'x-rh-persona': persona }\n    : { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return graphqlInstance({ method: 'post', url: `${APPROVAL_API_BASE}/graphql`,\n    headers: fetchHeaders, data: { query: requestTranscriptQuery(requestId) }})\n  .then(({ data: { requests }}) => requests);\n};\n\nexport const fetchRequestContent = (id) => {\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/${id}/content`;\n  const fetchHeaders = { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n};\n\nexport const fetchRequestCapabilities = (id, isParent) => {\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/${id}${isParent ? '/requests' : ''}`;\n  const fetchHeaders = { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n};\n\nexport async function fetchRequestWithSubrequests(id, persona) {\n  const requestData = await fetchRequestTranscript(id, persona);\n\n  if (!requestData || requestData.length === 0) { return {}; }\n\n  if (persona === APPROVAL_APPROVER_PERSONA) {\n    if (requestData && requestData.length > 0 && requestData[0].number_of_children > 0) {\n      const result = await fetchRequestCapabilities(id, true);\n\n      if (result && result.data) {\n        requestData[0].requests = requestData[0].requests.map(request => {\n          return { ...result.data.find((item) => (item.id === request.id) && item.metadata),\n            ...request };\n        });\n      }\n    }\n    else {\n      const request = await fetchRequestCapabilities(id, false);\n      if (request) {\n        requestData[0] = { ...requestData[0], metadata: request.metadata };\n      }\n    }\n  }\n\n  return  { ...requestData[0] };\n}\n\nexport async function createRequestAction (requestId, actionIn) {\n  return await actionApi.createAction(requestId, actionIn);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { Tabs, Tab } from '@patternfly/react-core';\n\nconst AppTabs = ({ history: { push }, location: { pathname }, tabItems }) => {\n  const activeTab = tabItems.find(({ name }) => pathname.includes(name));\n  const handleTabClick = (_event, tabIndex) => push(tabItems[tabIndex].name);\n\n  return (\n    <Tabs className=\"pf-u-mt-sm\" activeKey={ activeTab ? activeTab.eventKey : 0 } onSelect={ handleTabClick }>\n      { tabItems.map((item) => <Tab title={ item.title } key={ item.eventKey } eventKey={ item.eventKey } name={ item.name }/>) }\n    </Tabs>\n  );\n};\n\nAppTabs.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired\n  }),\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }),\n  tabItems: PropTypes.array.isRequired\n};\n\nexport default withRouter(AppTabs);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Button,\n  EmptyState,\n  EmptyStateIcon,\n  EmptyStateBody,\n  EmptyStateSecondaryActions,\n  Text,\n  TextContent,\n  TextVariants\n} from '@patternfly/react-core';\nimport { EmptyTable } from '@redhat-cloud-services/frontend-components';\nimport { Link }  from 'react-router-dom';\n\nconst TableEmptyState = ({\n  title,\n  Icon,\n  description,\n  PrimaryAction,\n  renderDescription\n}) => (\n  <EmptyTable centered\n    aria-label=\"No records\"\n  >\n    <EmptyState className=\"pf-u-ml-auto pf-u-mr-auto\">\n      <EmptyStateIcon icon={ Icon } />\n      <TextContent>\n        <Text component={ TextVariants.h1 }>{ title }</Text>\n      </TextContent>\n      <EmptyStateBody>\n        { description }\n        { renderDescription() }\n      </EmptyStateBody>\n      <EmptyStateSecondaryActions>\n        { PrimaryAction && <PrimaryAction /> }\n      </EmptyStateSecondaryActions>\n    </EmptyState>\n  </EmptyTable>\n);\n\nTableEmptyState.defaultProps = {\n  renderDescription: () => null\n};\n\nTableEmptyState.propTypes = {\n  title: PropTypes.string.isRequired,\n  Icon: PropTypes.any.isRequired,\n  description: PropTypes.string.isRequired,\n  PrimaryAction: PropTypes.any,\n  renderDescription: PropTypes.func\n};\n\nexport default TableEmptyState;\n\nexport const EmptyStatePrimaryAction = ({ url, label }) => (\n  <Link to={ url }>\n    <Button variant=\"secondary\">{ label }</Button>\n  </Link>\n);\n\nEmptyStatePrimaryAction.propTypes = {\n  url: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormSelect, FormSelectOption, FormGroup, TextContent, Text, TextVariants } from '@patternfly/react-core';\n\nconst createOptions = (options, inputValue, isRequired) => {\n  if (inputValue && isRequired) {\n    return options;\n  }\n\n  const selectOptions = [ ...options ];\n  return selectOptions.find(({ value }) => value === undefined)\n    ? [ ...selectOptions ]\n    : [{ label: isRequired ? 'Please choose' : 'None' }, ...selectOptions ];\n};\n\nconst Select = ({\n  input,\n  options,\n  isReadOnly,\n  isDisabled,\n  FieldProvider,\n  isRequired,\n  ...rest\n}) => (\n  <FormSelect { ...input } { ...rest } isDisabled={ isDisabled || isReadOnly }>\n    { createOptions(options, input.value, isRequired).map((props) => (\n      <FormSelectOption key={ props.value || props.label } { ...props } label={ props.label.toString() }/> // eslint-disable-line react/prop-types\n    )) }\n  </FormSelect>\n);\n\nSelect.propTypes = {\n  input: PropTypes.object.isRequired,\n  options: PropTypes.arrayOf(PropTypes.shape({\n    value: PropTypes.any,\n    label: PropTypes.string.isRequired\n  })).isRequired,\n  isReadOnly: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  isRequired: PropTypes.bool,\n  FieldProvider: PropTypes.any\n};\n\nconst Pf4SelectWrapper = ({\n  componentType,\n  label,\n  isRequired,\n  helperText,\n  meta,\n  description,\n  hideLabel,\n  ...rest\n}) => {\n  const { error, touched } = meta;\n  const showError = touched && error;\n\n  return (\n    <FormGroup\n      isRequired={ isRequired }\n      label={ !hideLabel && label }\n      fieldId={ rest.id }\n      isValid={ !showError }\n      helperText={ helperText }\n      helperTextInvalid={ meta.error }\n    >\n      { description && <TextContent><Text component={ TextVariants.small }>{ description }</Text></TextContent> }\n      <Select label={ label } isValid={ !showError } isRequired={ isRequired } { ...rest }/>\n    </FormGroup>\n  );\n};\n\nPf4SelectWrapper.propTypes = {\n  componentType: PropTypes.string,\n  label: PropTypes.string,\n  isRequired: PropTypes.bool,\n  helperText: PropTypes.string,\n  meta: PropTypes.object,\n  description: PropTypes.string,\n  hideLabel: PropTypes.bool\n};\n\nexport default Pf4SelectWrapper;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactFormRender, { componentTypes } from '@data-driven-forms/react-form-renderer';\nimport { layoutMapper, formFieldsMapper } from '@data-driven-forms/pf4-component-mapper';\nimport Pf4SelectWrapper from '../../presentational-components/shared/pf4-select-wrapper';\n\nconst buttonPositioning = {\n  default: {},\n  modal: {\n    buttonOrder: [ 'cancel', 'reset', 'save' ],\n    buttonClassName: 'modal-form-right-align'\n  }\n};\n\nconst FormRenderer = ({ componentMapper, formContainer, ...rest }) => (\n  <div className={ buttonPositioning[formContainer].buttonClassName }>\n    <ReactFormRender\n      formFieldsMapper={ {\n        ...formFieldsMapper,\n        componentMapper,\n        [componentTypes.SELECT]: Pf4SelectWrapper\n      } }\n      layoutMapper={ layoutMapper }\n      { ...buttonPositioning[formContainer] }\n      { ...rest }\n    />\n  </div>\n);\n\nFormRenderer.propTypes = {\n  componentMapper: PropTypes.object,\n  formContainer: PropTypes.oneOf([ 'default', 'modal' ])\n};\n\nFormRenderer.defaultProps = {\n  componentMapper: {},\n  formContainer: 'default'\n};\n\nexport default FormRenderer;\n","import { componentTypes, validatorTypes } from '@data-driven-forms/react-form-renderer';\n\nconst schemaFields = (isDeny) =>({\n  component: componentTypes.TEXTAREA_FIELD,\n  name: 'comments',\n  type: 'text',\n  isRequired: isDeny,\n  label: isDeny ? 'Reason' : 'Comment'\n});\n\nexport const createRequestCommentSchema = (isDeny = false) => {\n  const schema = schemaFields(isDeny);\n  if (isDeny) {\n    schema.validate = [{\n      type: validatorTypes.REQUIRED\n    }];\n  }\n\n  return { fields: [ schema ]};\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FormRenderer from '../common/form-renderer';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Modal } from '@patternfly/react-core';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications';\nimport { createRequestAction } from '../../redux/actions/request-actions';\nimport { createRequestCommentSchema } from '../../forms/request-comment-form.schema';\nimport useQuery from '../../utilities/use-query';\nimport routes from '../../constants/routes';\n\nconst ActionModal = ({\n  actionType,\n  addNotification,\n  createRequestAction,\n  closeUrl,\n  postMethod\n}) => {\n  const { push } = useHistory();\n  const [{ request: id }] = useQuery([ 'request' ]);\n\n  const onSubmit = (data) => {\n    const operationType = { 'Add Comment': 'memo', Approve: 'approve', Deny: 'deny' };\n    const actionName = actionType === 'Add Comment' ? actionType : `${actionType} Request`;\n    return postMethod ?\n      createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => postMethod()).then(() => push(closeUrl))\n      : createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => push(closeUrl));\n  };\n\n  const onCancel = () => {\n    const actionName = actionType === 'Add Comment' ? actionType : `${actionType} Request`;\n    addNotification({\n      variant: 'warning',\n      title: actionName,\n      dismissable: true,\n      description: `${actionName} was cancelled by the user.`\n    });\n    push(closeUrl);\n  };\n\n  return (\n    <Modal\n      isLarge\n      title={ actionType === 'Add Comment' ? `Request #${id}` : `${actionType} Request #${id}` }\n      isOpen\n      onClose={ onCancel }\n    >\n      <FormRenderer\n        schema={ createRequestCommentSchema (actionType === 'Deny') }\n        schemaType=\"default\"\n        onSubmit={ onSubmit }\n        onCancel={ onCancel }\n        formContainer=\"modal\"\n      />\n    </Modal>\n  );\n};\n\nActionModal.defaultProps = {\n  closeUrl: routes.requests.index\n};\n\nActionModal.propTypes = {\n  addNotification: PropTypes.func.isRequired,\n  createRequestAction: PropTypes.func.isRequired,\n  postMethod: PropTypes.func,\n  id: PropTypes.string,\n  actionType: PropTypes.string,\n  closeUrl: PropTypes.string,\n  match: PropTypes.object,\n  location: PropTypes.object\n};\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  addNotification,\n  createRequestAction\n}, dispatch);\n\nexport default connect(null, mapDispatchToProps)(ActionModal);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { SearchIcon, CloseIcon } from '@patternfly/react-icons';\nimport { ToolbarItem, TextInput } from '@patternfly/react-core';\n\nconst FilterToolbarItem = ({\n  searchValue,\n  onFilterChange,\n  placeholder,\n  isClearable\n}) => (\n  <ToolbarItem>\n    <div className=\"toolbar-filter-input-group\">\n      <TextInput\n        placeholder={ placeholder }\n        value={ searchValue }\n        type=\"text\"\n        onChange={ onFilterChange }\n        aria-label={ placeholder }\n      />\n      <span className=\"filter-icons-container\">\n        { (isClearable && searchValue && (\n          <CloseIcon\n            className=\"clear-filter\"\n            width=\"16\"\n            height=\"16\"\n            onClick={ () => onFilterChange('') }\n          />\n        )) || <SearchIcon /> }\n      </span>\n    </div>\n  </ToolbarItem>\n);\n\nFilterToolbarItem.propTypes = {\n  onFilterChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  searchValue: PropTypes.string,\n  isClearable: PropTypes.bool\n};\n\nFilterToolbarItem.defaultProps = {\n  searchValue: '',\n  isClearable: false\n};\n\nexport default FilterToolbarItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport debouncePromise from 'awesome-debounce-promise';\n\nimport { Pagination } from '@patternfly/react-core';\n\nimport { getCurrentPage, getNewPage } from '../../helpers/shared/pagination';\n\nconst AsyncPagination = ({\n  meta: { limit, count, offset },\n  apiProps,\n  apiRequest,\n  className,\n  isCompact,\n  ...props\n}) => {\n  const handleOnPerPageSelect = (_event, limit) =>\n    apiRequest(apiProps, {\n      offset,\n      limit\n    });\n\n  const handleSetPage = (_event, number, debounce) => {\n    const options = {\n      offset: getNewPage(number, limit),\n      limit\n    };\n\n    const request = () => apiRequest(apiProps, options);\n    if (debounce) {\n      return debouncePromise(request, 250)();\n    }\n\n    return request();\n  };\n\n  return (\n    <div className={ className }>\n      <Pagination\n        perPage={ limit || 50 }\n        itemCount={ count || 0 }\n        onPerPageSelect={ handleOnPerPageSelect }\n        page={ getCurrentPage(limit, offset) }\n        onSetPage={ handleSetPage }\n        direction=\"down\"\n        isCompact={ isCompact }\n        { ...props }\n      />\n    </div>\n  );\n};\n\nAsyncPagination.propTypes = {\n  meta: PropTypes.shape({\n    count: PropTypes.number,\n    limit: PropTypes.number.isRequired,\n    offset: PropTypes.number.isRequired\n  }),\n  apiRequest: PropTypes.func.isRequired,\n  apiProps: PropTypes.any,\n  className: PropTypes.string,\n  isCompact: PropTypes.bool\n};\n\nAsyncPagination.defaultProps = {\n  meta: {\n    count: 0,\n    limit: 50,\n    offset: 0\n  },\n  className: '',\n  isCompact: false\n};\n\nexport default AsyncPagination;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst BottomPaginationContainer = ({ children }) => (\n  <div className=\"pf-u-p-lg pf-u-pt-md pf-u-pb-md global-primary-background pf-u-mt-auto\">\n    { children }\n  </div>\n);\n\nBottomPaginationContainer.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node)\n  ])\n};\n\nexport default BottomPaginationContainer;\n","\nimport React, { Fragment, useEffect, useState } from 'react';\nimport propTypes from 'prop-types';\nimport { Toolbar, ToolbarGroup, ToolbarItem, Level, LevelItem } from '@patternfly/react-core';\nimport { Table, TableHeader, TableBody } from '@patternfly/react-table';\nimport { defaultSettings  } from '../../helpers/shared/pagination';\nimport FilterToolbar from '../../presentational-components/shared/filter-toolbar-item';\nimport { Section } from '@redhat-cloud-services/frontend-components';\nimport { DataListLoader } from './loader-placeholders';\nimport AsyncPagination from '../../smart-components/common/async-pagination';\nimport BottomPaginationContainer from '../../presentational-components/shared/bottom-pagination-container';\n\n/**\n * Need to optimize this component\n * There is 7 renders before first table render\n * Should be just 2 - Loader -> Table\n */\n\nexport const TableToolbarView = ({\n  isSelectable,\n  createRows,\n  columns,\n  fetchData,\n  toolbarButtons,\n  data,\n  actionResolver,\n  routes,\n  titlePlural,\n  titleSingular,\n  pagination,\n  setCheckedItems,\n  filterValue,\n  onFilterChange,\n  isLoading,\n  onCollapse,\n  renderEmptyState\n}) => {\n  const [ rows, setRows ] = useState([]);\n\n  useEffect(() => {\n    setRows(createRows(data));\n  }, [ data ]);\n\n  const setOpen = (data, id) => data.map(row => row.id === id ?\n    {\n      ...row,\n      isOpen: !row.isOpen\n    } : {\n      ...row\n    });\n\n  const setSelected = (data, id) => {\n    const newData = data.map(row => row.id === id ?\n      {\n        ...row,\n        selected: !row.selected\n      } : {\n        ...row\n      });\n\n    const checkedItems = newData.filter(item => (item.id && item.selected));\n    setCheckedItems(checkedItems);\n    return newData;\n  };\n\n  const onCollapseInternal = (_event, _index, _isOpen, { id }) => onCollapse ?\n    onCollapse(id, setRows, setOpen) :\n    setRows((rows) => setOpen(rows, id));\n\n  const selectRow = (_event, selected, index, { id } = {}) => index === -1\n    ? setRows(rows.map(row => ({ ...row, selected })))\n    : setRows((rows) => setSelected(rows, id));\n\n  const renderToolbar = (isLoading) => {\n    return (<Toolbar className={ `pf-u-pt-lg pf-u-pr-lg pf-u-pl-lg pf-u-pb-lg top-toolbar` }>\n      <Level style={ { flex: 1 } }>\n        <LevelItem>\n          <Toolbar>\n            <FilterToolbar onFilterChange={ onFilterChange } searchValue={ filterValue } isClearable={ true }\n              placeholder={ `Filter by ${titleSingular}` }/>\n            { toolbarButtons() }\n          </Toolbar>\n        </LevelItem>\n\n        <LevelItem>\n          <Toolbar>\n            <ToolbarGroup>\n              <ToolbarItem>\n                <AsyncPagination\n                  apiRequest={ fetchData }\n                  isDisabled={ isLoading }\n                  meta={ pagination }\n                  isCompact\n                />\n              </ToolbarItem>\n            </ToolbarGroup>\n          </Toolbar>\n        </LevelItem>\n      </Level>\n    </Toolbar>);\n  };\n\n  return (\n    <Section type=\"content\" page-type={ `tab-${titlePlural}` } id={ `tab-${titlePlural}` }>\n      { routes() }\n      { renderToolbar(isLoading) }\n      { isLoading && <DataListLoader/> }\n      { !isLoading && rows.length === 0 ? (\n        renderEmptyState()\n      ) :\n        <Fragment>\n          { !isLoading &&\n          <Table\n            aria-label={ `${titlePlural} table` }\n            onCollapse={ onCollapseInternal }\n            rows={ rows }\n            cells={ columns }\n            onSelect={ isSelectable && selectRow }\n            actionResolver={ actionResolver }\n            className=\"table-fix\"\n          >\n            <TableHeader />\n            <TableBody/>\n          </Table> }\n          { pagination.count > 0 &&\n            <BottomPaginationContainer>\n              <AsyncPagination\n                dropDirection=\"up\"\n                meta={ pagination }\n                apiRequest={ fetchData }\n              />\n            </BottomPaginationContainer>\n          }\n        </Fragment>\n      }\n    </Section>);\n};\n\nTableToolbarView.propTypes = {\n  isSelectable: propTypes.bool,\n  createRows: propTypes.func.isRequired,\n  columns: propTypes.array.isRequired,\n  toolbarButtons: propTypes.func,\n  fetchData: propTypes.func.isRequired,\n  data: propTypes.array,\n  pagination: propTypes.shape({\n    limit: propTypes.number,\n    offset: propTypes.number,\n    count: propTypes.number\n  }),\n  titlePlural: propTypes.string,\n  titleSingular: propTypes.string,\n  routes: propTypes.func,\n  actionResolver: propTypes.func,\n  setCheckedItems: propTypes.func,\n  filterValue: propTypes.string,\n  onFilterChange: propTypes.func,\n  isLoading: propTypes.bool,\n  onCollapse: propTypes.func,\n  renderEmptyState: propTypes.func\n};\n\nTableToolbarView.defaultProps = {\n  requests: [],\n  isLoading: false,\n  pagination: defaultSettings,\n  toolbarButtons: () => null,\n  isSelectable: null,\n  routes: () => null,\n  renderEmptyState: () => null\n};\n"],"sourceRoot":""}