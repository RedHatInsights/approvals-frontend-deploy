{"version":3,"sources":["webpack:///./src/redux/actions/request-actions.js","webpack:///./src/helpers/request/request-helper.js","webpack:///./src/forms/request-comment-form.schema.js","webpack:///./src/smart-components/request/action-modal.js","webpack:///./src/smart-components/request/expandable-content.js","webpack:///./src/smart-components/request/request-table-helpers.js","webpack:///./src/smart-components/request/chips-helpers.js","webpack:///./src/smart-components/request/requests-list.js","webpack:///./node_modules/lodash/isEmpty.js","webpack:///./node_modules/lodash/_baseKeys.js","webpack:///./node_modules/lodash/_overArg.js","webpack:///./node_modules/lodash/_getTag.js","webpack:///./node_modules/lodash/isArguments.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./node_modules/lodash/isArrayLike.js","webpack:///./node_modules/lodash/isFunction.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/lodash/isLength.js","webpack:///./node_modules/lodash/isBuffer.js","webpack:///./node_modules/lodash/_isPrototype.js","webpack:///./node_modules/lodash/isTypedArray.js","webpack:///./src/smart-components/request/allrequests.js","webpack:///./src/smart-components/request/EmptyRequestList.js","webpack:///./src/smart-components/request/requests.js"],"names":["fetchRequests","persona","pagination","dispatch","getState","requestReducer","sortBy","requests","filterValue","finalPagination","defaultSettings","meta","limit","offset","type","ActionTypes","payload","RequestHelper","fetchRequest","apiProps","fetchRequestContent","createRequestAction","actionName","requestId","actionIn","notifications","fulfilled","variant","title","description","rejected","expandRequest","id","sortRequests","setFilterValueRequests","clearFilterValueRequests","resetRequestList","actionApi","getActionApi","graphqlInstance","getGraphqlInstance","sortPropertiesMapper","property","opened","requester","status","filterQuery","query","name","push","forEach","state","decision","dec","join","filter","undefined","paginationQuery","Math","max","sortQuery","direction","fetchUrl","APPROVAL_API_BASE","fetchHeaders","getAxiosInstance","method","url","headers","fetchRequestTranscript","parent_id","APPROVAL_APPROVER_PERSONA","APPROVAL_REQUESTER_PERSONA","data","then","fetchRequestCapabilities","isParent","fetchRequestWithSubrequests","a","requestData","length","number_of_children","result","map","request","find","item","metadata","createAction","createRequestCommentSchema","isDeny","fields","component","componentTypes","TEXTAREA","isRequired","label","validate","validatorTypes","REQUIRED","ActionModal","actionType","closeUrl","postMethod","useHistory","useQuery","onCancel","Modal","isOpen","onClose","schema","onSubmit","operationType","Approve","Deny","operation","formContainer","defaultProps","routes","index","propTypes","PropTypes","func","string","oneOfType","shape","patname","search","connect","bindActionCreators","ExpandedItem","detail","TextContent","Text","className","TextVariants","small","p","node","ExpandableContent","reason","actionsDisabled","requestActive","isRequestStateActive","useState","requestContent","setRequestContent","isLoading","setIsLoading","fetchStarted","setIsFetching","userRoles","useContext","UserContext","expandedRequests","useSelector","isApprovalAdmin","useIsApprovalAdmin","isApprovalApprover","useIsApprovalApprover","useEffect","includes","Bullseye","Spinner","Level","LevelItem","product","to","pathname","approve","Button","aria-label","isDisabled","deny","portfolio","platform","content","object","number","uname","bool","decisionDisplayName","decisionValues","displayName","createRows","reduce","acc","key","cells","requester_name","timeAgo","created_at","finished_at","notified_at","icon","parent","fullWidth","prepareChips","category","chips","value","stat","columns","cellFormatters","expandable","transforms","sortable","cellWidth","wrappable","debouncedFilter","asyncDebounce","filteringCallback","updateFilter","requestsListState","action","isFetching","nameValue","requesterValue","isFiltering","RequestsList","actionResolver","shallowEqual","useReducer","initialState","stateDispatch","useDispatch","intl","useIntl","updateRequests","scrollToTop","handleFilterChange","debouncedValue","clearFilters","onSort","_e","fetchData","titlePlural","titleSingular","handlePagination","onFilterChange","onCollapse","setRows","setOpen","rows","renderEmptyState","isEmpty","Icon","SearchIcon","PrimaryAction","onClick","activeFiltersConfig","filters","onDelete","chip","deleteAll","newValue","val","filterConfig","formatMessage","defaultMessage","filterValues","placeholder","onChange","_event","items","baseKeys","getTag","isArguments","isArray","isArrayLike","isBuffer","isPrototype","isTypedArray","hasOwnProperty","Object","prototype","module","exports","splice","tag","size","call","nativeKeys","overArg","keys","transform","arg","nativeObjectToString","toString","Array","isFunction","isLength","baseGetTag","isObject","AllRequests","APPROVAL_ADMIN_PERSONA","EmptyRequestList","EmptyState","EmptyStateIcon","h1","EmptyStateBody","EmptyStateSecondaryActions","Requests","history","exact","path","routesLinks","addComment","render","props"],"mappings":"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","file":"js/requests~31ecd969.24db51b91e4f3a3217f3.js","sourcesContent":["import * as ActionTypes from '../action-types';\nimport * as RequestHelper from '../../helpers/request/request-helper';\nimport { defaultSettings } from '../../helpers/shared/pagination';\n\nexport const fetchRequests = (persona, pagination) => (dispatch, getState) => {\n  const { sortBy, requests, filterValue } = getState().requestReducer;\n\n  let finalPagination = pagination || defaultSettings;\n\n  if (!pagination && requests) {\n    const { limit, offset } = requests.meta;\n    finalPagination = { limit, offset };\n  }\n\n  return dispatch({\n    type: ActionTypes.FETCH_REQUESTS,\n    payload: RequestHelper.fetchRequests(filterValue, finalPagination, persona, sortBy)\n  });\n};\n\nexport const fetchRequest = (apiProps, persona) => ({\n  type: ActionTypes.FETCH_REQUEST,\n  payload: RequestHelper.fetchRequestWithSubrequests(apiProps, persona)\n});\n\nexport const fetchRequestContent = (apiProps, persona) => ({\n  type: ActionTypes.FETCH_REQUEST_CONTENT,\n  payload: RequestHelper.fetchRequestContent(apiProps, persona)\n});\n\nexport const createRequestAction = (actionName, requestId, actionIn) => ({\n  type: ActionTypes.CREATE_REQUEST_ACTION,\n  payload: RequestHelper.createRequestAction(requestId, actionIn),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success',\n        description: `The ${actionName} was successful.`\n      },\n      rejected: {\n        variant: 'danger',\n        title: `${actionName} error`,\n        description: `The ${actionName} action failed.`\n      }\n    }\n  }\n});\n\nexport const expandRequest = (id) => ({\n  type: ActionTypes.EXPAND_REQUEST,\n  payload: id\n});\n\nexport const sortRequests = (sortBy) => ({\n  type: ActionTypes.SORT_REQUESTS,\n  payload: sortBy\n});\n\nexport const setFilterValueRequests = (filterValue, type) => ({\n  type: ActionTypes.SET_FILTER_REQUESTS,\n  payload: { filterValue, type }\n});\n\nexport const clearFilterValueRequests = () => ({\n  type: ActionTypes.CLEAR_FILTER_REQUESTS\n});\n\nexport const resetRequestList = () => ({\n  type: ActionTypes.RESET_REQUEST_LIST\n});\n","import { getActionApi, getAxiosInstance, getGraphqlInstance } from '../shared/user-login';\nimport { APPROVAL_API_BASE } from '../../utilities/constants';\nimport { defaultSettings } from '../shared/pagination';\nimport { APPROVAL_REQUESTER_PERSONA, APPROVAL_APPROVER_PERSONA } from '../shared/helpers';\n\nconst actionApi = getActionApi();\nconst graphqlInstance = getGraphqlInstance();\n\nconst sortPropertiesMapper = (property) => ({\n  'request-id': 'id',\n  opened: 'created_at',\n  requester: 'requester_name',\n  status: 'state'\n}[property] || property\n);\n\nconst filterQuery = (filterValue) => {\n  const query = [];\n  if (filterValue.name) {\n    query.push(`filter[name][contains_i]=${filterValue.name}`);\n  }\n\n  if (filterValue.requester) {\n    query.push(`filter[requester_name][contains_i]=${filterValue.requester}`);\n  }\n\n  if (filterValue.status) {\n    filterValue.status.forEach(state => {\n      query.push(`filter[state][eq][]=${state}`);\n    });\n  }\n\n  if (filterValue.decision) {\n    filterValue.decision.forEach(dec => {\n      query.push(`filter[decision][eq][]=${dec}`);\n    });\n  }\n\n  return query.join('&');\n};\n\nexport function fetchRequests(filter = {}, pagination = defaultSettings, persona = undefined, sortBy) {\n  const paginationQuery = `&limit=${Math.max(pagination.limit, 10)}&offset=${pagination.offset}`;\n  const sortQuery = `&sort_by=${sortPropertiesMapper(sortBy.property)}:${sortBy.direction}`;\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/?${filterQuery(filter)}${paginationQuery}${sortQuery}`;\n  const fetchHeaders = persona ? { 'x-rh-persona': persona } : undefined;\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n}\n\nconst requestTranscriptQuery = (parent_id) => `query {\n  requests(id: \"${parent_id}\") {\n    id\n    name\n    number_of_children\n    decision\n    description\n    group_name\n    number_of_finished_children\n    state\n    actions {\n      id\n      operation\n      comments\n      created_at\n      processed_by\n    }\n    requests {\n      id\n      name\n      number_of_children\n      decision\n      description\n      group_name\n      number_of_finished_children\n      state\n      workflow_id\n      parent_id\n      actions {\n        id\n        operation\n        comments\n        created_at\n        processed_by\n      }\n    }\n  }\n}`;\n\nexport const fetchRequestTranscript = (requestId, persona) => {\n  const fetchHeaders = (persona && persona !== APPROVAL_APPROVER_PERSONA) ? { 'x-rh-persona': persona }\n    : { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return graphqlInstance({ method: 'post', url: `${APPROVAL_API_BASE}/graphql`,\n    headers: fetchHeaders, data: { query: requestTranscriptQuery(requestId) }})\n  .then(({ data: { requests }}) => requests);\n};\n\nexport const fetchRequestContent = (id) => {\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/${id}/content`;\n  const fetchHeaders = { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n};\n\nexport const fetchRequestCapabilities = (id, isParent) => {\n  const fetchUrl = `${APPROVAL_API_BASE}/requests/${id}${isParent ? '/requests' : ''}`;\n  const fetchHeaders = { 'x-rh-persona': APPROVAL_REQUESTER_PERSONA };\n  return getAxiosInstance()({ method: 'get', url: fetchUrl, headers: fetchHeaders });\n};\n\nexport async function fetchRequestWithSubrequests(id, persona) {\n  const requestData = await fetchRequestTranscript(id, persona);\n\n  if (!requestData || requestData.length === 0) { return {}; }\n\n  if (persona === APPROVAL_APPROVER_PERSONA) {\n    if (requestData && requestData.length > 0 && requestData[0].number_of_children > 0) {\n      const result = await fetchRequestCapabilities(id, true);\n\n      if (result && result.data) {\n        requestData[0].requests = requestData[0].requests.map(request => {\n          return {\n            ...result.data.find((item) => (item.id === request.id) && item.metadata),\n            ...request\n          };\n        });\n      }\n    }\n    else {\n      const request = await fetchRequestCapabilities(id, false);\n      if (request) {\n        requestData[0] = { ...requestData[0], metadata: request.metadata };\n      }\n    }\n  }\n\n  return requestData[0];\n}\n\nexport const createRequestAction = (requestId, actionIn) => actionApi.createAction(requestId, actionIn);\n","import componentTypes from '@data-driven-forms/react-form-renderer/dist/cjs/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/dist/cjs/validator-types';\n\nexport const createRequestCommentSchema = (isDeny = false) => ({\n  fields: [{\n    component: componentTypes.TEXTAREA,\n    name: 'comments',\n    isRequired: isDeny,\n    label: isDeny ? 'Reason' : 'Comment',\n    ...(isDeny && { validate: [{ type: validatorTypes.REQUIRED }]})\n  }]\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FormRenderer from '../common/form-renderer';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Modal } from '@patternfly/react-core';\nimport { createRequestAction } from '../../redux/actions/request-actions';\nimport { createRequestCommentSchema } from '../../forms/request-comment-form.schema';\nimport useQuery from '../../utilities/use-query';\nimport routes from '../../constants/routes';\n\nconst ActionModal = ({\n  actionType,\n  createRequestAction,\n  closeUrl,\n  postMethod\n}) => {\n  const { push } = useHistory();\n  const [{ request: id }] = useQuery([ 'request' ]);\n\n  const onSubmit = (data) => {\n    const operationType = { 'Add Comment': 'memo', Approve: 'approve', Deny: 'deny' };\n    const actionName = actionType === 'Add Comment' ? actionType : `${actionType} Request`;\n\n    return postMethod ?\n      createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => postMethod()).then(() => push(closeUrl))\n      : createRequestAction(\n        actionName,\n        id,\n        { operation: operationType[actionType], ...data }\n      ).then(() => push(closeUrl));\n  };\n\n  const onCancel = () => push(closeUrl);\n\n  return (\n    <Modal\n      variant=\"large\"\n      title={ actionType === 'Add Comment' ? `Request #${id}` : `${actionType} Request #${id}` }\n      isOpen\n      onClose={ onCancel }\n    >\n      <FormRenderer\n        schema={ createRequestCommentSchema(actionType === 'Deny') }\n        onSubmit={ onSubmit }\n        onCancel={ onCancel }\n        formContainer=\"modal\"\n      />\n    </Modal>\n  );\n};\n\nActionModal.defaultProps = {\n  closeUrl: routes.requests.index\n};\n\nActionModal.propTypes = {\n  createRequestAction: PropTypes.func.isRequired,\n  postMethod: PropTypes.func,\n  actionType: PropTypes.string,\n  closeUrl: PropTypes.oneOfType([ PropTypes.string, PropTypes.shape({ patname: PropTypes.string, search: PropTypes.string }) ])\n};\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  createRequestAction\n}, dispatch);\n\nexport default connect(null, mapDispatchToProps)(ActionModal);\n","import React, { Fragment, useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { TextContent, Text, TextVariants, Level, LevelItem, Button, Bullseye, Spinner } from '@patternfly/react-core';\nimport { useIsApprovalAdmin, useIsApprovalApprover, isRequestStateActive } from '../../helpers/shared/helpers';\nimport { fetchRequestContent } from '../../helpers/request/request-helper';\nimport UserContext from '../../user-context';\nimport routes from '../../constants/routes';\n\nexport const ExpandedItem = ({ title = '', detail = '' }) => (\n  <TextContent>\n    <Text className=\"pf-u-mb-0\" component={ TextVariants.small }>{ title }</Text>\n    <Text className=\"pf-u-mb-md\" component={ TextVariants.p }>{ detail }</Text>\n  </TextContent>\n);\n\nExpandedItem.propTypes = {\n  title: PropTypes.node,\n  detail: PropTypes.node\n};\n\nconst ExpandableContent = ({ id, number_of_children, state, reason, actionsDisabled }) => {\n  const requestActive = isRequestStateActive(state) && !number_of_children;\n  const [ requestContent, setRequestContent ] = useState([]);\n  const [ isLoading, setIsLoading ] = useState(true);\n  const [ fetchStarted, setIsFetching ] = useState(false);\n  const { userRoles: userRoles } = useContext(UserContext);\n  const expandedRequests = useSelector(({ requestReducer: { expandedRequests }}) => expandedRequests);\n  const isApprovalAdmin = useIsApprovalAdmin(userRoles);\n  const isApprovalApprover = useIsApprovalApprover(userRoles);\n\n  useEffect(() => {\n    if (!fetchStarted && isLoading && expandedRequests.includes(id)) {\n      setIsFetching(true);\n      fetchRequestContent(id).then((data) => { setRequestContent(data); setIsLoading(false); }).catch(() => setIsLoading(false));\n    }\n  }, [ expandedRequests ]);\n\n  if (isLoading) {\n    return (<Bullseye>\n      <Spinner/>\n    </Bullseye>);\n  }\n\n  return (\n    <Fragment>\n      <Level>\n        <LevelItem>\n          <ExpandedItem title=\"Product\" detail={ requestContent ? requestContent.product : 'Unknown' } />\n        </LevelItem>\n        { requestActive && (isApprovalApprover || isApprovalAdmin) && !actionsDisabled && <LevelItem>\n          <Link to={ { pathname: routes.requests.approve, search: `request=${id}` } }  className=\"pf-u-mr-md\">\n            <Button variant=\"primary\" aria-label=\"Approve Request\" isDisabled={ !requestActive }>\n              Approve\n            </Button>\n          </Link>\n          <Link to={ { pathname: routes.requests.deny, search: `request=${id}` } }>\n            <Button variant=\"danger\" aria-label=\"Deny Request\">\n              Deny\n            </Button>\n          </Link>\n        </LevelItem>\n        }</Level>\n      <Level>\n        <LevelItem>\n          <ExpandedItem title=\"Portfolio\" detail={ requestContent ? requestContent.portfolio : 'Unknown' }/>\n          <ExpandedItem title=\"Platform\" detail={ requestContent ? requestContent.platform : 'Unknown' }/>\n          <ExpandedItem title=\"Reason\" detail={ reason ? reason : '' }/>\n        </LevelItem>\n      </Level>\n    </Fragment>\n  );\n};\n\nExpandableContent.defaultProps = {\n  actionsDisabled: true\n};\n\nExpandableContent.propTypes = {\n  id: PropTypes.string,\n  content: PropTypes.object,\n  number_of_children: PropTypes.number,\n  uname: PropTypes.string,\n  state: PropTypes.string,\n  reason: PropTypes.string,\n  actionsDisabled: PropTypes.bool\n};\n\nexport default ExpandableContent;\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport ExpandableContent from './expandable-content';\nimport { timeAgo }  from '../../helpers/shared/helpers';\nimport routes from '../../constants/routes';\nimport { Text, TextVariants } from '@patternfly/react-core';\nimport { decisionValues } from '../../utilities/constants';\n\nconst decisionIcon = (decision) => decisionValues[decision] ? decisionValues[decision].icon : '';\nconst decisionDisplayName = (decision) => decisionValues[decision] ? decisionValues[decision].displayName : '';\n\nexport const createRows = (data, actionsDisabled) => data.reduce((acc, request, key) => ([\n  ...acc, {\n    id: request.id,\n    isOpen: false,\n    state: request.state,\n    number_of_children: request.number_of_children,\n    cells: [\n      <Fragment key={ request.id }><Link to={ { pathname: routes.request.index, search: `?request=${request.id}` } }>{ request.id }</Link></Fragment>,\n      request.name,\n      request.requester_name,\n      timeAgo(request.created_at),\n      request.finished_at ? timeAgo(request.finished_at) : (request.notified_at ? timeAgo(request.notified_at) : timeAgo(request.created_at)),\n      request.state,\n      <Fragment key={ `decision-${request.id}` }><Text key={ `${request.decision}-$(request.id}` }\n        className=\"pf-u-mb-md\" component={ TextVariants.p } >\n        { decisionIcon(request.decision) } { `${decisionDisplayName(request.decision)}` }\n      </Text></Fragment>\n    ]\n  }, {\n    parent: key * 2,\n    fullWidth: true,\n    cells: [{\n      title: <ExpandableContent actionsDisabled={ actionsDisabled(request) } id={ request.id }\n        number_of_children={ request.number_of_children }\n        state={ request.state }\n        reason={ request.reason }/>\n    }]\n  }\n]), []);\n","export const prepareChips = ({ name, requester, status, decision }) => ([\n  ...(name ? [{\n    category: 'Name',\n    key: 'name',\n    chips: [{ name, value: name }]\n  }] : []),\n  ...(requester ? [{\n    category: 'Requester',\n    key: 'requester',\n    chips: [{ name: requester, value: requester }]\n  }] : []),\n  ...(status && status.length > 0 ? [{\n    category: 'Status',\n    key: 'status',\n    chips: status.map(stat => ({ name: stat, value: stat }))\n  }] : []),\n  ...(decision && decision.length > 0 ? [{\n    category: 'Decision',\n    key: 'decision',\n    chips: decision.map(dec => ({ name: dec, value: dec }))\n  }] : [])\n]);\n","import React, { Fragment, useEffect, useReducer, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { Button } from '@patternfly/react-core';\nimport { expandable, sortable, wrappable, cellWidth } from '@patternfly/react-table';\nimport { useIntl } from 'react-intl';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport isEmpty from 'lodash/isEmpty';\n\nimport { fetchRequests,\n  expandRequest,\n  sortRequests,\n  setFilterValueRequests,\n  clearFilterValueRequests,\n  resetRequestList } from '../../redux/actions/request-actions';\nimport { createRows } from './request-table-helpers';\nimport { TableToolbarView } from '../../presentational-components/shared/table-toolbar-view';\nimport { APPROVAL_APPROVER_PERSONA, useIsApprovalAdmin, useIsApprovalApprover } from '../../helpers/shared/helpers';\nimport { TopToolbar, TopToolbarTitle } from '../../presentational-components/shared/top-toolbar';\nimport { AppTabs } from '../../smart-components/app-tabs/app-tabs';\nimport asyncDebounce from '../../utilities/async-debounce';\nimport { scrollToTop } from '../../helpers/shared/helpers';\nimport TableEmptyState from '../../presentational-components/shared/table-empty-state';\nimport UserContext from '../../user-context';\nimport { prepareChips } from './chips-helpers';\n\nconst columns = [{\n  title: 'Request ID',\n  cellFormatters: [ expandable ],\n  transforms: [ sortable, cellWidth(5) ]\n},\n{ title: 'Name', transforms: [ sortable, wrappable, cellWidth(25) ]},\n{ title: 'Requester', transforms: [ sortable, wrappable, cellWidth(20) ]},\n{ title: 'Opened   ', transforms: [ sortable, cellWidth(10) ]},\n{ title: 'Updated  ', transforms: [ cellWidth(10) ]},\n{ title: 'Status   ', transforms: [ sortable, cellWidth(15) ]},\n{ title: 'Decision ', transforms: [ sortable, cellWidth(15) ]}\n];\n\nconst debouncedFilter = asyncDebounce(\n  (dispatch, filteringCallback, persona, updateFilter) => {\n    filteringCallback(true);\n    updateFilter && updateFilter();\n    return dispatch(fetchRequests(persona)).then(() =>\n      filteringCallback(false)\n    );\n  },\n  1000\n);\n\nconst initialState = (nameValue = '', requesterValue = '') => ({\n  nameValue,\n  requesterValue,\n  isOpen: false,\n  isFetching: true,\n  isFiltering: false\n});\n\nconst requestsListState = (state, action) => {\n  switch (action.type) {\n    case 'setFetching':\n      return { ...state, isFetching: action.payload };\n    case 'setNameValue':\n      return { ...state, nameValue: action.payload };\n    case 'setRequesterValue':\n      return { ...state, requesterValue: action.payload };\n    case 'clearFilters':\n      return { ...state, requesterValue: '', nameValue: '', isFetching: true };\n    case 'setFilteringFlag':\n      return { ...state, isFiltering: action.payload };\n    default:\n      return state;\n  }\n};\n\nconst RequestsList = ({ routes, persona, actionResolver, actionsDisabled }) => {\n  const { requests: { data, meta }, sortBy, filterValue } = useSelector(\n    ({ requestReducer: { requests, sortBy, filterValue }}) => ({ requests, sortBy, filterValue }),\n    shallowEqual\n  );\n  const [{ nameValue, isFetching, isFiltering, requesterValue }, stateDispatch ] = useReducer(\n    requestsListState,\n    initialState(filterValue.name, filterValue.requester)\n  );\n\n  const { userRoles: userRoles } = useContext(UserContext);\n\n  const dispatch = useDispatch();\n  const intl = useIntl();\n  const isApprovalAdmin = useIsApprovalAdmin(userRoles);\n  const isApprovalApprover = useIsApprovalApprover(userRoles);\n\n  const updateRequests = (pagination) => {\n    if (!isApprovalApprover && persona === APPROVAL_APPROVER_PERSONA) {\n      stateDispatch({ type: 'setFetching', payload: false });\n      return;\n    }\n\n    stateDispatch({ type: 'setFetching', payload: true });\n    return dispatch(fetchRequests(persona, pagination))\n    .then(() => stateDispatch({ type: 'setFetching', payload: false }))\n    .catch(() => stateDispatch({ type: 'setFetching', payload: false }));\n  };\n\n  const resetList = () => {\n    dispatch(resetRequestList());\n  };\n\n  useEffect(() => {\n    resetList();\n    updateRequests();\n    scrollToTop();\n  }, [ persona ]);\n\n  const handleFilterChange = (value, type) => {\n    const updateFilter = () => dispatch(setFilterValueRequests(value, type));\n\n    let debouncedValue = false;\n\n    if (type === 'name') {\n      stateDispatch({ type: 'setNameValue', payload: value });\n      debouncedValue = true;\n    } else if (type === 'requester') {\n      stateDispatch({ type: 'setRequesterValue', payload: value });\n      debouncedValue = true;\n    }\n\n    if (!debouncedValue) {\n      dispatch(setFilterValueRequests(value, type));\n    }\n\n    return debouncedFilter(\n      dispatch,\n      (isFiltering) =>\n        stateDispatch({ type: 'setFilteringFlag', payload: isFiltering }),\n      persona,\n      debouncedValue && updateFilter\n    );\n  };\n\n  const onCollapse = (id, setRows, setOpen) => {\n    dispatch(expandRequest(id));\n    setRows((rows) => setOpen(rows, id));\n  };\n\n  const onSort = (_e, index, direction, { property }) => {\n    stateDispatch({ type: 'setFetching', payload: true });\n    dispatch(sortRequests({ index, direction, property }));\n    return updateRequests();\n  };\n\n  const clearFilters = () => {\n    stateDispatch({ type: 'clearFilters' });\n    dispatch(clearFilterValueRequests());\n    return updateRequests();\n  };\n\n  const onDeleteChip = ([{ key, chips: [{ value }] }]) => {\n    const newValue = [ 'name', 'requester' ].includes(key) ? '' : filterValue[key].filter(val => value !== val);\n    handleFilterChange(newValue, key);\n  };\n\n  return (\n    <Fragment>\n      <TopToolbar>\n        <TopToolbarTitle title=\"Approval\"/>\n        { isApprovalAdmin && <AppTabs/> }\n      </TopToolbar>\n      <TableToolbarView\n        sortBy={ sortBy }\n        onSort={ onSort }\n        data={ data }\n        createRows={ createRows }\n        columns={ columns }\n        fetchData={ updateRequests }\n        routes={ routes }\n        actionResolver={ actionResolver }\n        actionsDisabled={ actionsDisabled }\n        titlePlural=\"requests\"\n        titleSingular=\"request\"\n        pagination={ meta }\n        handlePagination={ updateRequests }\n        filterValue={ nameValue }\n        onFilterChange={ (value) => handleFilterChange(value, 'name') }\n        isLoading={ isFetching || isFiltering }\n        onCollapse={ onCollapse }\n        renderEmptyState={ () => (\n          <TableEmptyState\n            title={ isEmpty(filterValue) ? 'No requests' : 'No results found' }\n            Icon={ SearchIcon }\n            PrimaryAction={ () =>\n              isEmpty(filterValue) ? null : (\n                <Button onClick={ clearFilters } variant=\"link\">\n                            Clear all filters\n                </Button>\n              )\n            }\n            description={\n              isEmpty(filterValue)\n                ? ''\n                : 'No results match the filter criteria. Remove all filters or clear all filters to show results.'\n            }\n          />\n        ) }\n        activeFiltersConfig={ {\n          filters: prepareChips({ name: nameValue, requester: requesterValue, status: filterValue.status, decision: filterValue.decision }),\n          onDelete: (_e, chip, deleteAll) => deleteAll ? clearFilters() : onDeleteChip(chip)\n        } }\n        filterConfig={ [\n          {\n            label: intl.formatMessage({\n              id: 'requester',\n              defaultMessage: 'Requester'\n            }),\n            filterValues: {\n              placeholder: intl.formatMessage({\n                id: 'filter-by-requester',\n                defaultMessage: 'Filter by requester'\n              }),\n              'aria-label': intl.formatMessage({\n                id: 'filter-by-requester',\n                defaultMessage: 'Filter by requester'\n              }),\n              onChange: (_event, value) => handleFilterChange(value, 'requester'),\n              value: requesterValue\n            }\n          }, {\n            label: intl.formatMessage({\n              id: 'status',\n              defaultMessage: 'Status'\n            }),\n            type: 'checkbox',\n            filterValues: {\n              placeholder: intl.formatMessage({\n                id: 'filter-by-status',\n                defaultMessage: 'Filter by status'\n              }),\n              'aria-label': intl.formatMessage({\n                id: 'filter-by-status',\n                defaultMessage: 'Filter by status'\n              }),\n              onChange: (_event, value) => handleFilterChange(value, 'status'),\n              value: filterValue.status,\n              items: [ 'canceled', 'completed', 'failed', 'notified', 'pending', 'skipped', 'started' ].map((state) => ({\n                label: state,\n                value: state\n              }))\n            }\n          }, {\n            label: intl.formatMessage({\n              id: 'decision',\n              defaultMessage: 'Decision'\n            }),\n            type: 'checkbox',\n            filterValues: {\n              placeholder: intl.formatMessage({\n                id: 'filter-by-decision',\n                defaultMessage: 'Filter by decision'\n              }),\n              'aria-label': intl.formatMessage({\n                id: 'filter-by-decision',\n                defaultMessage: 'Filter by decision'\n              }),\n              onChange: (_event, value) => handleFilterChange(value, 'decision'),\n              value: filterValue.decision,\n              items: [ 'approved', 'canceled', 'denied', 'error', 'undecided' ].map((state) => ({\n                label: state,\n                value: state\n              }))\n            }\n          }\n        ] }\n      />\n    </Fragment>);\n};\n\nRequestsList.propTypes = {\n  routes: PropTypes.func,\n  actionResolver: PropTypes.func,\n  actionsDisabled: PropTypes.func,\n  persona: PropTypes.string\n};\nRequestsList.default = {\n  actionsDisabled: () => true\n};\n\nexport default RequestsList;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","import React from 'react';\nimport { APPROVAL_ADMIN_PERSONA } from '../../helpers/shared/helpers';\nimport RequestsList from './requests-list';\n\nconst AllRequests = () => {\n  return <RequestsList persona={ APPROVAL_ADMIN_PERSONA } actionsDisabled={ () => true } />;\n};\n\nexport default AllRequests;\n","import React, { Fragment, useContext } from 'react';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport { useIsApprovalAdmin } from '../../helpers/shared/helpers';\nimport { TopToolbar, TopToolbarTitle } from '../../presentational-components/shared/top-toolbar';\nimport { AppTabs } from '../../smart-components/app-tabs/app-tabs';\nimport UserContext from '../../user-context';\nimport {\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateSecondaryActions,\n  Text,\n  TextContent,\n  TextVariants\n} from '@patternfly/react-core';\n\nconst EmptyRequestList = () => {\n  const { userRoles: userRoles } = useContext(UserContext);\n  const isApprovalAdmin = useIsApprovalAdmin(userRoles);\n\n  return (\n    <Fragment>\n      <TopToolbar>\n        <TopToolbarTitle title=\"Approval\"/>\n        { isApprovalAdmin && <AppTabs/> }\n      </TopToolbar>\n      <div className=\"pf-u-mt-xl\">\n        <EmptyState className=\"pf-u-ml-auto pf-u-mr-auto\">\n          <EmptyStateIcon icon={ SearchIcon } />\n          <TextContent>\n            <Text component={ TextVariants.h1 }>\n                No requests yet\n            </Text>\n          </TextContent>\n          <EmptyStateBody>\n              Requests that need your attention will appear here.\n          </EmptyStateBody>\n        </EmptyState>\n        <EmptyStateSecondaryActions>\n        </EmptyStateSecondaryActions>\n      </div>\n    </Fragment>);\n};\n\nexport default EmptyRequestList;\n","import React, { Fragment, useContext } from 'react';\nimport { Route, useHistory } from 'react-router-dom';\nimport { fetchRequests } from '../../redux/actions/request-actions';\nimport ActionModal from './action-modal';\nimport {\n  APPROVAL_APPROVER_PERSONA, useIsApprovalAdmin,\n  useIsApprovalApprover,\n  isRequestStateActive\n} from '../../helpers/shared/helpers';\nimport UserContext from '../../user-context';\nimport routesLinks from '../../constants/routes';\nimport RequestsList from './requests-list';\nimport EmptyRequestList from './EmptyRequestList';\n\nconst Requests = () => {\n  const { userRoles: userRoles } = useContext(UserContext);\n  const history = useHistory();\n  const isApprovalAdmin = useIsApprovalAdmin(userRoles);\n  const isApprovalApprover = useIsApprovalApprover(userRoles);\n\n  const routes = () => <Fragment>\n    <Route exact path={ routesLinks.requests.addComment } render={ props => <ActionModal { ...props }\n      actionType={ 'Add Comment' }\n      postMethod={ fetchRequests } /> }/>\n    <Route exact path={ routesLinks.requests.approve } render={ props => <ActionModal { ...props } actionType={ 'Approve' }\n      postMethod={ fetchRequests }/> } />\n    <Route exact path={ routesLinks.requests.deny } render={ props => <ActionModal { ...props } actionType={ 'Deny' }\n      postMethod={ fetchRequests }/> } />\n  </Fragment>;\n\n  const actionsDisabled = (requestData) => requestData &&\n    requestData.state ?\n    !isRequestStateActive(requestData.state) || requestData.number_of_children > 0 ||\n      (!isApprovalApprover && !isApprovalAdmin) : true;\n\n  const actionResolver = (requestData) => {\n    return (requestData && requestData.id && actionsDisabled(requestData) ? null :\n      [\n        {\n          title: 'Comment',\n          component: 'button',\n          onClick: () => history.push({\n            pathname: routesLinks.requests.addComment,\n            search: `?request=${requestData.id}`\n          })\n        }\n      ]);\n  };\n\n  return !isApprovalApprover ?\n    <EmptyRequestList/>\n    : <RequestsList\n      routes={ routes }\n      persona={ APPROVAL_APPROVER_PERSONA }\n      actionsDisabled={ actionsDisabled }\n      actionResolver={ actionResolver }\n    />;\n};\n\nexport default Requests;\n"],"sourceRoot":""}