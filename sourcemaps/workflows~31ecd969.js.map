{"version":3,"sources":["webpack:///./src/helpers/workflow/workflow-helper.js","webpack:///./src/redux/actions/workflow-actions.js","webpack:///./node_modules/react-intl/lib/components/message.js","webpack:///./src/forms/name-async-validator.js","webpack:///./src/forms/workflow-info.schema.js","webpack:///./src/forms/load-groups-debounced.js","webpack:///./src/helpers/group/group-helper.js","webpack:///./src/forms/set-group-select.schema.js","webpack:///./src/forms/add-workflow.schema.js","webpack:///./src/smart-components/workflow/add-groups/add-workflow-wizard.js","webpack:///./src/utilities/use-workflows.js","webpack:///./src/smart-components/workflow/edit-workflow-info-modal.js","webpack:///./src/smart-components/workflow/edit-workflow-groups-modal.js","webpack:///./src/smart-components/workflow/remove-workflow-modal.js","webpack:///./src/smart-components/workflow/expandable-content.js","webpack:///./src/smart-components/workflow/workflow-table-helpers.js","webpack:///./src/smart-components/workflow/workflows.js"],"names":["workflowApi","getWorkflowApi","templateApi","getTemplateApi","fetchWorkflows","filter","pagination","defaultSettings","sortBy","paginationQuery","Math","max","limit","offset","filterQuery","sortQuery","property","direction","getAxiosInstance","get","APPROVAL_API_BASE","removeWorkflow","workflowId","a","destroyWorkflow","removeWorkflows","selectedWorkflows","Promise","all","map","extendStatics","dispatch","getState","workflowReducer","workflows","filterValue","finalPagination","meta","type","ActionTypes","payload","WorkflowHelper","fetchWorkflow","apiProps","id","showWorkflow","addWorkflow","workflowData","workflow","listTemplates","then","data","Error","addWorkflowToTemplate","notifications","fulfilled","variant","title","description","updateWorkflow","setFilterValueWorkflows","__extends","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArrays","il","r","k","j","jl","shallowEquals","defaultFormatMessage","descriptor","values","locale","_super","FormattedMessage","shouldComponentUpdate","nextProps","_a","props","otherProps","nextValues","nextOtherProps","render","_this","Consumer","intl","defaultMessage","_b","formatMessage","_c","textComponent","Text","_d","children","_e","tagName","Component","nodes","isArray","displayName","defaultProps","asyncDebounce","name","fetchWorkflowByName","find","wf","workflowInfoSchema","component","componentTypes","TEXT_FIELD","isRequired","label","validate","value","debouncedValidatorName","validatorTypes","REQUIRED","message","TEXTAREA","RBAC_API_BASE","uuid","undefined","setGroupSelectSchema","SELECT","loadOptions","noValueUpdates","isMulti","isSearchable","simpleValue","menuIsPortal","isClearable","placeholder","addWorkflowSchema","fields","WIZARD","inModal","showTitle","customTitle","Title","headingLevel","size","nextStep","AddWorkflow","useDispatch","push","useHistory","useIntl","showFormControls","onSubmit","wfGroups","routes","index","group_refs","group","onCancel","schema","useWorkflow","useSelector","shallowEqual","createSchema","editType","SUB_FORM","className","reducer","state","initialValues","isLoading","EditWorkflowInfoModal","postMethod","useReducer","useQuery","loadedWorkflow","useEffect","Modal","isOpen","onClose","FormTemplate","submitLabel","buttonClassName","disableSubmit","sequence","propTypes","PropTypes","func","string","connect","bindActionCreators","prepareInitialValues","wfData","groupOptions","EditWorkflowGroupsModal","result","RemoveWorkflowModal","ids","fetchData","setSelectedWorkflows","useState","fetchedWorkflow","setFetchedWorkflow","submitting","setSubmitting","finalId","removeWf","aria-label","count","header","fill","actions","Button","key","isDisabled","onClick","Fragment","Spinner","TextContent","TextVariants","array","ExpandableContent","groupRefs","small","ref","listGroupNames","join","createRows","reduce","acc","selected","cells","parent","columns","cellFormatters","expandable","transforms","sortable","debouncedFilter","filteringCallback","prepareChips","category","chips","workflowsListState","action","isFetching","isFiltering","Workflows","filterValueRedux","initialState","stateDispatch","history","updateWorkflows","scrollToTop","handleFilterChange","anyWorkflowsSelected","onSort","sortWorkflows","isSelectable","exact","path","routesLinks","add","editInfo","editGroups","editSequence","remove","actionResolver","_workflowData","rowIndex","_event","_rowId","pathname","search","titlePlural","titleSingular","setCheckedItems","checkedWorkflows","toolbarButtons","ToolbarGroup","ToolbarItem","to","style","color","onFilterChange","onCollapse","setRows","setOpen","expandWorkflow","rows","renderEmptyState","Icon","SearchIcon","PrimaryAction","activeFiltersConfig","filters","onDelete"],"mappings":"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","file":"js/workflows~31ecd969.fd8e604c309da7234723.js","sourcesContent":["import { getWorkflowApi, getTemplateApi, getAxiosInstance } from '../shared/user-login';\nimport { defaultSettings } from '../shared/pagination';\nimport { APPROVAL_API_BASE } from '../../utilities/constants';\n\nconst workflowApi = getWorkflowApi();\nconst templateApi = getTemplateApi();\n\nexport function fetchWorkflows(filter = '', pagination = defaultSettings, sortBy) {\n  const paginationQuery = `&limit=${Math.max(pagination.limit, 10)}&offset=${pagination.offset}`;\n  const filterQuery = `&filter[name][contains_i]=${filter}`;\n  const sortQuery = sortBy ? `&sort_by=${sortBy.property}:${sortBy.direction}` : '';\n\n  return getAxiosInstance().get(\n    `${APPROVAL_API_BASE}/workflows/?${filterQuery}${paginationQuery}${sortQuery}`\n  );\n}\n\nexport const fetchWorkflow = (id) => workflowApi.showWorkflow(id);\n\nexport function fetchWorkflowByName(name) {\n  return fetchWorkflows(name);\n}\n\nexport function updateWorkflow(data) {\n  return workflowApi.updateWorkflow(data.id, data);\n}\n\nexport  function addWorkflow(workflow) {\n  return templateApi.listTemplates().then(({ data }) => {\n    // workaround for v1. Need to pass template ID with the workflow. Assigning to first template\n    if (!data[0]) {\n      throw new Error('No template exists');\n    }\n\n    return data[0].id;\n\n  }).then(id => workflowApi.addWorkflowToTemplate(id, workflow, {}));\n}\n\nexport async function removeWorkflow(workflowId) {\n  return await workflowApi.destroyWorkflow(workflowId);\n}\n\nexport async function removeWorkflows(selectedWorkflows) {\n  return Promise.all(selectedWorkflows.map(async workflowId => await workflowApi.destroyWorkflow(workflowId)));\n}\n\n","import * as ActionTypes from '../action-types';\nimport * as WorkflowHelper from '../../helpers/workflow/workflow-helper';\n\nexport const fetchWorkflows = (pagination) => (dispatch, getState) => {\n  const { sortBy, workflows, filterValue } = getState().workflowReducer;\n\n  let finalPagination = pagination;\n\n  if (!pagination && workflows) {\n    const { limit, offset } = workflows.meta;\n    finalPagination = { limit, offset };\n  }\n\n  return dispatch ({\n    type: ActionTypes.FETCH_WORKFLOWS,\n    payload: WorkflowHelper.fetchWorkflows(filterValue, finalPagination, sortBy)\n  });\n};\n\nexport const fetchWorkflow = apiProps => ({\n  type: ActionTypes.FETCH_WORKFLOW,\n  payload: WorkflowHelper.fetchWorkflow(apiProps)\n});\n\nexport const addWorkflow = (workflowData) => ({\n  type: ActionTypes.ADD_WORKFLOW,\n  payload: WorkflowHelper.addWorkflow(workflowData),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success adding approval process',\n        description: 'The approval process was added successfully.'\n      }\n    }\n  }\n});\n\nexport const updateWorkflow = (workflowData) => ({\n  type: ActionTypes.UPDATE_WORKFLOW,\n  payload: WorkflowHelper.updateWorkflow(workflowData),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success updating approval process',\n        description: 'The approval process was updated successfully.'\n      }\n    }\n  }\n});\n\nexport const removeWorkflow = (workflow) => ({\n  type: ActionTypes.REMOVE_WORKFLOW,\n  payload: WorkflowHelper.removeWorkflow(workflow),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success removing approval process',\n        description: 'The approval process was removed successfully.'\n      }\n    }\n  }\n});\n\nexport const removeWorkflows = (workflows) => ({\n  type: ActionTypes.REMOVE_WORKFLOWS,\n  payload: WorkflowHelper.removeWorkflows(workflows),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success removing approval processes',\n        description: 'The selected approval processes were removed successfully.'\n      }\n    }\n  }\n});\n\nexport const expandWorkflow = (id) => ({\n  type: ActionTypes.EXPAND_WORKFLOW,\n  payload: id\n});\n\nexport const sortWorkflows = (sortBy) => ({\n  type: ActionTypes.SORT_WORKFLOWS,\n  payload: sortBy\n});\n\nexport const setFilterValueWorkflows = (filterValue) => ({\n  type: ActionTypes.SET_FILTER_WORKFLOWS,\n  payload: filterValue\n});\n","/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport * as React from 'react';\nimport { Context } from './injectIntl';\nimport { formatMessage } from '../formatters/message';\nimport { invariantIntlContext, DEFAULT_INTL_CONFIG, createFormatters, } from '../utils';\nimport * as shallowEquals_ from 'shallow-equal/objects';\nvar shallowEquals = shallowEquals_.default || shallowEquals_;\nfunction defaultFormatMessage(descriptor, values) {\n    if (process.env.NODE_ENV !== 'production') {\n        console.error('[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry. Using default message as fallback.');\n    }\n    return formatMessage(__assign(__assign({}, DEFAULT_INTL_CONFIG), { locale: 'en' }), createFormatters(), descriptor, values);\n}\nvar FormattedMessage = /** @class */ (function (_super) {\n    __extends(FormattedMessage, _super);\n    function FormattedMessage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FormattedMessage.prototype.shouldComponentUpdate = function (nextProps) {\n        var _a = this.props, values = _a.values, otherProps = __rest(_a, [\"values\"]);\n        var nextValues = nextProps.values, nextOtherProps = __rest(nextProps, [\"values\"]);\n        return (!shallowEquals(nextValues, values) ||\n            !shallowEquals(otherProps, nextOtherProps));\n    };\n    FormattedMessage.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(Context.Consumer, null, function (intl) {\n            if (!_this.props.defaultMessage) {\n                invariantIntlContext(intl);\n            }\n            var _a = intl || {}, _b = _a.formatMessage, formatMessage = _b === void 0 ? defaultFormatMessage : _b, _c = _a.textComponent, Text = _c === void 0 ? React.Fragment : _c;\n            var _d = _this.props, id = _d.id, description = _d.description, defaultMessage = _d.defaultMessage, values = _d.values, children = _d.children, _e = _d.tagName, Component = _e === void 0 ? Text : _e;\n            var descriptor = { id: id, description: description, defaultMessage: defaultMessage };\n            var nodes = formatMessage(descriptor, values);\n            if (!Array.isArray(nodes)) {\n                nodes = [nodes];\n            }\n            if (typeof children === 'function') {\n                return children.apply(void 0, nodes);\n            }\n            if (Component) {\n                // Needs to use `createElement()` instead of JSX, otherwise React will\n                // warn about a missing `key` prop with rich-text message formatting.\n                return React.createElement.apply(React, __spreadArrays([Component, null], nodes));\n            }\n            return nodes;\n        }));\n    };\n    FormattedMessage.displayName = 'FormattedMessage';\n    FormattedMessage.defaultProps = {\n        values: {},\n    };\n    return FormattedMessage;\n}(React.Component));\nexport default FormattedMessage;\n//# sourceMappingURL=message.js.map","import { fetchWorkflowByName } from '../helpers/workflow/workflow-helper';\nimport asyncDebounce from '../utilities/async-debounce';\n\nconst validateName = (name, id) => fetchWorkflowByName(name)\n.then(({ data }) => {\n  const workflow = id ?\n    data.find(wf => name === wf.name && id !== wf.id)\n    : data.find(wf => name === wf.name);\n\n  if (workflow) {\n    throw 'Name has already been taken';\n  }\n});\n\nexport default asyncDebounce(validateName);\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/dist/cjs/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/dist/cjs/validator-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport debouncedValidatorName from './name-async-validator';\n\nconst workflowInfoSchema = (id) => ([{\n  component: componentTypes.TEXT_FIELD,\n  name: 'name',\n  isRequired: true,\n  id: 'workflow-name',\n  label: <FormattedMessage\n    id=\"create-approval-process-name-label\"\n    defaultMessage=\"Approval process name\"\n  />,\n  validate: [\n    (value) => debouncedValidatorName(value, id),\n    {\n      type: validatorTypes.REQUIRED,\n      message: <FormattedMessage\n        id=\"approval-procces-name-warning\"\n        defaultMessage=\"Enter a name for the approval process\"\n      />\n    }]\n}, {\n  component: componentTypes.TEXTAREA,\n  name: 'description',\n  id: 'workflow-description',\n  label: <FormattedMessage\n    id=\"create-approval-process-description-label\"\n    defaultMessage=\"Description\"\n  />\n}]);\n\nexport default workflowInfoSchema;\n","import asyncDebounce from '../utilities/async-debounce';\nimport { fetchFilterApprovalGroups } from '../helpers/group/group-helper';\n\nexport default asyncDebounce(fetchFilterApprovalGroups);\n","import { getAxiosInstance } from '../shared/user-login';\nimport { RBAC_API_BASE } from '../../utilities/constants';\n\nexport const fetchFilterApprovalGroups = (filterValue) => {\n  const filterQuery = `&name=${filterValue}`;\n  return getAxiosInstance().get(`${RBAC_API_BASE}/groups/?role_names=\",Approval Administrator,Approval Approver,\"\n  ${filterValue && filterValue.length > 0\n    ? filterQuery : ''}`)\n  .then(({ data }) => (data && data.length > 0 ? data.map(({ uuid, name }) => ({ label: name, value: uuid })) : undefined));\n};\n","import React from 'react';\nimport componentTypes from '@data-driven-forms/react-form-renderer/dist/cjs/component-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport loadOptions from './load-groups-debounced';\n\nconst setGroupSelectSchema = (intl) => ({\n  component: componentTypes.SELECT,\n  name: 'wfGroups',\n  label: <FormattedMessage\n    id=\"create-approval-process-set-groups\"\n    defaultMessage=\"Set groups\"\n  />,\n  loadOptions,\n  noValueUpdates: true,\n  isMulti: true,\n  isSearchable: true,\n  simpleValue: false,\n  menuIsPortal: true,\n  isClearable: true,\n  placeholder: intl.formatMessage({\n    id: 'create-approval-process-set-groups-placeholder',\n    defaultMessage: 'Select...'\n  })\n});\n\nexport default setGroupSelectSchema;\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Title } from '@patternfly/react-core';\n\nimport componentTypes from '@data-driven-forms/react-form-renderer/dist/cjs/component-types';\n\nimport workflowInfoSchema from './workflow-info.schema';\nimport setGroupSelectSchema from './set-group-select.schema';\n\nconst addWorkflowSchema = (intl) => ({\n  fields: [{\n    name: 'wizard',\n    title: intl.formatMessage({\n      id: 'create-approval-process-title',\n      defaultMessage: 'Create approval process'\n    }),\n    component: componentTypes.WIZARD,\n    inModal: true,\n    fields: [{\n      name: 'general-information',\n      showTitle: true,\n      customTitle: <Title headingLevel=\"h1\" size=\"md\"> { <FormattedMessage id=\"enter-info\" defaultMessage=\"Enter your information\" /> } </Title>,\n      title: intl.formatMessage({\n        id: 'create-approval-process-gen-info',\n        defaultMessage: 'General information'\n      }),\n      nextStep: 'set-groups',\n      fields: workflowInfoSchema()\n    }, {\n      name: 'set-groups',\n      nextStep: 'review',\n      title: intl.formatMessage({\n        id: 'create-approval-process-set-groups',\n        defaultMessage: 'Set groups'\n      }),\n      fields: [ setGroupSelectSchema(intl) ]\n    }, {\n      name: 'review',\n      title: intl.formatMessage({\n        id: 'create-approval-process-review',\n        defaultMessage: 'Review'\n      }),\n      fields: [{\n        name: 'summary',\n        component: 'summary'\n      }]\n    }]\n  }]\n});\n\nexport default addWorkflowSchema;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { useIntl } from 'react-intl';\n\nimport { addWorkflow, fetchWorkflows } from '../../../redux/actions/workflow-actions';\nimport routes from '../../../constants/routes';\nimport FormRenderer from '../../common/form-renderer';\nimport addWorkflowSchema from '../../../forms/add-workflow.schema';\n\nconst AddWorkflow = () => {\n  const dispatch = useDispatch();\n  const { push } = useHistory();\n  const intl = useIntl();\n\n  const onSave = ({ wfGroups = [], ...values }) => {\n    push(routes.workflows.index);\n    return dispatch(addWorkflow({\n      ...values,\n      group_refs: wfGroups.length > 0 ? wfGroups.map(group => ({ name: group.label, uuid: group.value })) : []\n    })).then(() => dispatch(fetchWorkflows()));\n  };\n\n  const onCancel = () => push(routes.workflows.index);\n\n  return (\n    <FormRenderer\n      showFormControls={ false }\n      onSubmit={ onSave }\n      onCancel={ onCancel }\n      schema={ addWorkflowSchema(intl) }\n    />\n  );\n};\n\nexport default AddWorkflow;\n","import { shallowEqual, useSelector } from 'react-redux';\n\nconst useWorkflow = (id) => {\n  const { workflows } = useSelector(({ workflowReducer: { workflows }}) => ({ workflows }), shallowEqual);\n\n  return workflows && workflows.data && workflows.data.find((wf) => wf.id === id);\n};\n\nexport default useWorkflow;\n","import React, { useEffect, useReducer } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { useHistory } from 'react-router-dom';\nimport { Modal } from '@patternfly/react-core';\nimport FormTemplate from '@data-driven-forms/pf4-component-mapper/dist/cjs/form-template';\nimport componentTypes from '@data-driven-forms/react-form-renderer/dist/cjs/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/dist/cjs/validator-types';\nimport { FormattedMessage, useIntl } from 'react-intl';\n\nimport { addWorkflow, updateWorkflow, fetchWorkflow } from '../../redux/actions/workflow-actions';\nimport { WorkflowInfoFormLoader } from '../../presentational-components/shared/loader-placeholders';\nimport useQuery from '../../utilities/use-query';\nimport useWorkflow from '../../utilities/use-workflows';\nimport FormRenderer from '../common/form-renderer';\nimport routes from '../../constants/routes';\nimport workflowInfoSchema from '../../forms/workflow-info.schema';\n\nconst createSchema = (editType, name, id) => editType === 'info' ? ({\n  fields: [{\n    component: componentTypes.SUB_FORM,\n    title: <span className=\"pf-c-title pf-m-md\">\n      <FormattedMessage\n        id=\"edit-info-title-subform\"\n        defaultMessage=\"Make any changes to approval process {name}\"\n        values={ { name } } />\n    </span>,\n    name: 'info-sub',\n    fields: workflowInfoSchema(id)\n  }]\n}) : ({\n  fields: [{\n    component: componentTypes.SUB_FORM,\n    title: <span className=\"pf-c-title pf-m-md\">\n      <FormattedMessage\n        id=\"edit-sequence-title-subform\"\n        defaultMessage=\"Set the sequence for the approval process {name}\"\n        values={ { name } } />\n    </span>,\n    name: 'info-sub',\n    fields: [{\n      component: componentTypes.TEXT_FIELD,\n      name: 'sequence',\n      label: <FormattedMessage\n        id=\"sequence-label\"\n        defaultMessage=\"Enter sequence\"\n      />,\n      isRequired: true,\n      validate: [{ type: validatorTypes.REQUIRED }]\n    }]\n  }]\n});\n\nconst reducer = (state, { type, initialValues, schema }) => {\n  switch (type) {\n    case 'loaded':\n      return {\n        ...state,\n        initialValues,\n        schema,\n        isLoading: false\n      };\n    default:\n      return state;\n  }\n};\n\nconst EditWorkflowInfoModal = ({\n  fetchWorkflow,\n  updateWorkflow,\n  postMethod,\n  editType\n}) => {\n  const [ state, dispatch ] = useReducer(reducer, { isLoading: true });\n\n  const { push } = useHistory();\n  const [{ workflow: id }] = useQuery([ 'workflow' ]);\n  const loadedWorkflow = useWorkflow(id);\n  const intl = useIntl();\n\n  useEffect(() => {\n    if (!loadedWorkflow) {\n      fetchWorkflow(id)\n      .then((data) => dispatch({ type: 'loaded', initialValues: data.value, schema: createSchema(editType, data.value.name, intl, data.value.id) }));\n    } else {\n      dispatch({ type: 'loaded', initialValues: loadedWorkflow, schema: createSchema(editType, loadedWorkflow.name, intl, loadedWorkflow.id) });\n    }\n  }, []);\n\n  const onSave = ({ name, description, sequence }) => {\n    const workflowData = { id, name, description, sequence };\n    return updateWorkflow(workflowData).then(() => postMethod()).then(() => push(routes.workflows.index));\n  };\n\n  const onCancel = () => push(routes.workflows.index);\n\n  return (\n    <Modal\n      title={ editType === 'sequence' ? 'Edit sequence' : 'Edit information' }\n      variant=\"small\"\n      isOpen\n      onClose={ onCancel }\n    >\n      { state.isLoading && <WorkflowInfoFormLoader/> }\n      {\n        !state.isLoading && <FormRenderer\n          FormTemplate={ (props) => <FormTemplate\n            { ...props }\n            submitLabel={ <FormattedMessage id=\"save\" defaultMessage=\"Save\" /> }\n            buttonClassName=\"pf-u-mt-0\"\n            disableSubmit={ [ 'submitting' ] }\n          /> }\n          onCancel={ onCancel }\n          onSubmit={ onSave }\n          initialValues={ state.initialValues }\n          schema={ state.schema }\n        />\n      }\n    </Modal>\n  );\n};\n\nEditWorkflowInfoModal.defaultProps = {\n  editType: 'info'\n};\n\nEditWorkflowInfoModal.propTypes = {\n  fetchWorkflow: PropTypes.func.isRequired,\n  postMethod: PropTypes.func.isRequired,\n  updateWorkflow: PropTypes.func.isRequired,\n  editType: PropTypes.string\n};\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  addWorkflow,\n  updateWorkflow,\n  fetchWorkflow\n}, dispatch);\n\nexport default connect(null, mapDispatchToProps)(EditWorkflowInfoModal);\n","import React, { useEffect, useReducer } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { useHistory } from 'react-router-dom';\nimport { Modal } from '@patternfly/react-core';\nimport FormTemplate from '@data-driven-forms/pf4-component-mapper/dist/cjs/form-template';\nimport { useIntl, FormattedMessage } from 'react-intl';\n\nimport FormRenderer from '../common/form-renderer';\nimport { addWorkflow, updateWorkflow, fetchWorkflow } from '../../redux/actions/workflow-actions';\nimport { WorkflowInfoFormLoader } from '../../presentational-components/shared/loader-placeholders';\nimport useQuery from '../../utilities/use-query';\nimport useWorkflow from '../../utilities/use-workflows';\nimport setGroupSelectSchema from '../../forms/set-group-select.schema';\n\nconst createSchema = (name, intl) => ({\n  fields: [{\n    ...setGroupSelectSchema(intl),\n    label: <FormattedMessage\n      id=\"edit-groups-select-label\"\n      defaultMessage=\"Add or remove {name}'s groups\"\n      values={ {  name } }\n    />\n  }]\n});\n\nconst prepareInitialValues = (wfData) => {\n  const groupOptions = wfData.group_refs.map((group) =>\n    ({ label: group.name, value: group.uuid })\n  );\n  return { ...wfData, wfGroups: groupOptions };\n};\n\nconst reducer = (state, { type, initialValues, intl }) => {\n  switch (type) {\n    case 'loaded':\n      return {\n        ...state,\n        schema: createSchema(initialValues.name, intl),\n        initialValues: prepareInitialValues(initialValues),\n        isLoading: false\n      };\n    default:\n      return state;\n  }\n};\n\nconst EditWorkflowGroupsModal = ({\n  fetchWorkflow,\n  updateWorkflow,\n  postMethod\n}) => {\n  const [ state, dispatch ] = useReducer(reducer, { isLoading: true });\n\n  const intl = useIntl();\n\n  const { push } = useHistory();\n  const [{ workflow: id }] = useQuery([ 'workflow' ]);\n  const loadedWorkflow = useWorkflow(id);\n\n  useEffect(() => {\n    if (!loadedWorkflow) {\n      fetchWorkflow(id).then((result) => dispatch({ type: 'loaded', initialValues: prepareInitialValues(result.value), intl }));\n    } else {\n      dispatch({ type: 'loaded', initialValues: prepareInitialValues(loadedWorkflow), intl });\n    }\n  }, []);\n\n  const onSave = ({ wfGroups }) => {\n    const workflowData = { group_refs: wfGroups ? wfGroups.map(group => ({ name: group.label, uuid: group.value })) : []};\n    return updateWorkflow({ id, ...workflowData }).then(() => postMethod()).then(()=>push('/workflows'));\n  };\n\n  const onCancel = () => push('/workflows');\n\n  return (\n    <Modal\n      title={ `Edit approval process's groups` }\n      variant=\"small\"\n      isOpen\n      onClose={ onCancel }>\n      { state.isLoading ? <WorkflowInfoFormLoader/> : <FormRenderer\n        FormTemplate={ (props) => <FormTemplate\n          { ...props }\n          submitLabel={ <FormattedMessage id=\"save\" defaultMessage=\"Save\" /> }\n          buttonClassName=\"pf-u-mt-0\"\n          disableSubmit={ [ 'submitting' ] }\n        /> }\n        onCancel={ onCancel }\n        onSubmit={ onSave }\n        initialValues={ state.initialValues }\n        schema={ state.schema }\n      /> }\n    </Modal>\n  );\n};\n\nEditWorkflowGroupsModal.propTypes = {\n  fetchWorkflow: PropTypes.func.isRequired,\n  postMethod: PropTypes.func.isRequired,\n  updateWorkflow: PropTypes.func.isRequired\n};\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  addWorkflow,\n  updateWorkflow,\n  fetchWorkflow\n}, dispatch);\n\nexport default connect(null, mapDispatchToProps)(EditWorkflowGroupsModal);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { Modal, Button, Text, TextContent, TextVariants, Spinner, Title } from '@patternfly/react-core';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\nimport { removeWorkflow, removeWorkflows, fetchWorkflow } from '../../redux/actions/workflow-actions';\nimport useQuery from '../../utilities/use-query';\nimport routes from '../../constants/routes';\nimport useWorkflow from '../../utilities/use-workflows';\nimport { FormItemLoader } from '../../presentational-components/shared/loader-placeholders';\n\nconst RemoveWorkflowModal = ({\n  ids = [],\n  fetchData,\n  setSelectedWorkflows\n}) => {\n  const dispatch = useDispatch();\n  const [ fetchedWorkflow, setFetchedWorkflow ] = useState();\n  const [ submitting, setSubmitting ] = useState(false);\n  const { push } = useHistory();\n  const [{ workflow: workflowId }] = useQuery([ 'workflow' ]);\n\n  const finalId = workflowId || ids.length === 1 && ids[0];\n\n  const intl = useIntl();\n  const workflow = useWorkflow(finalId);\n\n  useEffect(() => {\n    if (finalId && !workflow) {\n      dispatch(fetchWorkflow(finalId))\n      .then(({ value }) => setFetchedWorkflow(value))\n      .catch(() => push(routes.workflows.index));\n    }\n  }, []);\n\n  if (!finalId && ids.length === 0) {\n    return null;\n  }\n\n  const removeWf = () =>(finalId ? dispatch(removeWorkflow(finalId)) : dispatch(removeWorkflows(ids)))\n  .catch(() => setSubmitting(false))\n  .then(() => push(routes.workflows.index))\n  .then(() => setSelectedWorkflows([]))\n  .then(() => fetchData());\n\n  const onCancel = () => push(routes.workflows.index);\n\n  const onSubmit = () => {\n    setSubmitting(true);\n    return removeWf();\n  };\n\n  return (\n    <Modal\n      isOpen\n      variant=\"small\"\n      aria-label={\n        intl.formatMessage({\n          id: 'remove-workflow-modal-title-aria-label',\n          defaultMessage: `Delete {count, plural, one {approval process} other {approval processes}} modal`\n        },\n        { count: finalId ? 1 : ids.length })\n      }\n      header={\n        <Title size=\"2xl\" headingLevel=\"h1\">\n          <ExclamationTriangleIcon size=\"sm\" fill=\"#f0ab00\" className=\"pf-u-mr-sm\" />\n          <FormattedMessage\n            id=\"remove-workflow-modal-title\"\n            defaultMessage={ `Delete {count, plural, one {approval process} other {approval processes}}?` }\n            values={ { count: finalId ? 1 : ids.length } }\n          />\n        </Title>\n      }\n      onClose={ onCancel }\n      actions={ [\n        <Button id=\"submit-remove-workflow\" key=\"submit\" variant=\"danger\" type=\"button\" isDisabled={ submitting } onClick={ onSubmit }>\n          { submitting\n            ? <React.Fragment><Spinner size=\"sm\" /> <FormattedMessage id=\"deleting\" defaultMessage=\"Deleting\" /> </React.Fragment>\n            : <FormattedMessage id=\"delete\" defaultMessage=\"Delete\" />\n          }\n        </Button>,\n        <Button id=\"cancel-remove-workflow\" key=\"cancel\" variant=\"link\" type=\"button\" isDisabled={ submitting } onClick={ onCancel }>\n          <FormattedMessage id=\"cancel\" defaultMessage=\"Cancel\" />\n        </Button>\n      ] }\n    >\n      <TextContent>\n        <Text component={ TextVariants.p }>\n          {\n            (finalId && !workflow && !fetchedWorkflow)\n              ? <FormItemLoader/>\n              : <FormattedMessage\n                id=\"remove-workflow-modal-text-single\"\n                defaultMessage={ `{name} will be removed.` }\n                values={ {\n                  name: <b>{\n                    finalId\n                      ? fetchedWorkflow && fetchedWorkflow.name || workflow && workflow.name\n                      : (<React.Fragment>\n                        { ids.length }&nbsp;\n                        <FormattedMessage id=\"approval-processes\" defaultMessage=\"approval processes\"/>\n                      </React.Fragment>)\n\n                  }</b>\n                } }\n              />\n          }\n        </Text>\n      </TextContent>\n    </Modal>\n  );\n};\n\nRemoveWorkflowModal.propTypes = {\n  fetchData: PropTypes.func.isRequired,\n  setSelectedWorkflows: PropTypes.func.isRequired,\n  ids: PropTypes.array\n};\n\nexport default RemoveWorkflowModal;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { TextContent, Text, TextVariants } from '@patternfly/react-core';\n\nconst ExpandableContent = ({ description, groupRefs }) => {\n  const listGroupNames = (groupRefs) => groupRefs.map((ref) => ref.name);\n\n  return (\n    <Fragment>\n      <TextContent>\n        <Text className=\"pf-u-mb-0\" component={ TextVariants.small }>Description</Text>\n        <Text className=\"pf-u-mb-md\" component={ TextVariants.p }>{ description }</Text>\n      </TextContent>\n      <TextContent>\n        <Fragment>\n          <Text className=\"pf-u-mb-0\" component={ TextVariants.small }>Groups</Text>\n          <Text className=\"pf-u-mb-md\"\n            component={ TextVariants.p }>\n            { listGroupNames(groupRefs).join(',') }\n          </Text>\n        </Fragment>\n      </TextContent>\n    </Fragment>\n  );\n};\n\nExpandableContent.propTypes = {\n  description: PropTypes.string,\n  groupRefs: PropTypes.array.isRequired,\n  id: PropTypes.string.isRequired\n};\n\nexport default ExpandableContent;\n","import React from 'react';\n\nimport ExpandableContent from './expandable-content';\n\nexport const createRows = (data) =>\n  data.reduce((acc,\n    {\n      id,\n      name,\n      description,\n      sequence,\n      group_refs\n    }, key) => ([\n    ...acc, {\n      id,\n      isOpen: false,\n      selected: false,\n      cells: [ name, description, sequence ]\n    }, {\n      parent: key * 2,\n      cells: [{ title: <ExpandableContent\n        description={ description }\n        groupRefs={ group_refs }\n        id={ id }\n      /> }]\n    }\n  ]), []);\n\n","import React, { Fragment, useEffect, useReducer, useState } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { Route, Link, useHistory } from 'react-router-dom';\nimport { ToolbarGroup, ToolbarItem, Button } from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport { expandable, sortable } from '@patternfly/react-table';\nimport { fetchWorkflows, expandWorkflow, sortWorkflows, setFilterValueWorkflows } from '../../redux/actions/workflow-actions';\nimport AddWorkflow from './add-groups/add-workflow-wizard';\nimport EditWorkflowInfo from './edit-workflow-info-modal';\nimport EditWorkflowGroups from './edit-workflow-groups-modal';\nimport RemoveWorkflow from './remove-workflow-modal';\nimport { createRows } from './workflow-table-helpers';\nimport { TableToolbarView } from '../../presentational-components/shared/table-toolbar-view';\nimport { TopToolbar, TopToolbarTitle } from '../../presentational-components/shared/top-toolbar';\nimport { AppTabs } from '../../smart-components/app-tabs/app-tabs';\nimport { defaultSettings } from '../../helpers/shared/pagination';\nimport asyncDebounce from '../../utilities/async-debounce';\nimport { scrollToTop } from '../../helpers/shared/helpers';\nimport TableEmptyState from '../../presentational-components/shared/table-empty-state';\nimport routesLinks from '../../constants/routes';\n\nconst columns = [{\n  title: 'Name',\n  cellFormatters: [ expandable ],\n  transforms: [ sortable ]\n},\n{ title: 'Description', transforms: [ sortable ]},\n{ title: 'Sequence', transforms: [ sortable ]}\n];\n\nconst debouncedFilter = asyncDebounce(\n  (filter, dispatch, filteringCallback, meta = defaultSettings) => {\n    filteringCallback(true);\n    dispatch(setFilterValueWorkflows(filter, meta));\n    return dispatch(fetchWorkflows(meta))\n    .then(() =>\n      filteringCallback(false)\n    );\n  },\n  1000\n);\n\nconst prepareChips = (filterValue) => filterValue ? [{\n  category: 'Name',\n  key: 'name',\n  chips: [{ name: filterValue, value: filterValue }]\n}] : [];\n\nconst initialState = (filterValue = '') => ({\n  filterValue,\n  isOpen: false,\n  isFetching: true,\n  isFiltering: false\n});\n\nconst workflowsListState = (state, action) => {\n  switch (action.type) {\n    case 'setFetching':\n      return { ...state, isFetching: action.payload };\n    case 'setFilterValue':\n      return { ...state, filterValue: action.payload };\n    case 'setFilteringFlag':\n      return { ...state, isFiltering: action.payload };\n    default:\n      return state;\n  }\n};\n\nconst Workflows = () => {\n  const [ selectedWorkflows, setSelectedWorkflows ] = useState([]);\n  const { workflows: { data, meta }, sortBy, filterValueRedux } = useSelector(\n    ({ workflowReducer: { workflows, sortBy, filterValue: filterValueRedux }}) => ({ workflows, sortBy, filterValueRedux })\n    , shallowEqual\n  );\n  const [{ filterValue, isFetching, isFiltering }, stateDispatch ] = useReducer(\n    workflowsListState,\n    initialState(filterValueRedux)\n  );\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const updateWorkflows = (pagination) => {\n    stateDispatch({ type: 'setFetching', payload: true });\n    return dispatch(fetchWorkflows(pagination))\n    .then(() => stateDispatch({ type: 'setFetching', payload: false }))\n    .catch(() => stateDispatch({ type: 'setFetching', payload: false }));\n  };\n\n  useEffect(() => {\n    updateWorkflows(defaultSettings);\n    scrollToTop();\n  }, []);\n\n  const handleFilterChange = (value) => {\n    stateDispatch({ type: 'setFilterValue', payload: value });\n    debouncedFilter(\n      value,\n      dispatch,\n      (isFiltering) => stateDispatch({ type: 'setFilteringFlag', payload: isFiltering }),\n      { ...meta, offset: 0 }\n    );\n  };\n\n  const onSort = (_e, index, direction, { property }) => {\n    dispatch(sortWorkflows({ index, direction, property }));\n    return updateWorkflows();\n  };\n\n  const routes = () => <Fragment>\n    <Route exact path={ routesLinks.workflows.add } render={ props => <AddWorkflow { ...props }\n      postMethod={ updateWorkflows } /> }/>\n    <Route exact path={ routesLinks.workflows.editInfo } render={ props => <EditWorkflowInfo editType='info' { ...props }\n      postMethod={ updateWorkflows } /> }/>\n    <Route exact path={ routesLinks.workflows.editGroups } render={ props => <EditWorkflowGroups editType='groups' { ...props }\n      postMethod={ updateWorkflows } /> }/>\n    <Route exact path={ routesLinks.workflows.editSequence } render={ props => <EditWorkflowInfo editType='sequence' { ...props }\n      postMethod={ updateWorkflows } /> }/>\n    <Route exact path={ routesLinks.workflows.remove }\n      render={ props => <RemoveWorkflow\n        { ...props }\n        ids={ selectedWorkflows }\n        fetchData={ updateWorkflows }\n        setSelectedWorkflows={ setSelectedWorkflows }\n      /> }\n    />\n  </Fragment>;\n\n  const actionResolver = (_workflowData, { rowIndex }) => rowIndex % 2 === 1 ?\n    null\n    : [\n      {\n        title: 'Edit info',\n        component: 'button',\n        onClick: (_event, _rowId, workflow) =>\n          history.push({ pathname: routesLinks.workflows.editInfo, search: `?workflow=${workflow.id}` })\n      },\n\n      {\n        title: 'Edit groups',\n        component: 'button',\n        onClick: (_event, _rowId, workflow) =>\n          history.push({ pathname: routesLinks.workflows.editGroups, search: `?workflow=${workflow.id}` })\n      },\n      {\n        title: 'Edit sequence',\n        component: 'button',\n        onClick: (_event, _rowId, workflow) =>\n          history.push({ pathname: routesLinks.workflows.editSequence, search: `?workflow=${workflow.id}` })\n      },\n      {\n        title: 'Delete',\n        component: 'button',\n        onClick: (_event, _rowId, workflow) =>\n          history.push({ pathname: routesLinks.workflows.remove, search: `?workflow=${workflow.id}` })\n      }\n    ];\n\n  const setCheckedItems = (checkedWorkflows) =>\n    setSelectedWorkflows(checkedWorkflows.map(wf => wf.id));\n\n  const anyWorkflowsSelected = selectedWorkflows.length > 0;\n\n  const toolbarButtons = () => <ToolbarGroup className={ `pf-u-pl-lg top-toolbar` }>\n    <ToolbarItem>\n      <Link id=\"add-workflow-link\" to={ { pathname: routesLinks.workflows.add } }>\n        <Button\n          variant=\"primary\"\n          aria-label=\"Create approval process\"\n        >\n          Create approval process\n        </Button>\n      </Link>\n    </ToolbarItem>\n    <ToolbarItem>\n      <Link\n        id=\"remove-multiple-workflows\"\n        className={ anyWorkflowsSelected ? '' : 'disabled-link' }\n        to={ { pathname: routesLinks.workflows.remove } }\n      >\n        <Button\n          variant=\"link\"\n          isDisabled={ !anyWorkflowsSelected }\n          style={ { color: anyWorkflowsSelected ? 'var(--pf-global--danger-color--100)' : 'var(--pf-global--disabled-color--100)'\t} }\n          aria-label=\"Delete approval process\"\n        >\n          Delete\n        </Button>\n      </Link>\n    </ToolbarItem>\n  </ToolbarGroup>;\n\n  const onCollapse = (id, setRows, setOpen) => {\n    dispatch(expandWorkflow(id));\n    setRows((rows) => setOpen(rows, id));\n  };\n\n  return (\n    <Fragment>\n      <TopToolbar>\n        <TopToolbarTitle title=\"Approval\"/>\n        <AppTabs/>\n      </TopToolbar>\n      <TableToolbarView\n        sortBy={ sortBy }\n        onSort={ onSort }\n        data={ data }\n        isSelectable={ true }\n        createRows={ createRows }\n        columns={ columns }\n        fetchData={ updateWorkflows }\n        routes={ routes }\n        actionResolver={ actionResolver }\n        titlePlural=\"approval processes\"\n        titleSingular=\"approval process\"\n        pagination={ meta }\n        setCheckedItems={ setCheckedItems }\n        toolbarButtons={ toolbarButtons }\n        filterValue={ filterValue }\n        onFilterChange={ handleFilterChange }\n        isLoading={ isFetching || isFiltering }\n        onCollapse={ onCollapse }\n        renderEmptyState={ () => (\n          <TableEmptyState\n            title={ filterValue === '' ? 'No approval processes' : 'No results found' }\n            Icon={ SearchIcon }\n            PrimaryAction={ () =>\n              filterValue !== '' ? (\n                <Button onClick={ () => handleFilterChange('') } variant=\"link\">\n                  Clear all filters\n                </Button>\n              ) : null\n            }\n            description={\n              filterValue === ''\n                ? 'No approval processes.'\n                : 'No results match the filter criteria. Remove all filters or clear all filters to show results.'\n            }\n          />\n        ) }\n        activeFiltersConfig={ {\n          filters: prepareChips(filterValue),\n          onDelete: () => handleFilterChange('')\n        } }\n      />\n    </Fragment>\n  );\n};\n\nexport default Workflows;\n"],"sourceRoot":""}